(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();function yv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var wo={exports:{}},cs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function bv(){if(If)return cs;If=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:s,type:r,key:f,ref:c!==void 0?c:null,props:d}}return cs.Fragment=n,cs.jsx=l,cs.jsxs=l,cs}var Pf;function _v(){return Pf||(Pf=1,wo.exports=bv()),wo.exports}var v=_v(),So={exports:{}},ds={},xo={exports:{}},Eo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf;function wv(){return Wf||(Wf=1,(function(s){function n(C,Y){var te=C.length;C.push(Y);e:for(;0<te;){var G=te-1>>>1,W=C[G];if(0<c(W,Y))C[G]=Y,C[te]=W,te=G;else break e}}function l(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var Y=C[0],te=C.pop();if(te!==Y){C[0]=te;e:for(var G=0,W=C.length,w=W>>>1;G<w;){var D=2*(G+1)-1,H=C[D],K=D+1,I=C[K];if(0>c(H,te))K<W&&0>c(I,H)?(C[G]=I,C[K]=te,G=K):(C[G]=H,C[D]=te,G=D);else if(K<W&&0>c(I,te))C[G]=I,C[K]=te,G=K;else break e}}return Y}function c(C,Y){var te=C.sortIndex-Y.sortIndex;return te!==0?te:C.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var g=[],p=[],b=1,x=null,A=3,T=!1,k=!1,B=!1,L=!1,V=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function X(C){for(var Y=l(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=C)r(p),Y.sortIndex=Y.expirationTime,n(g,Y);else break;Y=l(p)}}function oe(C){if(B=!1,X(C),!k)if(l(g)!==null)k=!0,ie||(ie=!0,nt());else{var Y=l(p);Y!==null&&gt(oe,Y.startTime-C)}}var ie=!1,Q=-1,_e=5,je=-1;function Ft(){return L?!0:!(s.unstable_now()-je<_e)}function mt(){if(L=!1,ie){var C=s.unstable_now();je=C;var Y=!0;try{e:{k=!1,B&&(B=!1,q(Q),Q=-1),T=!0;var te=A;try{t:{for(X(C),x=l(g);x!==null&&!(x.expirationTime>C&&Ft());){var G=x.callback;if(typeof G=="function"){x.callback=null,A=x.priorityLevel;var W=G(x.expirationTime<=C);if(C=s.unstable_now(),typeof W=="function"){x.callback=W,X(C),Y=!0;break t}x===l(g)&&r(g),X(C)}else r(g);x=l(g)}if(x!==null)Y=!0;else{var w=l(p);w!==null&&gt(oe,w.startTime-C),Y=!1}}break e}finally{x=null,A=te,T=!1}Y=void 0}}finally{Y?nt():ie=!1}}}var nt;if(typeof $=="function")nt=function(){$(mt)};else if(typeof MessageChannel<"u"){var Ht=new MessageChannel,st=Ht.port2;Ht.port1.onmessage=mt,nt=function(){st.postMessage(null)}}else nt=function(){V(mt,0)};function gt(C,Y){Q=V(function(){C(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(C){C.callback=null},s.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<C?Math.floor(1e3/C):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(C){switch(A){case 1:case 2:case 3:var Y=3;break;default:Y=A}var te=A;A=Y;try{return C()}finally{A=te}},s.unstable_requestPaint=function(){L=!0},s.unstable_runWithPriority=function(C,Y){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var te=A;A=C;try{return Y()}finally{A=te}},s.unstable_scheduleCallback=function(C,Y,te){var G=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?G+te:G):te=G,C){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=te+W,C={id:b++,callback:Y,priorityLevel:C,startTime:te,expirationTime:W,sortIndex:-1},te>G?(C.sortIndex=te,n(p,C),l(g)===null&&C===l(p)&&(B?(q(Q),Q=-1):B=!0,gt(oe,te-G))):(C.sortIndex=W,n(g,C),k||T||(k=!0,ie||(ie=!0,nt()))),C},s.unstable_shouldYield=Ft,s.unstable_wrapCallback=function(C){var Y=A;return function(){var te=A;A=Y;try{return C.apply(this,arguments)}finally{A=te}}}})(Eo)),Eo}var Ff;function Sv(){return Ff||(Ff=1,xo.exports=wv()),xo.exports}var To={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function xv(){if(e0)return se;e0=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),A=Symbol.iterator;function T(w){return w===null||typeof w!="object"?null:(w=A&&w[A]||w["@@iterator"],typeof w=="function"?w:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,L={};function V(w,D,H){this.props=w,this.context=D,this.refs=L,this.updater=H||k}V.prototype.isReactComponent={},V.prototype.setState=function(w,D){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,D,"setState")},V.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function q(){}q.prototype=V.prototype;function $(w,D,H){this.props=w,this.context=D,this.refs=L,this.updater=H||k}var X=$.prototype=new q;X.constructor=$,B(X,V.prototype),X.isPureReactComponent=!0;var oe=Array.isArray;function ie(){}var Q={H:null,A:null,T:null,S:null},_e=Object.prototype.hasOwnProperty;function je(w,D,H){var K=H.ref;return{$$typeof:s,type:w,key:D,ref:K!==void 0?K:null,props:H}}function Ft(w,D){return je(w.type,D,w.props)}function mt(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function nt(w){var D={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(H){return D[H]})}var Ht=/\/+/g;function st(w,D){return typeof w=="object"&&w!==null&&w.key!=null?nt(""+w.key):D.toString(36)}function gt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ie,ie):(w.status="pending",w.then(function(D){w.status==="pending"&&(w.status="fulfilled",w.value=D)},function(D){w.status==="pending"&&(w.status="rejected",w.reason=D)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function C(w,D,H,K,I){var ue=typeof w;(ue==="undefined"||ue==="boolean")&&(w=null);var ve=!1;if(w===null)ve=!0;else switch(ue){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(w.$$typeof){case s:case n:ve=!0;break;case b:return ve=w._init,C(ve(w._payload),D,H,K,I)}}if(ve)return I=I(w),ve=K===""?"."+st(w,0):K,oe(I)?(H="",ve!=null&&(H=ve.replace(Ht,"$&/")+"/"),C(I,D,H,"",function(Ja){return Ja})):I!=null&&(mt(I)&&(I=Ft(I,H+(I.key==null||w&&w.key===I.key?"":(""+I.key).replace(Ht,"$&/")+"/")+ve)),D.push(I)),1;ve=0;var Je=K===""?".":K+":";if(oe(w))for(var Ce=0;Ce<w.length;Ce++)K=w[Ce],ue=Je+st(K,Ce),ve+=C(K,D,H,ue,I);else if(Ce=T(w),typeof Ce=="function")for(w=Ce.call(w),Ce=0;!(K=w.next()).done;)K=K.value,ue=Je+st(K,Ce++),ve+=C(K,D,H,ue,I);else if(ue==="object"){if(typeof w.then=="function")return C(gt(w),D,H,K,I);throw D=String(w),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Y(w,D,H){if(w==null)return w;var K=[],I=0;return C(w,K,"","",function(ue){return D.call(H,ue,I++)}),K}function te(w){if(w._status===-1){var D=w._result;D=D(),D.then(function(H){(w._status===0||w._status===-1)&&(w._status=1,w._result=H)},function(H){(w._status===0||w._status===-1)&&(w._status=2,w._result=H)}),w._status===-1&&(w._status=0,w._result=D)}if(w._status===1)return w._result.default;throw w._result}var G=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},W={map:Y,forEach:function(w,D,H){Y(w,function(){D.apply(this,arguments)},H)},count:function(w){var D=0;return Y(w,function(){D++}),D},toArray:function(w){return Y(w,function(D){return D})||[]},only:function(w){if(!mt(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return se.Activity=x,se.Children=W,se.Component=V,se.Fragment=l,se.Profiler=c,se.PureComponent=$,se.StrictMode=r,se.Suspense=g,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,se.__COMPILER_RUNTIME={__proto__:null,c:function(w){return Q.H.useMemoCache(w)}},se.cache=function(w){return function(){return w.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(w,D,H){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var K=B({},w.props),I=w.key;if(D!=null)for(ue in D.key!==void 0&&(I=""+D.key),D)!_e.call(D,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&D.ref===void 0||(K[ue]=D[ue]);var ue=arguments.length-2;if(ue===1)K.children=H;else if(1<ue){for(var ve=Array(ue),Je=0;Je<ue;Je++)ve[Je]=arguments[Je+2];K.children=ve}return je(w.type,I,K)},se.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:d,_context:w},w},se.createElement=function(w,D,H){var K,I={},ue=null;if(D!=null)for(K in D.key!==void 0&&(ue=""+D.key),D)_e.call(D,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(I[K]=D[K]);var ve=arguments.length-2;if(ve===1)I.children=H;else if(1<ve){for(var Je=Array(ve),Ce=0;Ce<ve;Ce++)Je[Ce]=arguments[Ce+2];I.children=Je}if(w&&w.defaultProps)for(K in ve=w.defaultProps,ve)I[K]===void 0&&(I[K]=ve[K]);return je(w,ue,I)},se.createRef=function(){return{current:null}},se.forwardRef=function(w){return{$$typeof:m,render:w}},se.isValidElement=mt,se.lazy=function(w){return{$$typeof:b,_payload:{_status:-1,_result:w},_init:te}},se.memo=function(w,D){return{$$typeof:p,type:w,compare:D===void 0?null:D}},se.startTransition=function(w){var D=Q.T,H={};Q.T=H;try{var K=w(),I=Q.S;I!==null&&I(H,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ie,G)}catch(ue){G(ue)}finally{D!==null&&H.types!==null&&(D.types=H.types),Q.T=D}},se.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},se.use=function(w){return Q.H.use(w)},se.useActionState=function(w,D,H){return Q.H.useActionState(w,D,H)},se.useCallback=function(w,D){return Q.H.useCallback(w,D)},se.useContext=function(w){return Q.H.useContext(w)},se.useDebugValue=function(){},se.useDeferredValue=function(w,D){return Q.H.useDeferredValue(w,D)},se.useEffect=function(w,D){return Q.H.useEffect(w,D)},se.useEffectEvent=function(w){return Q.H.useEffectEvent(w)},se.useId=function(){return Q.H.useId()},se.useImperativeHandle=function(w,D,H){return Q.H.useImperativeHandle(w,D,H)},se.useInsertionEffect=function(w,D){return Q.H.useInsertionEffect(w,D)},se.useLayoutEffect=function(w,D){return Q.H.useLayoutEffect(w,D)},se.useMemo=function(w,D){return Q.H.useMemo(w,D)},se.useOptimistic=function(w,D){return Q.H.useOptimistic(w,D)},se.useReducer=function(w,D,H){return Q.H.useReducer(w,D,H)},se.useRef=function(w){return Q.H.useRef(w)},se.useState=function(w){return Q.H.useState(w)},se.useSyncExternalStore=function(w,D,H){return Q.H.useSyncExternalStore(w,D,H)},se.useTransition=function(){return Q.H.useTransition()},se.version="19.2.4",se}var t0;function Qo(){return t0||(t0=1,To.exports=xv()),To.exports}var Ao={exports:{}},it={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function Ev(){if(a0)return it;a0=1;var s=Qo();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,p,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:g,containerInfo:p,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,it.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return d(g,p,null,b)},it.flushSync=function(g){var p=f.T,b=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=p,r.p=b,r.d.f()}},it.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},it.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},it.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,x=m(b,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:A,fetchPriority:T}):b==="script"&&r.d.X(g,{crossOrigin:x,integrity:A,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},it.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},it.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,x=m(b,p.crossOrigin);r.d.L(g,b,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},it.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},it.requestFormReset=function(g){r.d.r(g)},it.unstable_batchedUpdates=function(g,p){return g(p)},it.useFormState=function(g,p,b){return f.H.useFormState(g,p,b)},it.useFormStatus=function(){return f.H.useHostTransitionStatus()},it.version="19.2.4",it}var n0;function Tv(){if(n0)return Ao.exports;n0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Ao.exports=Ev(),Ao.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function Av(){if(i0)return ds;i0=1;var s=Sv(),n=Qo(),l=Tv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,i=t;;){var u=a.return;if(u===null)break;var o=u.alternate;if(o===null){if(i=u.return,i!==null){a=i;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===a)return g(u),e;if(o===i)return g(u),t;o=o.sibling}throw Error(r(188))}if(a.return!==i.return)a=u,i=o;else{for(var h=!1,y=u.child;y;){if(y===a){h=!0,a=u,i=o;break}if(y===i){h=!0,i=u,a=o;break}y=y.sibling}if(!h){for(y=o.child;y;){if(y===a){h=!0,a=o,i=u;break}if(y===i){h=!0,i=o,a=u;break}y=y.sibling}if(!h)throw Error(r(189))}}if(a.alternate!==i)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,A=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),$=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),je=Symbol.for("react.activity"),Ft=Symbol.for("react.memo_cache_sentinel"),mt=Symbol.iterator;function nt(e){return e===null||typeof e!="object"?null:(e=mt&&e[mt]||e["@@iterator"],typeof e=="function"?e:null)}var Ht=Symbol.for("react.client.reference");function st(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ht?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case V:return"Profiler";case L:return"StrictMode";case oe:return"Suspense";case ie:return"SuspenseList";case je:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case $:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:st(e.type)||"Memo";case _e:t=e._payload,e=e._init;try{return st(e(t))}catch{}}return null}var gt=Array.isArray,C=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},G=[],W=-1;function w(e){return{current:e}}function D(e){0>W||(e.current=G[W],G[W]=null,W--)}function H(e,t){W++,G[W]=e.current,e.current=t}var K=w(null),I=w(null),ue=w(null),ve=w(null);function Je(e,t){switch(H(ue,t),H(I,e),H(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=bf(t),e=_f(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(K),H(K,e)}function Ce(){D(K),D(I),D(ue)}function Ja(e){e.memoizedState!==null&&H(ve,e);var t=K.current,a=_f(t,e.type);t!==a&&(H(I,e),H(K,a))}function _n(e){I.current===e&&(D(K),D(I)),ve.current===e&&(D(ve),ls._currentValue=te)}var jt,_a;function Gt(e){if(jt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);jt=t&&t[1]||"",_a=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jt+e+_a}var wn=!1;function ir(e,t){if(!e||wn)return"";wn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var M=function(){throw Error()};if(Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(R){var N=R}Reflect.construct(e,[],M)}else{try{M.call()}catch(R){N=R}e.call(M.prototype)}}else{try{throw Error()}catch(R){N=R}(M=e())&&typeof M.catch=="function"&&M.catch(function(){})}}catch(R){if(R&&N&&typeof R.stack=="string")return[R.stack,N.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),h=o[0],y=o[1];if(h&&y){var _=h.split(`
`),j=y.split(`
`);for(u=i=0;i<_.length&&!_[i].includes("DetermineComponentFrameRoot");)i++;for(;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;if(i===_.length||u===j.length)for(i=_.length-1,u=j.length-1;1<=i&&0<=u&&_[i]!==j[u];)u--;for(;1<=i&&0<=u;i--,u--)if(_[i]!==j[u]){if(i!==1||u!==1)do if(i--,u--,0>u||_[i]!==j[u]){var U=`
`+_[i].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=i&&0<=u);break}}}finally{wn=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Gt(a):""}function Z0(e,t){switch(e.tag){case 26:case 27:case 5:return Gt(e.type);case 16:return Gt("Lazy");case 13:return e.child!==t&&t!==null?Gt("Suspense Fallback"):Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return ir(e.type,!1);case 11:return ir(e.type.render,!1);case 1:return ir(e.type,!0);case 31:return Gt("Activity");default:return""}}function Zo(e){try{var t="",a=null;do t+=Z0(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var sr=Object.prototype.hasOwnProperty,lr=s.unstable_scheduleCallback,rr=s.unstable_cancelCallback,I0=s.unstable_shouldYield,P0=s.unstable_requestPaint,vt=s.unstable_now,W0=s.unstable_getCurrentPriorityLevel,Io=s.unstable_ImmediatePriority,Po=s.unstable_UserBlockingPriority,As=s.unstable_NormalPriority,F0=s.unstable_LowPriority,Wo=s.unstable_IdlePriority,em=s.log,tm=s.unstable_setDisableYieldValue,yi=null,pt=null;function wa(e){if(typeof em=="function"&&tm(e),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(yi,e)}catch{}}var yt=Math.clz32?Math.clz32:im,am=Math.log,nm=Math.LN2;function im(e){return e>>>=0,e===0?32:31-(am(e)/nm|0)|0}var Os=256,js=262144,Ns=4194304;function Za(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Rs(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var u=0,o=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~o,i!==0?u=Za(i):(h&=y,h!==0?u=Za(h):a||(a=y&~e,a!==0&&(u=Za(a))))):(y=i&~o,y!==0?u=Za(y):h!==0?u=Za(h):a||(a=i&~e,a!==0&&(u=Za(a)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,a=t&-t,o>=a||o===32&&(a&4194048)!==0)?t:u}function bi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function sm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fo(){var e=Ns;return Ns<<=1,(Ns&62914560)===0&&(Ns=4194304),e}function ur(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function _i(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lm(e,t,a,i,u,o){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,_=e.expirationTimes,j=e.hiddenUpdates;for(a=h&~a;0<a;){var U=31-yt(a),M=1<<U;y[U]=0,_[U]=-1;var N=j[U];if(N!==null)for(j[U]=null,U=0;U<N.length;U++){var R=N[U];R!==null&&(R.lane&=-536870913)}a&=~M}i!==0&&ec(e,i,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(h&~t))}function ec(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-yt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function tc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-yt(a),u=1<<i;u&t|e[i]&t&&(e[i]|=t),a&=~u}}function ac(e,t){var a=t&-t;return a=(a&42)!==0?1:or(a),(a&(e.suspendedLanes|t))!==0?0:a}function or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nc(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Vf(e.type))}function ic(e,t){var a=Y.p;try{return Y.p=e,t()}finally{Y.p=a}}var Sa=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Sa,rt="__reactProps$"+Sa,Sn="__reactContainer$"+Sa,dr="__reactEvents$"+Sa,rm="__reactListeners$"+Sa,um="__reactHandles$"+Sa,sc="__reactResources$"+Sa,wi="__reactMarker$"+Sa;function hr(e){delete e[Ze],delete e[rt],delete e[dr],delete e[rm],delete e[um]}function xn(e){var t=e[Ze];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Sn]||a[Ze]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Of(e);e!==null;){if(a=e[Ze])return a;e=Of(e)}return t}e=a,a=e.parentNode}return null}function En(e){if(e=e[Ze]||e[Sn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Si(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Tn(e){var t=e[sc];return t||(t=e[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[wi]=!0}var lc=new Set,rc={};function Ia(e,t){An(e,t),An(e+"Capture",t)}function An(e,t){for(rc[e]=t,e=0;e<t.length;e++)lc.add(t[e])}var om=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uc={},oc={};function cm(e){return sr.call(oc,e)?!0:sr.call(uc,e)?!1:om.test(e)?oc[e]=!0:(uc[e]=!0,!1)}function ks(e,t,a){if(cm(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Cs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ea(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dm(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(h){a=""+h,o.call(this,h)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fr(e){if(!e._valueTracker){var t=cc(e)?"checked":"value";e._valueTracker=dm(e,t,""+e[t])}}function dc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=cc(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hm=/[\n"\\]/g;function Rt(e){return e.replace(hm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function mr(e,t,a,i,u,o,h,y){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Nt(t)):e.value!==""+Nt(t)&&(e.value=""+Nt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?gr(e,h,Nt(t)):a!=null?gr(e,h,Nt(a)):i!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Nt(y):e.removeAttribute("name")}function hc(e,t,a,i,u,o,h,y){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||a!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){fr(e);return}a=a!=null?""+Nt(a):"",t=t!=null?""+Nt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),fr(e)}function gr(e,t,a){t==="number"&&Us(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function On(e,t,a,i){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Nt(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function fc(e,t,a){if(t!=null&&(t=""+Nt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Nt(a):""}function mc(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(r(92));if(gt(i)){if(1<i.length)throw Error(r(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Nt(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),fr(e)}function jn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var fm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gc(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||fm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function vc(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&a[u]!==i&&gc(e,u,i)}else for(var o in t)t.hasOwnProperty(o)&&gc(e,o,t[o])}function vr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(e){return gm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ta(){}var pr=null;function yr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nn=null,Rn=null;function pc(e){var t=En(e);if(t&&(e=t.stateNode)){var a=e[rt]||null;e:switch(e=t.stateNode,t.type){case"input":if(mr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var u=i[rt]||null;if(!u)throw Error(r(90));mr(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&dc(i)}break e;case"textarea":fc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&On(e,!!a.multiple,t,!1)}}}var br=!1;function yc(e,t,a){if(br)return e(t,a);br=!0;try{var i=e(t);return i}finally{if(br=!1,(Nn!==null||Rn!==null)&&(wl(),Nn&&(t=Nn,e=Rn,Rn=Nn=null,pc(t),e)))for(t=0;t<e.length;t++)pc(e[t])}}function xi(e,t){var a=e.stateNode;if(a===null)return null;var i=a[rt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(aa)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){_r=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{_r=!1}var xa=null,wr=null,zs=null;function bc(){if(zs)return zs;var e,t=wr,a=t.length,i,u="value"in xa?xa.value:xa.textContent,o=u.length;for(e=0;e<a&&t[e]===u[e];e++);var h=a-e;for(i=1;i<=h&&t[a-i]===u[o-i];i++);return zs=u.slice(e,1<i?1-i:void 0)}function Ms(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ls(){return!0}function _c(){return!1}function ut(e){function t(a,i,u,o,h){this._reactName=a,this._targetInst=u,this.type=i,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(o):o[y]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ls:_c,this.isPropagationStopped=_c,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),t}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=ut(Pa),Ti=x({},Pa,{view:0,detail:0}),vm=ut(Ti),Sr,xr,Ai,qs=x({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(Sr=e.screenX-Ai.screenX,xr=e.screenY-Ai.screenY):xr=Sr=0,Ai=e),Sr)},movementY:function(e){return"movementY"in e?e.movementY:xr}}),wc=ut(qs),pm=x({},qs,{dataTransfer:0}),ym=ut(pm),bm=x({},Ti,{relatedTarget:0}),Er=ut(bm),_m=x({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),wm=ut(_m),Sm=x({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xm=ut(Sm),Em=x({},Pa,{data:0}),Sc=ut(Em),Tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Om[e])?!!t[e]:!1}function Tr(){return jm}var Nm=x({},Ti,{key:function(e){if(e.key){var t=Tm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Am[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(e){return e.type==="keypress"?Ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rm=ut(Nm),km=x({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xc=ut(km),Cm=x({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),Um=ut(Cm),Dm=x({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),zm=ut(Dm),Mm=x({},qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lm=ut(Mm),Bm=x({},Pa,{newState:0,oldState:0}),qm=ut(Bm),Hm=[9,13,27,32],Ar=aa&&"CompositionEvent"in window,Oi=null;aa&&"documentMode"in document&&(Oi=document.documentMode);var Gm=aa&&"TextEvent"in window&&!Oi,Ec=aa&&(!Ar||Oi&&8<Oi&&11>=Oi),Tc=" ",Ac=!1;function Oc(e,t){switch(e){case"keyup":return Hm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kn=!1;function $m(e,t){switch(e){case"compositionend":return jc(t);case"keypress":return t.which!==32?null:(Ac=!0,Tc);case"textInput":return e=t.data,e===Tc&&Ac?null:e;default:return null}}function Vm(e,t){if(kn)return e==="compositionend"||!Ar&&Oc(e,t)?(e=bc(),zs=wr=xa=null,kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ec&&t.locale!=="ko"?null:t.data;default:return null}}var Ym={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ym[e.type]:t==="textarea"}function Rc(e,t,a,i){Nn?Rn?Rn.push(i):Rn=[i]:Nn=i,t=jl(t,"onChange"),0<t.length&&(a=new Bs("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var ji=null,Ni=null;function Km(e){ff(e,0)}function Hs(e){var t=Si(e);if(dc(t))return e}function kc(e,t){if(e==="change")return t}var Cc=!1;if(aa){var Or;if(aa){var jr="oninput"in document;if(!jr){var Uc=document.createElement("div");Uc.setAttribute("oninput","return;"),jr=typeof Uc.oninput=="function"}Or=jr}else Or=!1;Cc=Or&&(!document.documentMode||9<document.documentMode)}function Dc(){ji&&(ji.detachEvent("onpropertychange",zc),Ni=ji=null)}function zc(e){if(e.propertyName==="value"&&Hs(Ni)){var t=[];Rc(t,Ni,e,yr(e)),yc(Km,t)}}function Qm(e,t,a){e==="focusin"?(Dc(),ji=t,Ni=a,ji.attachEvent("onpropertychange",zc)):e==="focusout"&&Dc()}function Xm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hs(Ni)}function Jm(e,t){if(e==="click")return Hs(t)}function Zm(e,t){if(e==="input"||e==="change")return Hs(t)}function Im(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:Im;function Ri(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var u=a[i];if(!sr.call(t,u)||!bt(e[u],t[u]))return!1}return!0}function Mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lc(e,t){var a=Mc(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Mc(a)}}function Bc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Us(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Us(e.document)}return t}function Nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Pm=aa&&"documentMode"in document&&11>=document.documentMode,Cn=null,Rr=null,ki=null,kr=!1;function Hc(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kr||Cn==null||Cn!==Us(i)||(i=Cn,"selectionStart"in i&&Nr(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ki&&Ri(ki,i)||(ki=i,i=jl(Rr,"onSelect"),0<i.length&&(t=new Bs("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Cn)))}function Wa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Un={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Cr={},Gc={};aa&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function Fa(e){if(Cr[e])return Cr[e];if(!Un[e])return e;var t=Un[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Gc)return Cr[e]=t[a];return e}var $c=Fa("animationend"),Vc=Fa("animationiteration"),Yc=Fa("animationstart"),Wm=Fa("transitionrun"),Fm=Fa("transitionstart"),eg=Fa("transitioncancel"),Kc=Fa("transitionend"),Qc=new Map,Ur="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ur.push("scrollEnd");function $t(e,t){Qc.set(e,t),Ia(t,[e])}var Gs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kt=[],Dn=0,Dr=0;function $s(){for(var e=Dn,t=Dr=Dn=0;t<e;){var a=kt[t];kt[t++]=null;var i=kt[t];kt[t++]=null;var u=kt[t];kt[t++]=null;var o=kt[t];if(kt[t++]=null,i!==null&&u!==null){var h=i.pending;h===null?u.next=u:(u.next=h.next,h.next=u),i.pending=u}o!==0&&Xc(a,u,o)}}function Vs(e,t,a,i){kt[Dn++]=e,kt[Dn++]=t,kt[Dn++]=a,kt[Dn++]=i,Dr|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function zr(e,t,a,i){return Vs(e,t,a,i),Ys(e)}function en(e,t){return Vs(e,null,null,t),Ys(e)}function Xc(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var u=!1,o=e.return;o!==null;)o.childLanes|=a,i=o.alternate,i!==null&&(i.childLanes|=a),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-yt(a),e=o.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=a|536870912),o):null}function Ys(e){if(50<Fi)throw Fi=0,Yu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var zn={};function tg(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,a,i){return new tg(e,t,a,i)}function Mr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function na(e,t){var a=e.alternate;return a===null?(a=_t(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Jc(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ks(e,t,a,i,u,o){var h=0;if(i=e,typeof e=="function")Mr(e)&&(h=1);else if(typeof e=="string")h=lv(e,a,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case je:return e=_t(31,a,t,u),e.elementType=je,e.lanes=o,e;case B:return tn(a.children,u,o,t);case L:h=8,u|=24;break;case V:return e=_t(12,a,t,u|2),e.elementType=V,e.lanes=o,e;case oe:return e=_t(13,a,t,u),e.elementType=oe,e.lanes=o,e;case ie:return e=_t(19,a,t,u),e.elementType=ie,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:h=10;break e;case q:h=9;break e;case X:h=11;break e;case Q:h=14;break e;case _e:h=16,i=null;break e}h=29,a=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=_t(h,a,t,u),t.elementType=e,t.type=i,t.lanes=o,t}function tn(e,t,a,i){return e=_t(7,e,i,t),e.lanes=a,e}function Lr(e,t,a){return e=_t(6,e,null,t),e.lanes=a,e}function Zc(e){var t=_t(18,null,null,0);return t.stateNode=e,t}function Br(e,t,a){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ic=new WeakMap;function Ct(e,t){if(typeof e=="object"&&e!==null){var a=Ic.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Zo(t)},Ic.set(e,t),t)}return{value:e,source:t,stack:Zo(t)}}var Mn=[],Ln=0,Qs=null,Ci=0,Ut=[],Dt=0,Ea=null,Zt=1,It="";function ia(e,t){Mn[Ln++]=Ci,Mn[Ln++]=Qs,Qs=e,Ci=t}function Pc(e,t,a){Ut[Dt++]=Zt,Ut[Dt++]=It,Ut[Dt++]=Ea,Ea=e;var i=Zt;e=It;var u=32-yt(i)-1;i&=~(1<<u),a+=1;var o=32-yt(t)+u;if(30<o){var h=u-u%5;o=(i&(1<<h)-1).toString(32),i>>=h,u-=h,Zt=1<<32-yt(t)+u|a<<u|i,It=o+e}else Zt=1<<o|a<<u|i,It=e}function qr(e){e.return!==null&&(ia(e,1),Pc(e,1,0))}function Hr(e){for(;e===Qs;)Qs=Mn[--Ln],Mn[Ln]=null,Ci=Mn[--Ln],Mn[Ln]=null;for(;e===Ea;)Ea=Ut[--Dt],Ut[Dt]=null,It=Ut[--Dt],Ut[Dt]=null,Zt=Ut[--Dt],Ut[Dt]=null}function Wc(e,t){Ut[Dt++]=Zt,Ut[Dt++]=It,Ut[Dt++]=Ea,Zt=t.id,It=t.overflow,Ea=e}var Ie=null,Ne=null,me=!1,Ta=null,zt=!1,Gr=Error(r(519));function Aa(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ui(Ct(t,e)),Gr}function Fc(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[Ze]=e,t[rt]=i,a){case"dialog":de("cancel",t),de("close",t);break;case"iframe":case"object":case"embed":de("load",t);break;case"video":case"audio":for(a=0;a<ts.length;a++)de(ts[a],t);break;case"source":de("error",t);break;case"img":case"image":case"link":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"input":de("invalid",t),hc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":de("invalid",t);break;case"textarea":de("invalid",t),mc(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||pf(t.textContent,a)?(i.popover!=null&&(de("beforetoggle",t),de("toggle",t)),i.onScroll!=null&&de("scroll",t),i.onScrollEnd!=null&&de("scrollend",t),i.onClick!=null&&(t.onclick=ta),t=!0):t=!1,t||Aa(e,!0)}function ed(e){for(Ie=e.return;Ie;)switch(Ie.tag){case 5:case 31:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:Ie=Ie.return}}function Bn(e){if(e!==Ie)return!1;if(!me)return ed(e),me=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||so(e.type,e.memoizedProps)),a=!a),a&&Ne&&Aa(e),ed(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ne=Af(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ne=Af(e)}else t===27?(t=Ne,Ha(e.type)?(e=co,co=null,Ne=e):Ne=t):Ne=Ie?Lt(e.stateNode.nextSibling):null;return!0}function an(){Ne=Ie=null,me=!1}function $r(){var e=Ta;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),Ta=null),e}function Ui(e){Ta===null?Ta=[e]:Ta.push(e)}var Vr=w(null),nn=null,sa=null;function Oa(e,t,a){H(Vr,t._currentValue),t._currentValue=a}function la(e){e._currentValue=Vr.current,D(Vr)}function Yr(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function Kr(e,t,a,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var h=u.child;o=o.firstContext;e:for(;o!==null;){var y=o;o=u;for(var _=0;_<t.length;_++)if(y.context===t[_]){o.lanes|=a,y=o.alternate,y!==null&&(y.lanes|=a),Yr(o.return,a,e),i||(h=null);break e}o=y.next}}else if(u.tag===18){if(h=u.return,h===null)throw Error(r(341));h.lanes|=a,o=h.alternate,o!==null&&(o.lanes|=a),Yr(h,a,e),h=null}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===e){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}}function qn(e,t,a,i){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var h=u.alternate;if(h===null)throw Error(r(387));if(h=h.memoizedProps,h!==null){var y=u.type;bt(u.pendingProps.value,h.value)||(e!==null?e.push(y):e=[y])}}else if(u===ve.current){if(h=u.alternate,h===null)throw Error(r(387));h.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ls):e=[ls])}u=u.return}e!==null&&Kr(t,e,a,i),t.flags|=262144}function Xs(e){for(e=e.firstContext;e!==null;){if(!bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sn(e){nn=e,sa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pe(e){return td(nn,e)}function Js(e,t){return nn===null&&sn(e),td(e,t)}function td(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},sa===null){if(e===null)throw Error(r(308));sa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sa=sa.next=t;return a}var ag=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ng=s.unstable_scheduleCallback,ig=s.unstable_NormalPriority,qe={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qr(){return{controller:new ag,data:new Map,refCount:0}}function Di(e){e.refCount--,e.refCount===0&&ng(ig,function(){e.controller.abort()})}var zi=null,Xr=0,Hn=0,Gn=null;function sg(e,t){if(zi===null){var a=zi=[];Xr=0,Hn=Iu(),Gn={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Xr++,t.then(ad,ad),t}function ad(){if(--Xr===0&&zi!==null){Gn!==null&&(Gn.status="fulfilled");var e=zi;zi=null,Hn=0,Gn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function lg(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),i}var nd=C.S;C.S=function(e,t){Hh=vt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&sg(e,t),nd!==null&&nd(e,t)};var ln=w(null);function Jr(){var e=ln.current;return e!==null?e:Ae.pooledCache}function Zs(e,t){t===null?H(ln,ln.current):H(ln,t.pool)}function id(){var e=Jr();return e===null?null:{parent:qe._currentValue,pool:e}}var $n=Error(r(460)),Zr=Error(r(474)),Is=Error(r(542)),Ps={then:function(){}};function sd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ld(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ta,ta),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ud(e),e;default:if(typeof t.status=="string")t.then(ta,ta);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ud(e),e}throw un=t,$n}}function rn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(un=a,$n):a}}var un=null;function rd(){if(un===null)throw Error(r(459));var e=un;return un=null,e}function ud(e){if(e===$n||e===Is)throw Error(r(483))}var Vn=null,Mi=0;function Ws(e){var t=Mi;return Mi+=1,Vn===null&&(Vn=[]),ld(Vn,e,t)}function Li(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fs(e,t){throw t.$$typeof===A?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function od(e){function t(E,S){if(e){var O=E.deletions;O===null?(E.deletions=[S],E.flags|=16):O.push(S)}}function a(E,S){if(!e)return null;for(;S!==null;)t(E,S),S=S.sibling;return null}function i(E){for(var S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function u(E,S){return E=na(E,S),E.index=0,E.sibling=null,E}function o(E,S,O){return E.index=O,e?(O=E.alternate,O!==null?(O=O.index,O<S?(E.flags|=67108866,S):O):(E.flags|=67108866,S)):(E.flags|=1048576,S)}function h(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function y(E,S,O,z){return S===null||S.tag!==6?(S=Lr(O,E.mode,z),S.return=E,S):(S=u(S,O),S.return=E,S)}function _(E,S,O,z){var F=O.type;return F===B?U(E,S,O.props.children,z,O.key):S!==null&&(S.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===_e&&rn(F)===S.type)?(S=u(S,O.props),Li(S,O),S.return=E,S):(S=Ks(O.type,O.key,O.props,null,E.mode,z),Li(S,O),S.return=E,S)}function j(E,S,O,z){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=Br(O,E.mode,z),S.return=E,S):(S=u(S,O.children||[]),S.return=E,S)}function U(E,S,O,z,F){return S===null||S.tag!==7?(S=tn(O,E.mode,z,F),S.return=E,S):(S=u(S,O),S.return=E,S)}function M(E,S,O){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Lr(""+S,E.mode,O),S.return=E,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case T:return O=Ks(S.type,S.key,S.props,null,E.mode,O),Li(O,S),O.return=E,O;case k:return S=Br(S,E.mode,O),S.return=E,S;case _e:return S=rn(S),M(E,S,O)}if(gt(S)||nt(S))return S=tn(S,E.mode,O,null),S.return=E,S;if(typeof S.then=="function")return M(E,Ws(S),O);if(S.$$typeof===$)return M(E,Js(E,S),O);Fs(E,S)}return null}function N(E,S,O,z){var F=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return F!==null?null:y(E,S,""+O,z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case T:return O.key===F?_(E,S,O,z):null;case k:return O.key===F?j(E,S,O,z):null;case _e:return O=rn(O),N(E,S,O,z)}if(gt(O)||nt(O))return F!==null?null:U(E,S,O,z,null);if(typeof O.then=="function")return N(E,S,Ws(O),z);if(O.$$typeof===$)return N(E,S,Js(E,O),z);Fs(E,O)}return null}function R(E,S,O,z,F){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return E=E.get(O)||null,y(S,E,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return E=E.get(z.key===null?O:z.key)||null,_(S,E,z,F);case k:return E=E.get(z.key===null?O:z.key)||null,j(S,E,z,F);case _e:return z=rn(z),R(E,S,O,z,F)}if(gt(z)||nt(z))return E=E.get(O)||null,U(S,E,z,F,null);if(typeof z.then=="function")return R(E,S,O,Ws(z),F);if(z.$$typeof===$)return R(E,S,O,Js(S,z),F);Fs(S,z)}return null}function J(E,S,O,z){for(var F=null,pe=null,Z=S,re=S=0,fe=null;Z!==null&&re<O.length;re++){Z.index>re?(fe=Z,Z=null):fe=Z.sibling;var ye=N(E,Z,O[re],z);if(ye===null){Z===null&&(Z=fe);break}e&&Z&&ye.alternate===null&&t(E,Z),S=o(ye,S,re),pe===null?F=ye:pe.sibling=ye,pe=ye,Z=fe}if(re===O.length)return a(E,Z),me&&ia(E,re),F;if(Z===null){for(;re<O.length;re++)Z=M(E,O[re],z),Z!==null&&(S=o(Z,S,re),pe===null?F=Z:pe.sibling=Z,pe=Z);return me&&ia(E,re),F}for(Z=i(Z);re<O.length;re++)fe=R(Z,E,re,O[re],z),fe!==null&&(e&&fe.alternate!==null&&Z.delete(fe.key===null?re:fe.key),S=o(fe,S,re),pe===null?F=fe:pe.sibling=fe,pe=fe);return e&&Z.forEach(function(Ka){return t(E,Ka)}),me&&ia(E,re),F}function ee(E,S,O,z){if(O==null)throw Error(r(151));for(var F=null,pe=null,Z=S,re=S=0,fe=null,ye=O.next();Z!==null&&!ye.done;re++,ye=O.next()){Z.index>re?(fe=Z,Z=null):fe=Z.sibling;var Ka=N(E,Z,ye.value,z);if(Ka===null){Z===null&&(Z=fe);break}e&&Z&&Ka.alternate===null&&t(E,Z),S=o(Ka,S,re),pe===null?F=Ka:pe.sibling=Ka,pe=Ka,Z=fe}if(ye.done)return a(E,Z),me&&ia(E,re),F;if(Z===null){for(;!ye.done;re++,ye=O.next())ye=M(E,ye.value,z),ye!==null&&(S=o(ye,S,re),pe===null?F=ye:pe.sibling=ye,pe=ye);return me&&ia(E,re),F}for(Z=i(Z);!ye.done;re++,ye=O.next())ye=R(Z,E,re,ye.value,z),ye!==null&&(e&&ye.alternate!==null&&Z.delete(ye.key===null?re:ye.key),S=o(ye,S,re),pe===null?F=ye:pe.sibling=ye,pe=ye);return e&&Z.forEach(function(pv){return t(E,pv)}),me&&ia(E,re),F}function Te(E,S,O,z){if(typeof O=="object"&&O!==null&&O.type===B&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case T:e:{for(var F=O.key;S!==null;){if(S.key===F){if(F=O.type,F===B){if(S.tag===7){a(E,S.sibling),z=u(S,O.props.children),z.return=E,E=z;break e}}else if(S.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===_e&&rn(F)===S.type){a(E,S.sibling),z=u(S,O.props),Li(z,O),z.return=E,E=z;break e}a(E,S);break}else t(E,S);S=S.sibling}O.type===B?(z=tn(O.props.children,E.mode,z,O.key),z.return=E,E=z):(z=Ks(O.type,O.key,O.props,null,E.mode,z),Li(z,O),z.return=E,E=z)}return h(E);case k:e:{for(F=O.key;S!==null;){if(S.key===F)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){a(E,S.sibling),z=u(S,O.children||[]),z.return=E,E=z;break e}else{a(E,S);break}else t(E,S);S=S.sibling}z=Br(O,E.mode,z),z.return=E,E=z}return h(E);case _e:return O=rn(O),Te(E,S,O,z)}if(gt(O))return J(E,S,O,z);if(nt(O)){if(F=nt(O),typeof F!="function")throw Error(r(150));return O=F.call(O),ee(E,S,O,z)}if(typeof O.then=="function")return Te(E,S,Ws(O),z);if(O.$$typeof===$)return Te(E,S,Js(E,O),z);Fs(E,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,S!==null&&S.tag===6?(a(E,S.sibling),z=u(S,O),z.return=E,E=z):(a(E,S),z=Lr(O,E.mode,z),z.return=E,E=z),h(E)):a(E,S)}return function(E,S,O,z){try{Mi=0;var F=Te(E,S,O,z);return Vn=null,F}catch(Z){if(Z===$n||Z===Is)throw Z;var pe=_t(29,Z,null,E.mode);return pe.lanes=z,pe.return=E,pe}finally{}}}var on=od(!0),cd=od(!1),ja=!1;function Ir(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Na(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(be&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=Ys(e),Xc(e,null,a),t}return Vs(e,i,t,a),Ys(e)}function Bi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,tc(e,a)}}function Wr(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var u=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};o===null?u=o=h:o=o.next=h,a=a.next}while(a!==null);o===null?u=o=t:o=o.next=t}else u=o=t;a={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Fr=!1;function qi(){if(Fr){var e=Gn;if(e!==null)throw e}}function Hi(e,t,a,i){Fr=!1;var u=e.updateQueue;ja=!1;var o=u.firstBaseUpdate,h=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var _=y,j=_.next;_.next=null,h===null?o=j:h.next=j,h=_;var U=e.alternate;U!==null&&(U=U.updateQueue,y=U.lastBaseUpdate,y!==h&&(y===null?U.firstBaseUpdate=j:y.next=j,U.lastBaseUpdate=_))}if(o!==null){var M=u.baseState;h=0,U=j=_=null,y=o;do{var N=y.lane&-536870913,R=N!==y.lane;if(R?(he&N)===N:(i&N)===N){N!==0&&N===Hn&&(Fr=!0),U!==null&&(U=U.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var J=e,ee=y;N=t;var Te=a;switch(ee.tag){case 1:if(J=ee.payload,typeof J=="function"){M=J.call(Te,M,N);break e}M=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=ee.payload,N=typeof J=="function"?J.call(Te,M,N):J,N==null)break e;M=x({},M,N);break e;case 2:ja=!0}}N=y.callback,N!==null&&(e.flags|=64,R&&(e.flags|=8192),R=u.callbacks,R===null?u.callbacks=[N]:R.push(N))}else R={lane:N,tag:y.tag,payload:y.payload,callback:y.callback,next:null},U===null?(j=U=R,_=M):U=U.next=R,h|=N;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;R=y,y=R.next,R.next=null,u.lastBaseUpdate=R,u.shared.pending=null}}while(!0);U===null&&(_=M),u.baseState=_,u.firstBaseUpdate=j,u.lastBaseUpdate=U,o===null&&(u.shared.lanes=0),za|=h,e.lanes=h,e.memoizedState=M}}function dd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function hd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)dd(a[e],t)}var Yn=w(null),el=w(0);function fd(e,t){e=ga,H(el,e),H(Yn,t),ga=e|t.baseLanes}function eu(){H(el,ga),H(Yn,Yn.current)}function tu(){ga=el.current,D(Yn),D(el)}var wt=w(null),Mt=null;function ka(e){var t=e.alternate;H(Le,Le.current&1),H(wt,e),Mt===null&&(t===null||Yn.current!==null||t.memoizedState!==null)&&(Mt=e)}function au(e){H(Le,Le.current),H(wt,e),Mt===null&&(Mt=e)}function md(e){e.tag===22?(H(Le,Le.current),H(wt,e),Mt===null&&(Mt=e)):Ca()}function Ca(){H(Le,Le.current),H(wt,wt.current)}function St(e){D(wt),Mt===e&&(Mt=null),D(Le)}var Le=w(0);function tl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||uo(a)||oo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=0,le=null,xe=null,He=null,al=!1,Kn=!1,cn=!1,nl=0,Gi=0,Qn=null,rg=0;function Ue(){throw Error(r(321))}function nu(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!bt(e[a],t[a]))return!1;return!0}function iu(e,t,a,i,u,o){return ra=o,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?Pd:bu,cn=!1,o=a(i,u),cn=!1,Kn&&(o=vd(t,a,i,u)),gd(e),o}function gd(e){C.H=Yi;var t=xe!==null&&xe.next!==null;if(ra=0,He=xe=le=null,al=!1,Gi=0,Qn=null,t)throw Error(r(300));e===null||Ge||(e=e.dependencies,e!==null&&Xs(e)&&(Ge=!0))}function vd(e,t,a,i){le=e;var u=0;do{if(Kn&&(Qn=null),Gi=0,Kn=!1,25<=u)throw Error(r(301));if(u+=1,He=xe=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}C.H=Wd,o=t(a,i)}while(Kn);return o}function ug(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?$i(t):t,e=e.useState()[0],(xe!==null?xe.memoizedState:null)!==e&&(le.flags|=1024),t}function su(){var e=nl!==0;return nl=0,e}function lu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function ru(e){if(al){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}al=!1}ra=0,He=xe=le=null,Kn=!1,Gi=nl=0,Qn=null}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?le.memoizedState=He=e:He=He.next=e,He}function Be(){if(xe===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=He===null?le.memoizedState:He.next;if(t!==null)He=t,xe=e;else{if(e===null)throw le.alternate===null?Error(r(467)):Error(r(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},He===null?le.memoizedState=He=e:He=He.next=e}return He}function il(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $i(e){var t=Gi;return Gi+=1,Qn===null&&(Qn=[]),e=ld(Qn,e,t),t=le,(He===null?t.memoizedState:He.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?Pd:bu),e}function sl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $i(e);if(e.$$typeof===$)return Pe(e)}throw Error(r(438,String(e)))}function uu(e){var t=null,a=le.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=le.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=il(),le.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=Ft;return t.index++,a}function ua(e,t){return typeof t=="function"?t(e):t}function ll(e){var t=Be();return ou(t,xe,e)}function ou(e,t,a){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=a;var u=e.baseQueue,o=i.pending;if(o!==null){if(u!==null){var h=u.next;u.next=o.next,o.next=h}t.baseQueue=u=o,i.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var y=h=null,_=null,j=t,U=!1;do{var M=j.lane&-536870913;if(M!==j.lane?(he&M)===M:(ra&M)===M){var N=j.revertLane;if(N===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),M===Hn&&(U=!0);else if((ra&N)===N){j=j.next,N===Hn&&(U=!0);continue}else M={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},_===null?(y=_=M,h=o):_=_.next=M,le.lanes|=N,za|=N;M=j.action,cn&&a(o,M),o=j.hasEagerState?j.eagerState:a(o,M)}else N={lane:M,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},_===null?(y=_=N,h=o):_=_.next=N,le.lanes|=M,za|=M;j=j.next}while(j!==null&&j!==t);if(_===null?h=o:_.next=y,!bt(o,e.memoizedState)&&(Ge=!0,U&&(a=Gn,a!==null)))throw a;e.memoizedState=o,e.baseState=h,e.baseQueue=_,i.lastRenderedState=o}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function cu(e){var t=Be(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var i=a.dispatch,u=a.pending,o=t.memoizedState;if(u!==null){a.pending=null;var h=u=u.next;do o=e(o,h.action),h=h.next;while(h!==u);bt(o,t.memoizedState)||(Ge=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),a.lastRenderedState=o}return[o,i]}function pd(e,t,a){var i=le,u=Be(),o=me;if(o){if(a===void 0)throw Error(r(407));a=a()}else a=t();var h=!bt((xe||u).memoizedState,a);if(h&&(u.memoizedState=a,Ge=!0),u=u.queue,fu(_d.bind(null,i,u,e),[e]),u.getSnapshot!==t||h||He!==null&&He.memoizedState.tag&1){if(i.flags|=2048,Xn(9,{destroy:void 0},bd.bind(null,i,u,a,t),null),Ae===null)throw Error(r(349));o||(ra&127)!==0||yd(i,t,a)}return a}function yd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=le.updateQueue,t===null?(t=il(),le.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function bd(e,t,a,i){t.value=a,t.getSnapshot=i,wd(t)&&Sd(e)}function _d(e,t,a){return a(function(){wd(t)&&Sd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!bt(e,a)}catch{return!0}}function Sd(e){var t=en(e,2);t!==null&&ft(t,e,2)}function du(e){var t=lt();if(typeof e=="function"){var a=e;if(e=a(),cn){wa(!0);try{a()}finally{wa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e},t}function xd(e,t,a,i){return e.baseState=a,ou(e,xe,typeof i=="function"?i:ua)}function og(e,t,a,i,u){if(ol(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){o.listeners.push(h)}};C.T!==null?a(!0):o.isTransition=!1,i(o),a=t.pending,a===null?(o.next=t.pending=o,Ed(t,o)):(o.next=a.next,t.pending=a.next=o)}}function Ed(e,t){var a=t.action,i=t.payload,u=e.state;if(t.isTransition){var o=C.T,h={};C.T=h;try{var y=a(u,i),_=C.S;_!==null&&_(h,y),Td(e,t,y)}catch(j){hu(e,t,j)}finally{o!==null&&h.types!==null&&(o.types=h.types),C.T=o}}else try{o=a(u,i),Td(e,t,o)}catch(j){hu(e,t,j)}}function Td(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Ad(e,t,i)},function(i){return hu(e,t,i)}):Ad(e,t,a)}function Ad(e,t,a){t.status="fulfilled",t.value=a,Od(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Ed(e,a)))}function hu(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Od(t),t=t.next;while(t!==i)}e.action=null}function Od(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function jd(e,t){return t}function Nd(e,t){if(me){var a=Ae.formState;if(a!==null){e:{var i=le;if(me){if(Ne){t:{for(var u=Ne,o=zt;u.nodeType!==8;){if(!o){u=null;break t}if(u=Lt(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){Ne=Lt(u.nextSibling),i=u.data==="F!";break e}}Aa(i)}i=!1}i&&(t=a[0])}}return a=lt(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jd,lastRenderedState:t},a.queue=i,a=Jd.bind(null,le,i),i.dispatch=a,i=du(!1),o=yu.bind(null,le,!1,i.queue),i=lt(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,a=og.bind(null,le,u,o,a),u.dispatch=a,i.memoizedState=e,[t,a,!1]}function Rd(e){var t=Be();return kd(t,xe,e)}function kd(e,t,a){if(t=ou(e,t,jd)[0],e=ll(ua)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=$i(t)}catch(h){throw h===$n?Is:h}else i=t;t=Be();var u=t.queue,o=u.dispatch;return a!==t.memoizedState&&(le.flags|=2048,Xn(9,{destroy:void 0},cg.bind(null,u,a),null)),[i,o,e]}function cg(e,t){e.action=t}function Cd(e){var t=Be(),a=xe;if(a!==null)return kd(t,a,e);Be(),t=t.memoizedState,a=Be();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function Xn(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=le.updateQueue,t===null&&(t=il(),le.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Ud(){return Be().memoizedState}function rl(e,t,a,i){var u=lt();le.flags|=e,u.memoizedState=Xn(1|t,{destroy:void 0},a,i===void 0?null:i)}function ul(e,t,a,i){var u=Be();i=i===void 0?null:i;var o=u.memoizedState.inst;xe!==null&&i!==null&&nu(i,xe.memoizedState.deps)?u.memoizedState=Xn(t,o,a,i):(le.flags|=e,u.memoizedState=Xn(1|t,o,a,i))}function Dd(e,t){rl(8390656,8,e,t)}function fu(e,t){ul(2048,8,e,t)}function dg(e){le.flags|=4;var t=le.updateQueue;if(t===null)t=il(),le.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function zd(e){var t=Be().memoizedState;return dg({ref:t,nextImpl:e}),function(){if((be&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Md(e,t){return ul(4,2,e,t)}function Ld(e,t){return ul(4,4,e,t)}function Bd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qd(e,t,a){a=a!=null?a.concat([e]):null,ul(4,4,Bd.bind(null,t,e),a)}function mu(){}function Hd(e,t){var a=Be();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&nu(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Gd(e,t){var a=Be();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&nu(t,i[1]))return i[0];if(i=e(),cn){wa(!0);try{e()}finally{wa(!1)}}return a.memoizedState=[i,t],i}function gu(e,t,a){return a===void 0||(ra&1073741824)!==0&&(he&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=$h(),le.lanes|=e,za|=e,a)}function $d(e,t,a,i){return bt(a,t)?a:Yn.current!==null?(e=gu(e,a,i),bt(e,t)||(Ge=!0),e):(ra&42)===0||(ra&1073741824)!==0&&(he&261930)===0?(Ge=!0,e.memoizedState=a):(e=$h(),le.lanes|=e,za|=e,t)}function Vd(e,t,a,i,u){var o=Y.p;Y.p=o!==0&&8>o?o:8;var h=C.T,y={};C.T=y,yu(e,!1,t,a);try{var _=u(),j=C.S;if(j!==null&&j(y,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var U=lg(_,i);Vi(e,t,U,Tt(e))}else Vi(e,t,i,Tt(e))}catch(M){Vi(e,t,{then:function(){},status:"rejected",reason:M},Tt())}finally{Y.p=o,h!==null&&y.types!==null&&(h.types=y.types),C.T=h}}function hg(){}function vu(e,t,a,i){if(e.tag!==5)throw Error(r(476));var u=Yd(e).queue;Vd(e,u,t,te,a===null?hg:function(){return Kd(e),a(i)})}function Yd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:te},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Kd(e){var t=Yd(e);t.next===null&&(t=e.alternate.memoizedState),Vi(e,t.next.queue,{},Tt())}function pu(){return Pe(ls)}function Qd(){return Be().memoizedState}function Xd(){return Be().memoizedState}function fg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Tt();e=Na(a);var i=Ra(t,e,a);i!==null&&(ft(i,t,a),Bi(i,t,a)),t={cache:Qr()},e.payload=t;return}t=t.return}}function mg(e,t,a){var i=Tt();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ol(e)?Zd(t,a):(a=zr(e,t,a,i),a!==null&&(ft(a,e,i),Id(a,t,i)))}function Jd(e,t,a){var i=Tt();Vi(e,t,a,i)}function Vi(e,t,a,i){var u={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ol(e))Zd(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var h=t.lastRenderedState,y=o(h,a);if(u.hasEagerState=!0,u.eagerState=y,bt(y,h))return Vs(e,t,u,0),Ae===null&&$s(),!1}catch{}finally{}if(a=zr(e,t,u,i),a!==null)return ft(a,e,i),Id(a,t,i),!0}return!1}function yu(e,t,a,i){if(i={lane:2,revertLane:Iu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ol(e)){if(t)throw Error(r(479))}else t=zr(e,a,i,2),t!==null&&ft(t,e,2)}function ol(e){var t=e.alternate;return e===le||t!==null&&t===le}function Zd(e,t){Kn=al=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Id(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,tc(e,a)}}var Yi={readContext:Pe,use:sl,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};Yi.useEffectEvent=Ue;var Pd={readContext:Pe,use:sl,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Pe,useEffect:Dd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,rl(4194308,4,Bd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return rl(4194308,4,e,t)},useInsertionEffect:function(e,t){rl(4,2,e,t)},useMemo:function(e,t){var a=lt();t=t===void 0?null:t;var i=e();if(cn){wa(!0);try{e()}finally{wa(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=lt();if(a!==void 0){var u=a(t);if(cn){wa(!0);try{a(t)}finally{wa(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=mg.bind(null,le,e),[i.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:function(e){e=du(e);var t=e.queue,a=Jd.bind(null,le,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:mu,useDeferredValue:function(e,t){var a=lt();return gu(a,e,t)},useTransition:function(){var e=du(!1);return e=Vd.bind(null,le,e.queue,!0,!1),lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=le,u=lt();if(me){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ae===null)throw Error(r(349));(he&127)!==0||yd(i,t,a)}u.memoizedState=a;var o={value:a,getSnapshot:t};return u.queue=o,Dd(_d.bind(null,i,o,e),[e]),i.flags|=2048,Xn(9,{destroy:void 0},bd.bind(null,i,o,a,t),null),a},useId:function(){var e=lt(),t=Ae.identifierPrefix;if(me){var a=It,i=Zt;a=(i&~(1<<32-yt(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=nl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=rg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:pu,useFormState:Nd,useActionState:Nd,useOptimistic:function(e){var t=lt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=yu.bind(null,le,!0,a),a.dispatch=t,[e,t]},useMemoCache:uu,useCacheRefresh:function(){return lt().memoizedState=fg.bind(null,le)},useEffectEvent:function(e){var t=lt(),a={impl:e};return t.memoizedState=a,function(){if((be&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},bu={readContext:Pe,use:sl,useCallback:Hd,useContext:Pe,useEffect:fu,useImperativeHandle:qd,useInsertionEffect:Md,useLayoutEffect:Ld,useMemo:Gd,useReducer:ll,useRef:Ud,useState:function(){return ll(ua)},useDebugValue:mu,useDeferredValue:function(e,t){var a=Be();return $d(a,xe.memoizedState,e,t)},useTransition:function(){var e=ll(ua)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:$i(e),t]},useSyncExternalStore:pd,useId:Qd,useHostTransitionStatus:pu,useFormState:Rd,useActionState:Rd,useOptimistic:function(e,t){var a=Be();return xd(a,xe,e,t)},useMemoCache:uu,useCacheRefresh:Xd};bu.useEffectEvent=zd;var Wd={readContext:Pe,use:sl,useCallback:Hd,useContext:Pe,useEffect:fu,useImperativeHandle:qd,useInsertionEffect:Md,useLayoutEffect:Ld,useMemo:Gd,useReducer:cu,useRef:Ud,useState:function(){return cu(ua)},useDebugValue:mu,useDeferredValue:function(e,t){var a=Be();return xe===null?gu(a,e,t):$d(a,xe.memoizedState,e,t)},useTransition:function(){var e=cu(ua)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:$i(e),t]},useSyncExternalStore:pd,useId:Qd,useHostTransitionStatus:pu,useFormState:Cd,useActionState:Cd,useOptimistic:function(e,t){var a=Be();return xe!==null?xd(a,xe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:uu,useCacheRefresh:Xd};Wd.useEffectEvent=zd;function _u(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var wu={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Tt(),u=Na(i);u.payload=t,a!=null&&(u.callback=a),t=Ra(e,u,i),t!==null&&(ft(t,e,i),Bi(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Tt(),u=Na(i);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Ra(e,u,i),t!==null&&(ft(t,e,i),Bi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Tt(),i=Na(a);i.tag=2,t!=null&&(i.callback=t),t=Ra(e,i,a),t!==null&&(ft(t,e,a),Bi(t,e,a))}};function Fd(e,t,a,i,u,o,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,h):t.prototype&&t.prototype.isPureReactComponent?!Ri(a,i)||!Ri(u,o):!0}function eh(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&wu.enqueueReplaceState(t,t.state,null)}function dn(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function th(e){Gs(e)}function ah(e){console.error(e)}function nh(e){Gs(e)}function cl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function ih(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Su(e,t,a){return a=Na(a),a.tag=3,a.payload={element:null},a.callback=function(){cl(e,t)},a}function sh(e){return e=Na(e),e.tag=3,e}function lh(e,t,a,i){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var o=i.value;e.payload=function(){return u(o)},e.callback=function(){ih(t,a,i)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){ih(t,a,i),typeof u!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function gg(e,t,a,i,u){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&qn(t,a,u,!0),a=wt.current,a!==null){switch(a.tag){case 31:case 13:return Mt===null?Sl():a.alternate===null&&De===0&&(De=3),a.flags&=-257,a.flags|=65536,a.lanes=u,i===Ps?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),Xu(e,i,u)),!1;case 22:return a.flags|=65536,i===Ps?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),Xu(e,i,u)),!1}throw Error(r(435,a.tag))}return Xu(e,i,u),Sl(),!1}if(me)return t=wt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Gr&&(e=Error(r(422),{cause:i}),Ui(Ct(e,a)))):(i!==Gr&&(t=Error(r(423),{cause:i}),Ui(Ct(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Ct(i,a),u=Su(e.stateNode,i,u),Wr(e,u),De!==4&&(De=2)),!1;var o=Error(r(520),{cause:i});if(o=Ct(o,a),Wi===null?Wi=[o]:Wi.push(o),De!==4&&(De=2),t===null)return!0;i=Ct(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=Su(a.stateNode,i,e),Wr(a,e),!1;case 1:if(t=a.type,o=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Ma===null||!Ma.has(o))))return a.flags|=65536,u&=-u,a.lanes|=u,u=sh(u),lh(u,e,a,i),Wr(a,u),!1}a=a.return}while(a!==null);return!1}var xu=Error(r(461)),Ge=!1;function We(e,t,a,i){t.child=e===null?cd(t,null,a,i):on(t,e.child,a,i)}function rh(e,t,a,i,u){a=a.render;var o=t.ref;if("ref"in i){var h={};for(var y in i)y!=="ref"&&(h[y]=i[y])}else h=i;return sn(t),i=iu(e,t,a,h,o,u),y=su(),e!==null&&!Ge?(lu(e,t,u),oa(e,t,u)):(me&&y&&qr(t),t.flags|=1,We(e,t,i,u),t.child)}function uh(e,t,a,i,u){if(e===null){var o=a.type;return typeof o=="function"&&!Mr(o)&&o.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=o,oh(e,t,o,i,u)):(e=Ks(a.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!ku(e,u)){var h=o.memoizedProps;if(a=a.compare,a=a!==null?a:Ri,a(h,i)&&e.ref===t.ref)return oa(e,t,u)}return t.flags|=1,e=na(o,i),e.ref=t.ref,e.return=t,t.child=e}function oh(e,t,a,i,u){if(e!==null){var o=e.memoizedProps;if(Ri(o,i)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=i=o,ku(e,u))(e.flags&131072)!==0&&(Ge=!0);else return t.lanes=e.lanes,oa(e,t,u)}return Eu(e,t,a,i,u)}function ch(e,t,a,i){var u=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|a:a,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~o}else i=0,t.child=null;return dh(e,t,o,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zs(t,o!==null?o.cachePool:null),o!==null?fd(t,o):eu(),md(t);else return i=t.lanes=536870912,dh(e,t,o!==null?o.baseLanes|a:a,a,i)}else o!==null?(Zs(t,o.cachePool),fd(t,o),Ca(),t.memoizedState=null):(e!==null&&Zs(t,null),eu(),Ca());return We(e,t,u,a),t.child}function Ki(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dh(e,t,a,i,u){var o=Jr();return o=o===null?null:{parent:qe._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&Zs(t,null),eu(),md(t),e!==null&&qn(e,t,i,!0),t.childLanes=u,null}function dl(e,t){return t=fl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hh(e,t,a){return on(t,e.child,null,a),e=dl(t,t.pendingProps),e.flags|=2,St(t),t.memoizedState=null,e}function vg(e,t,a){var i=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(me){if(i.mode==="hidden")return e=dl(t,i),t.lanes=536870912,Ki(null,e);if(au(t),(e=Ne)?(e=Tf(e,zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Zt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},a=Zc(e),a.return=t,t.child=a,Ie=t,Ne=null)):e=null,e===null)throw Aa(t);return t.lanes=536870912,null}return dl(t,i)}var o=e.memoizedState;if(o!==null){var h=o.dehydrated;if(au(t),u)if(t.flags&256)t.flags&=-257,t=hh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ge||qn(e,t,a,!1),u=(a&e.childLanes)!==0,Ge||u){if(i=Ae,i!==null&&(h=ac(i,a),h!==0&&h!==o.retryLane))throw o.retryLane=h,en(e,h),ft(i,e,h),xu;Sl(),t=hh(e,t,a)}else e=o.treeContext,Ne=Lt(h.nextSibling),Ie=t,me=!0,Ta=null,zt=!1,e!==null&&Wc(t,e),t=dl(t,i),t.flags|=4096;return t}return e=na(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function hl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Eu(e,t,a,i,u){return sn(t),a=iu(e,t,a,i,void 0,u),i=su(),e!==null&&!Ge?(lu(e,t,u),oa(e,t,u)):(me&&i&&qr(t),t.flags|=1,We(e,t,a,u),t.child)}function fh(e,t,a,i,u,o){return sn(t),t.updateQueue=null,a=vd(t,i,a,u),gd(e),i=su(),e!==null&&!Ge?(lu(e,t,o),oa(e,t,o)):(me&&i&&qr(t),t.flags|=1,We(e,t,a,o),t.child)}function mh(e,t,a,i,u){if(sn(t),t.stateNode===null){var o=zn,h=a.contextType;typeof h=="object"&&h!==null&&(o=Pe(h)),o=new a(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=wu,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},Ir(t),h=a.contextType,o.context=typeof h=="object"&&h!==null?Pe(h):zn,o.state=t.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(_u(t,a,h,i),o.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(h=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),h!==o.state&&wu.enqueueReplaceState(o,o.state,null),Hi(t,i,o,u),qi(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var y=t.memoizedProps,_=dn(a,y);o.props=_;var j=o.context,U=a.contextType;h=zn,typeof U=="object"&&U!==null&&(h=Pe(U));var M=a.getDerivedStateFromProps;U=typeof M=="function"||typeof o.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,U||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(y||j!==h)&&eh(t,o,i,h),ja=!1;var N=t.memoizedState;o.state=N,Hi(t,i,o,u),qi(),j=t.memoizedState,y||N!==j||ja?(typeof M=="function"&&(_u(t,a,M,i),j=t.memoizedState),(_=ja||Fd(t,a,_,i,N,j,h))?(U||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=j),o.props=i,o.state=j,o.context=h,i=_):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Pr(e,t),h=t.memoizedProps,U=dn(a,h),o.props=U,M=t.pendingProps,N=o.context,j=a.contextType,_=zn,typeof j=="object"&&j!==null&&(_=Pe(j)),y=a.getDerivedStateFromProps,(j=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(h!==M||N!==_)&&eh(t,o,i,_),ja=!1,N=t.memoizedState,o.state=N,Hi(t,i,o,u),qi();var R=t.memoizedState;h!==M||N!==R||ja||e!==null&&e.dependencies!==null&&Xs(e.dependencies)?(typeof y=="function"&&(_u(t,a,y,i),R=t.memoizedState),(U=ja||Fd(t,a,U,i,N,R,_)||e!==null&&e.dependencies!==null&&Xs(e.dependencies))?(j||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,R,_),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,R,_)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=R),o.props=i,o.state=R,o.context=_,i=U):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,hl(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=on(t,e.child,null,u),t.child=on(t,null,a,u)):We(e,t,a,u),t.memoizedState=o.state,e=t.child):e=oa(e,t,u),e}function gh(e,t,a,i){return an(),t.flags|=256,We(e,t,a,i),t.child}var Tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Au(e){return{baseLanes:e,cachePool:id()}}function Ou(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Et),e}function vh(e,t,a){var i=t.pendingProps,u=!1,o=(t.flags&128)!==0,h;if((h=o)||(h=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),h&&(u=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(me){if(u?ka(t):Ca(),(e=Ne)?(e=Tf(e,zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Zt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},a=Zc(e),a.return=t,t.child=a,Ie=t,Ne=null)):e=null,e===null)throw Aa(t);return oo(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,u?(Ca(),u=t.mode,y=fl({mode:"hidden",children:y},u),i=tn(i,u,a,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=Au(a),i.childLanes=Ou(e,h,a),t.memoizedState=Tu,Ki(null,i)):(ka(t),ju(t,y))}var _=e.memoizedState;if(_!==null&&(y=_.dehydrated,y!==null)){if(o)t.flags&256?(ka(t),t.flags&=-257,t=Nu(e,t,a)):t.memoizedState!==null?(Ca(),t.child=e.child,t.flags|=128,t=null):(Ca(),y=i.fallback,u=t.mode,i=fl({mode:"visible",children:i.children},u),y=tn(y,u,a,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,on(t,e.child,null,a),i=t.child,i.memoizedState=Au(a),i.childLanes=Ou(e,h,a),t.memoizedState=Tu,t=Ki(null,i));else if(ka(t),oo(y)){if(h=y.nextSibling&&y.nextSibling.dataset,h)var j=h.dgst;h=j,i=Error(r(419)),i.stack="",i.digest=h,Ui({value:i,source:null,stack:null}),t=Nu(e,t,a)}else if(Ge||qn(e,t,a,!1),h=(a&e.childLanes)!==0,Ge||h){if(h=Ae,h!==null&&(i=ac(h,a),i!==0&&i!==_.retryLane))throw _.retryLane=i,en(e,i),ft(h,e,i),xu;uo(y)||Sl(),t=Nu(e,t,a)}else uo(y)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Ne=Lt(y.nextSibling),Ie=t,me=!0,Ta=null,zt=!1,e!==null&&Wc(t,e),t=ju(t,i.children),t.flags|=4096);return t}return u?(Ca(),y=i.fallback,u=t.mode,_=e.child,j=_.sibling,i=na(_,{mode:"hidden",children:i.children}),i.subtreeFlags=_.subtreeFlags&65011712,j!==null?y=na(j,y):(y=tn(y,u,a,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,Ki(null,i),i=t.child,y=e.child.memoizedState,y===null?y=Au(a):(u=y.cachePool,u!==null?(_=qe._currentValue,u=u.parent!==_?{parent:_,pool:_}:u):u=id(),y={baseLanes:y.baseLanes|a,cachePool:u}),i.memoizedState=y,i.childLanes=Ou(e,h,a),t.memoizedState=Tu,Ki(e.child,i)):(ka(t),a=e.child,e=a.sibling,a=na(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=a,t.memoizedState=null,a)}function ju(e,t){return t=fl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function fl(e,t){return e=_t(22,e,null,t),e.lanes=0,e}function Nu(e,t,a){return on(t,e.child,null,a),e=ju(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ph(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Yr(e.return,t,a)}function Ru(e,t,a,i,u,o){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:u,treeForkCount:o}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=a,h.tailMode=u,h.treeForkCount=o)}function yh(e,t,a){var i=t.pendingProps,u=i.revealOrder,o=i.tail;i=i.children;var h=Le.current,y=(h&2)!==0;if(y?(h=h&1|2,t.flags|=128):h&=1,H(Le,h),We(e,t,i,a),i=me?Ci:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ph(e,a,t);else if(e.tag===19)ph(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&tl(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),Ru(t,!1,u,a,o,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&tl(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Ru(t,!0,a,null,o,i);break;case"together":Ru(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function oa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),za|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(qn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=na(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=na(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function ku(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Xs(e)))}function pg(e,t,a){switch(t.tag){case 3:Je(t,t.stateNode.containerInfo),Oa(t,qe,e.memoizedState.cache),an();break;case 27:case 5:Ja(t);break;case 4:Je(t,t.stateNode.containerInfo);break;case 10:Oa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,au(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ka(t),t.flags|=128,null):(a&t.child.childLanes)!==0?vh(e,t,a):(ka(t),e=oa(e,t,a),e!==null?e.sibling:null);ka(t);break;case 19:var u=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(qn(e,t,a,!1),i=(a&t.childLanes)!==0),u){if(i)return yh(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),H(Le,Le.current),i)break;return null;case 22:return t.lanes=0,ch(e,t,a,t.pendingProps);case 24:Oa(t,qe,e.memoizedState.cache)}return oa(e,t,a)}function bh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ge=!0;else{if(!ku(e,a)&&(t.flags&128)===0)return Ge=!1,pg(e,t,a);Ge=(e.flags&131072)!==0}else Ge=!1,me&&(t.flags&1048576)!==0&&Pc(t,Ci,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=rn(t.elementType),t.type=e,typeof e=="function")Mr(e)?(i=dn(e,i),t.tag=1,t=mh(null,t,e,i,a)):(t.tag=0,t=Eu(null,t,e,i,a));else{if(e!=null){var u=e.$$typeof;if(u===X){t.tag=11,t=rh(null,t,e,i,a);break e}else if(u===Q){t.tag=14,t=uh(null,t,e,i,a);break e}}throw t=st(e)||e,Error(r(306,t,""))}}return t;case 0:return Eu(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,u=dn(i,t.pendingProps),mh(e,t,i,u,a);case 3:e:{if(Je(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var o=t.memoizedState;u=o.element,Pr(e,t),Hi(t,i,null,a);var h=t.memoizedState;if(i=h.cache,Oa(t,qe,i),i!==o.cache&&Kr(t,[qe],a,!0),qi(),i=h.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=gh(e,t,i,a);break e}else if(i!==u){u=Ct(Error(r(424)),t),Ui(u),t=gh(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ne=Lt(e.firstChild),Ie=t,me=!0,Ta=null,zt=!0,a=cd(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(an(),i===u){t=oa(e,t,a);break e}We(e,t,i,a)}t=t.child}return t;case 26:return hl(e,t),e===null?(a=kf(t.type,null,t.pendingProps,null))?t.memoizedState=a:me||(a=t.type,e=t.pendingProps,i=Nl(ue.current).createElement(a),i[Ze]=t,i[rt]=e,Fe(i,a,e),Qe(i),t.stateNode=i):t.memoizedState=kf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ja(t),e===null&&me&&(i=t.stateNode=jf(t.type,t.pendingProps,ue.current),Ie=t,zt=!0,u=Ne,Ha(t.type)?(co=u,Ne=Lt(i.firstChild)):Ne=u),We(e,t,t.pendingProps.children,a),hl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&me&&((u=i=Ne)&&(i=Xg(i,t.type,t.pendingProps,zt),i!==null?(t.stateNode=i,Ie=t,Ne=Lt(i.firstChild),zt=!1,u=!0):u=!1),u||Aa(t)),Ja(t),u=t.type,o=t.pendingProps,h=e!==null?e.memoizedProps:null,i=o.children,so(u,o)?i=null:h!==null&&so(u,h)&&(t.flags|=32),t.memoizedState!==null&&(u=iu(e,t,ug,null,null,a),ls._currentValue=u),hl(e,t),We(e,t,i,a),t.child;case 6:return e===null&&me&&((e=a=Ne)&&(a=Jg(a,t.pendingProps,zt),a!==null?(t.stateNode=a,Ie=t,Ne=null,e=!0):e=!1),e||Aa(t)),null;case 13:return vh(e,t,a);case 4:return Je(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=on(t,null,i,a):We(e,t,i,a),t.child;case 11:return rh(e,t,t.type,t.pendingProps,a);case 7:return We(e,t,t.pendingProps,a),t.child;case 8:return We(e,t,t.pendingProps.children,a),t.child;case 12:return We(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Oa(t,t.type,i.value),We(e,t,i.children,a),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,sn(t),u=Pe(u),i=i(u),t.flags|=1,We(e,t,i,a),t.child;case 14:return uh(e,t,t.type,t.pendingProps,a);case 15:return oh(e,t,t.type,t.pendingProps,a);case 19:return yh(e,t,a);case 31:return vg(e,t,a);case 22:return ch(e,t,a,t.pendingProps);case 24:return sn(t),i=Pe(qe),e===null?(u=Jr(),u===null&&(u=Ae,o=Qr(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=a),u=o),t.memoizedState={parent:i,cache:u},Ir(t),Oa(t,qe,u)):((e.lanes&a)!==0&&(Pr(e,t),Hi(t,null,null,a),qi()),u=e.memoizedState,o=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Oa(t,qe,i)):(i=o.cache,Oa(t,qe,i),i!==u.cache&&Kr(t,[qe],a,!0))),We(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ca(e){e.flags|=4}function Cu(e,t,a,i,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Qh())e.flags|=8192;else throw un=Ps,Zr}else e.flags&=-16777217}function _h(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Mf(t))if(Qh())e.flags|=8192;else throw un=Ps,Zr}function ml(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Fo():536870912,e.lanes|=t,Pn|=t)}function Qi(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function yg(e,t,a){var i=t.pendingProps;switch(Hr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Re(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),la(qe),Ce(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Bn(t)?ca(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$r())),Re(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(ca(t),o!==null?(Re(t),_h(t,o)):(Re(t),Cu(t,u,null,i,a))):o?o!==e.memoizedState?(ca(t),Re(t),_h(t,o)):(Re(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ca(t),Re(t),Cu(t,u,e,i,a)),null;case 27:if(_n(t),a=ue.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ca(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Re(t),null}e=K.current,Bn(t)?Fc(t):(e=jf(u,i,a),t.stateNode=e,ca(t))}return Re(t),null;case 5:if(_n(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ca(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Re(t),null}if(o=K.current,Bn(t))Fc(t);else{var h=Nl(ue.current);switch(o){case 1:o=h.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=h.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=h.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=h.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=h.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?h.createElement("select",{is:i.is}):h.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?h.createElement(u,{is:i.is}):h.createElement(u)}}o[Ze]=t,o[rt]=i;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=o;e:switch(Fe(o,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ca(t)}}return Re(t),Cu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ca(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=ue.current,Bn(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,u=Ie,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[Ze]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||pf(e.nodeValue,a)),e||Aa(t,!0)}else e=Nl(e).createTextNode(i),e[Ze]=t,t.stateNode=e}return Re(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=Bn(t),a!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ze]=t}else an(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Re(t),e=!1}else a=$r(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(St(t),t):(St(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Re(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Bn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[Ze]=t}else an(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Re(t),u=!1}else u=$r(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(St(t),t):(St(t),null)}return St(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==u&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ml(t,t.updateQueue),Re(t),null);case 4:return Ce(),e===null&&eo(t.stateNode.containerInfo),Re(t),null;case 10:return la(t.type),Re(t),null;case 19:if(D(Le),i=t.memoizedState,i===null)return Re(t),null;if(u=(t.flags&128)!==0,o=i.rendering,o===null)if(u)Qi(i,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=tl(e),o!==null){for(t.flags|=128,Qi(i,!1),e=o.updateQueue,t.updateQueue=e,ml(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Jc(a,e),a=a.sibling;return H(Le,Le.current&1|2),me&&ia(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&vt()>bl&&(t.flags|=128,u=!0,Qi(i,!1),t.lanes=4194304)}else{if(!u)if(e=tl(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,ml(t,e),Qi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!me)return Re(t),null}else 2*vt()-i.renderingStartTime>bl&&a!==536870912&&(t.flags|=128,u=!0,Qi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=vt(),e.sibling=null,a=Le.current,H(Le,u?a&1|2:a&1),me&&ia(t,i.treeForkCount),e):(Re(t),null);case 22:case 23:return St(t),tu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),a=t.updateQueue,a!==null&&ml(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&D(ln),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),la(qe),Re(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function bg(e,t){switch(Hr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return la(qe),Ce(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _n(t),null;case 31:if(t.memoizedState!==null){if(St(t),t.alternate===null)throw Error(r(340));an()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(St(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));an()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return D(Le),null;case 4:return Ce(),null;case 10:return la(t.type),null;case 22:case 23:return St(t),tu(),e!==null&&D(ln),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return la(qe),null;case 25:return null;default:return null}}function wh(e,t){switch(Hr(t),t.tag){case 3:la(qe),Ce();break;case 26:case 27:case 5:_n(t);break;case 4:Ce();break;case 31:t.memoizedState!==null&&St(t);break;case 13:St(t);break;case 19:D(Le);break;case 10:la(t.type);break;case 22:case 23:St(t),tu(),e!==null&&D(ln);break;case 24:la(qe)}}function Xi(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var u=i.next;a=u;do{if((a.tag&e)===e){i=void 0;var o=a.create,h=a.inst;i=o(),h.destroy=i}a=a.next}while(a!==u)}}catch(y){Se(t,t.return,y)}}function Ua(e,t,a){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var o=u.next;i=o;do{if((i.tag&e)===e){var h=i.inst,y=h.destroy;if(y!==void 0){h.destroy=void 0,u=t;var _=a,j=y;try{j()}catch(U){Se(u,_,U)}}}i=i.next}while(i!==o)}}catch(U){Se(t,t.return,U)}}function Sh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{hd(t,a)}catch(i){Se(e,e.return,i)}}}function xh(e,t,a){a.props=dn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){Se(e,t,i)}}function Ji(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(u){Se(e,t,u)}}function Pt(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(u){Se(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Se(e,t,u)}else a.current=null}function Eh(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(u){Se(e,e.return,u)}}function Uu(e,t,a){try{var i=e.stateNode;Gg(i,e.type,a,t),i[rt]=t}catch(u){Se(e,e.return,u)}}function Th(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function Du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ta));else if(i!==4&&(i===27&&Ha(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(zu(e,t,a),e=e.sibling;e!==null;)zu(e,t,a),e=e.sibling}function gl(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&Ha(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(gl(e,t,a),e=e.sibling;e!==null;)gl(e,t,a),e=e.sibling}function Ah(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Fe(t,i,a),t[Ze]=e,t[rt]=a}catch(o){Se(e,e.return,o)}}var da=!1,$e=!1,Mu=!1,Oh=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function _g(e,t){if(e=e.containerInfo,no=Ml,e=qc(e),Nr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var u=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{a.nodeType,o.nodeType}catch{a=null;break e}var h=0,y=-1,_=-1,j=0,U=0,M=e,N=null;t:for(;;){for(var R;M!==a||u!==0&&M.nodeType!==3||(y=h+u),M!==o||i!==0&&M.nodeType!==3||(_=h+i),M.nodeType===3&&(h+=M.nodeValue.length),(R=M.firstChild)!==null;)N=M,M=R;for(;;){if(M===e)break t;if(N===a&&++j===u&&(y=h),N===o&&++U===i&&(_=h),(R=M.nextSibling)!==null)break;M=N,N=M.parentNode}M=R}a=y===-1||_===-1?null:{start:y,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(io={focusedElem:e,selectionRange:a},Ml=!1,Xe=t;Xe!==null;)if(t=Xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Xe=e;else for(;Xe!==null;){switch(t=Xe,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,a=t,u=o.memoizedProps,o=o.memoizedState,i=a.stateNode;try{var J=dn(a.type,u);e=i.getSnapshotBeforeUpdate(J,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(ee){Se(a,a.return,ee)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)ro(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ro(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Xe=e;break}Xe=t.return}}function jh(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:fa(e,a),i&4&&Xi(5,a);break;case 1:if(fa(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(h){Se(a,a.return,h)}else{var u=dn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Se(a,a.return,h)}}i&64&&Sh(a),i&512&&Ji(a,a.return);break;case 3:if(fa(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{hd(e,t)}catch(h){Se(a,a.return,h)}}break;case 27:t===null&&i&4&&Ah(a);case 26:case 5:fa(e,a),t===null&&i&4&&Eh(a),i&512&&Ji(a,a.return);break;case 12:fa(e,a);break;case 31:fa(e,a),i&4&&kh(e,a);break;case 13:fa(e,a),i&4&&Ch(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ng.bind(null,a),Zg(e,a))));break;case 22:if(i=a.memoizedState!==null||da,!i){t=t!==null&&t.memoizedState!==null||$e,u=da;var o=$e;da=i,($e=t)&&!o?ma(e,a,(a.subtreeFlags&8772)!==0):fa(e,a),da=u,$e=o}break;case 30:break;default:fa(e,a)}}function Nh(e){var t=e.alternate;t!==null&&(e.alternate=null,Nh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,ot=!1;function ha(e,t,a){for(a=a.child;a!==null;)Rh(e,t,a),a=a.sibling}function Rh(e,t,a){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(yi,a)}catch{}switch(a.tag){case 26:$e||Pt(a,t),ha(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:$e||Pt(a,t);var i=ke,u=ot;Ha(a.type)&&(ke=a.stateNode,ot=!1),ha(e,t,a),ns(a.stateNode),ke=i,ot=u;break;case 5:$e||Pt(a,t);case 6:if(i=ke,u=ot,ke=null,ha(e,t,a),ke=i,ot=u,ke!==null)if(ot)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(a.stateNode)}catch(o){Se(a,t,o)}else try{ke.removeChild(a.stateNode)}catch(o){Se(a,t,o)}break;case 18:ke!==null&&(ot?(e=ke,xf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),si(e)):xf(ke,a.stateNode));break;case 4:i=ke,u=ot,ke=a.stateNode.containerInfo,ot=!0,ha(e,t,a),ke=i,ot=u;break;case 0:case 11:case 14:case 15:Ua(2,a,t),$e||Ua(4,a,t),ha(e,t,a);break;case 1:$e||(Pt(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&xh(a,t,i)),ha(e,t,a);break;case 21:ha(e,t,a);break;case 22:$e=(i=$e)||a.memoizedState!==null,ha(e,t,a),$e=i;break;default:ha(e,t,a)}}function kh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{si(e)}catch(a){Se(t,t.return,a)}}}function Ch(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{si(e)}catch(a){Se(t,t.return,a)}}function wg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Oh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Oh),t;default:throw Error(r(435,e.tag))}}function vl(e,t){var a=wg(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var u=Rg.bind(null,e,i);i.then(u,u)}})}function ct(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var u=a[i],o=e,h=t,y=h;e:for(;y!==null;){switch(y.tag){case 27:if(Ha(y.type)){ke=y.stateNode,ot=!1;break e}break;case 5:ke=y.stateNode,ot=!1;break e;case 3:case 4:ke=y.stateNode.containerInfo,ot=!0;break e}y=y.return}if(ke===null)throw Error(r(160));Rh(o,h,u),ke=null,ot=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Uh(t,e),t=t.sibling}var Vt=null;function Uh(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(t,e),dt(e),i&4&&(Ua(3,e,e.return),Xi(3,e),Ua(5,e,e.return));break;case 1:ct(t,e),dt(e),i&512&&($e||a===null||Pt(a,a.return)),i&64&&da&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var u=Vt;if(ct(t,e),dt(e),i&512&&($e||a===null||Pt(a,a.return)),i&4){var o=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":o=u.getElementsByTagName("title")[0],(!o||o[wi]||o[Ze]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(i),u.head.insertBefore(o,u.querySelector("head > title"))),Fe(o,i,a),o[Ze]=e,Qe(o),i=o;break e;case"link":var h=Df("link","href",u).get(i+(a.href||""));if(h){for(var y=0;y<h.length;y++)if(o=h[y],o.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&o.getAttribute("rel")===(a.rel==null?null:a.rel)&&o.getAttribute("title")===(a.title==null?null:a.title)&&o.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(y,1);break t}}o=u.createElement(i),Fe(o,i,a),u.head.appendChild(o);break;case"meta":if(h=Df("meta","content",u).get(i+(a.content||""))){for(y=0;y<h.length;y++)if(o=h[y],o.getAttribute("content")===(a.content==null?null:""+a.content)&&o.getAttribute("name")===(a.name==null?null:a.name)&&o.getAttribute("property")===(a.property==null?null:a.property)&&o.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&o.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(y,1);break t}}o=u.createElement(i),Fe(o,i,a),u.head.appendChild(o);break;default:throw Error(r(468,i))}o[Ze]=e,Qe(o),i=o}e.stateNode=i}else zf(u,e.type,e.stateNode);else e.stateNode=Uf(u,i,e.memoizedProps);else o!==i?(o===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):o.count--,i===null?zf(u,e.type,e.stateNode):Uf(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Uu(e,e.memoizedProps,a.memoizedProps)}break;case 27:ct(t,e),dt(e),i&512&&($e||a===null||Pt(a,a.return)),a!==null&&i&4&&Uu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ct(t,e),dt(e),i&512&&($e||a===null||Pt(a,a.return)),e.flags&32){u=e.stateNode;try{jn(u,"")}catch(J){Se(e,e.return,J)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,Uu(e,u,a!==null?a.memoizedProps:u)),i&1024&&(Mu=!0);break;case 6:if(ct(t,e),dt(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(J){Se(e,e.return,J)}}break;case 3:if(Cl=null,u=Vt,Vt=Rl(t.containerInfo),ct(t,e),Vt=u,dt(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{si(t.containerInfo)}catch(J){Se(e,e.return,J)}Mu&&(Mu=!1,Dh(e));break;case 4:i=Vt,Vt=Rl(e.stateNode.containerInfo),ct(t,e),dt(e),Vt=i;break;case 12:ct(t,e),dt(e);break;case 31:ct(t,e),dt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vl(e,i)));break;case 13:ct(t,e),dt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yl=vt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vl(e,i)));break;case 22:u=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,j=da,U=$e;if(da=j||u,$e=U||_,ct(t,e),$e=U,da=j,dt(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||_||da||$e||hn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(o=_.stateNode,u)h=o.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{y=_.stateNode;var M=_.memoizedProps.style,N=M!=null&&M.hasOwnProperty("display")?M.display:null;y.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(J){Se(_,_.return,J)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=u?"":_.memoizedProps}catch(J){Se(_,_.return,J)}}}else if(t.tag===18){if(a===null){_=t;try{var R=_.stateNode;u?Ef(R,!0):Ef(_.stateNode,!1)}catch(J){Se(_,_.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,vl(e,a))));break;case 19:ct(t,e),dt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vl(e,i)));break;case 30:break;case 21:break;default:ct(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(Th(i)){a=i;break}i=i.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,o=Du(e);gl(e,o,u);break;case 5:var h=a.stateNode;a.flags&32&&(jn(h,""),a.flags&=-33);var y=Du(e);gl(e,y,h);break;case 3:case 4:var _=a.stateNode.containerInfo,j=Du(e);zu(e,j,_);break;default:throw Error(r(161))}}catch(U){Se(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Dh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)jh(e,t.alternate,t),t=t.sibling}function hn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ua(4,t,t.return),hn(t);break;case 1:Pt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&xh(t,t.return,a),hn(t);break;case 27:ns(t.stateNode);case 26:case 5:Pt(t,t.return),hn(t);break;case 22:t.memoizedState===null&&hn(t);break;case 30:hn(t);break;default:hn(t)}e=e.sibling}}function ma(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,o=t,h=o.flags;switch(o.tag){case 0:case 11:case 15:ma(u,o,a),Xi(4,o);break;case 1:if(ma(u,o,a),i=o,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(j){Se(i,i.return,j)}if(i=o,u=i.updateQueue,u!==null){var y=i.stateNode;try{var _=u.shared.hiddenCallbacks;if(_!==null)for(u.shared.hiddenCallbacks=null,u=0;u<_.length;u++)dd(_[u],y)}catch(j){Se(i,i.return,j)}}a&&h&64&&Sh(o),Ji(o,o.return);break;case 27:Ah(o);case 26:case 5:ma(u,o,a),a&&i===null&&h&4&&Eh(o),Ji(o,o.return);break;case 12:ma(u,o,a);break;case 31:ma(u,o,a),a&&h&4&&kh(u,o);break;case 13:ma(u,o,a),a&&h&4&&Ch(u,o);break;case 22:o.memoizedState===null&&ma(u,o,a),Ji(o,o.return);break;case 30:break;default:ma(u,o,a)}t=t.sibling}}function Lu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Di(a))}function Bu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Di(e))}function Yt(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zh(e,t,a,i),t=t.sibling}function zh(e,t,a,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Yt(e,t,a,i),u&2048&&Xi(9,t);break;case 1:Yt(e,t,a,i);break;case 3:Yt(e,t,a,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Di(e)));break;case 12:if(u&2048){Yt(e,t,a,i),e=t.stateNode;try{var o=t.memoizedProps,h=o.id,y=o.onPostCommit;typeof y=="function"&&y(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Se(t,t.return,_)}}else Yt(e,t,a,i);break;case 31:Yt(e,t,a,i);break;case 13:Yt(e,t,a,i);break;case 23:break;case 22:o=t.stateNode,h=t.alternate,t.memoizedState!==null?o._visibility&2?Yt(e,t,a,i):Zi(e,t):o._visibility&2?Yt(e,t,a,i):(o._visibility|=2,Jn(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Lu(h,t);break;case 24:Yt(e,t,a,i),u&2048&&Bu(t.alternate,t);break;default:Yt(e,t,a,i)}}function Jn(e,t,a,i,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,h=t,y=a,_=i,j=h.flags;switch(h.tag){case 0:case 11:case 15:Jn(o,h,y,_,u),Xi(8,h);break;case 23:break;case 22:var U=h.stateNode;h.memoizedState!==null?U._visibility&2?Jn(o,h,y,_,u):Zi(o,h):(U._visibility|=2,Jn(o,h,y,_,u)),u&&j&2048&&Lu(h.alternate,h);break;case 24:Jn(o,h,y,_,u),u&&j&2048&&Bu(h.alternate,h);break;default:Jn(o,h,y,_,u)}t=t.sibling}}function Zi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,u=i.flags;switch(i.tag){case 22:Zi(a,i),u&2048&&Lu(i.alternate,i);break;case 24:Zi(a,i),u&2048&&Bu(i.alternate,i);break;default:Zi(a,i)}t=t.sibling}}var Ii=8192;function Zn(e,t,a){if(e.subtreeFlags&Ii)for(e=e.child;e!==null;)Mh(e,t,a),e=e.sibling}function Mh(e,t,a){switch(e.tag){case 26:Zn(e,t,a),e.flags&Ii&&e.memoizedState!==null&&rv(a,Vt,e.memoizedState,e.memoizedProps);break;case 5:Zn(e,t,a);break;case 3:case 4:var i=Vt;Vt=Rl(e.stateNode.containerInfo),Zn(e,t,a),Vt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ii,Ii=16777216,Zn(e,t,a),Ii=i):Zn(e,t,a));break;default:Zn(e,t,a)}}function Lh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Pi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];Xe=i,qh(i,e)}Lh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bh(e),e=e.sibling}function Bh(e){switch(e.tag){case 0:case 11:case 15:Pi(e),e.flags&2048&&Ua(9,e,e.return);break;case 3:Pi(e);break;case 12:Pi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,pl(e)):Pi(e);break;default:Pi(e)}}function pl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];Xe=i,qh(i,e)}Lh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ua(8,t,t.return),pl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,pl(t));break;default:pl(t)}e=e.sibling}}function qh(e,t){for(;Xe!==null;){var a=Xe;switch(a.tag){case 0:case 11:case 15:Ua(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Di(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,Xe=i;else e:for(a=e;Xe!==null;){i=Xe;var u=i.sibling,o=i.return;if(Nh(i),i===a){Xe=null;break e}if(u!==null){u.return=o,Xe=u;break e}Xe=o}}}var Sg={getCacheForType:function(e){var t=Pe(qe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Pe(qe).controller.signal}},xg=typeof WeakMap=="function"?WeakMap:Map,be=0,Ae=null,ce=null,he=0,we=0,xt=null,Da=!1,In=!1,qu=!1,ga=0,De=0,za=0,fn=0,Hu=0,Et=0,Pn=0,Wi=null,ht=null,Gu=!1,yl=0,Hh=0,bl=1/0,_l=null,Ma=null,Ye=0,La=null,Wn=null,va=0,$u=0,Vu=null,Gh=null,Fi=0,Yu=null;function Tt(){return(be&2)!==0&&he!==0?he&-he:C.T!==null?Iu():nc()}function $h(){if(Et===0)if((he&536870912)===0||me){var e=js;js<<=1,(js&3932160)===0&&(js=262144),Et=e}else Et=536870912;return e=wt.current,e!==null&&(e.flags|=32),Et}function ft(e,t,a){(e===Ae&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(Fn(e,0),Ba(e,he,Et,!1)),_i(e,a),((be&2)===0||e!==Ae)&&(e===Ae&&((be&2)===0&&(fn|=a),De===4&&Ba(e,he,Et,!1)),Wt(e))}function Vh(e,t,a){if((be&6)!==0)throw Error(r(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||bi(e,t),u=i?Ag(e,t):Qu(e,t,!0),o=i;do{if(u===0){In&&!i&&Ba(e,t,0,!1);break}else{if(a=e.current.alternate,o&&!Eg(a)){u=Qu(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var y=e;u=Wi;var _=y.current.memoizedState.isDehydrated;if(_&&(Fn(y,h).flags|=256),h=Qu(y,h,!1),h!==2){if(qu&&!_){y.errorRecoveryDisabledLanes|=o,fn|=o,u=4;break e}o=ht,ht=u,o!==null&&(ht===null?ht=o:ht.push.apply(ht,o))}u=h}if(o=!1,u!==2)continue}}if(u===1){Fn(e,0),Ba(e,t,0,!0);break}e:{switch(i=e,o=u,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ba(i,t,Et,!Da);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=yl+300-vt(),10<u)){if(Ba(i,t,Et,!Da),Rs(i,0,!0)!==0)break e;va=t,i.timeoutHandle=wf(Yh.bind(null,i,a,ht,_l,Gu,t,Et,fn,Pn,Da,o,"Throttled",-0,0),u);break e}Yh(i,a,ht,_l,Gu,t,Et,fn,Pn,Da,o,null,-0,0)}}break}while(!0);Wt(e)}function Yh(e,t,a,i,u,o,h,y,_,j,U,M,N,R){if(e.timeoutHandle=-1,M=t.subtreeFlags,M&8192||(M&16785408)===16785408){M={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ta},Mh(t,o,M);var J=(o&62914560)===o?yl-vt():(o&4194048)===o?Hh-vt():0;if(J=uv(M,J),J!==null){va=o,e.cancelPendingCommit=J(Wh.bind(null,e,t,o,a,i,u,h,y,_,U,M,null,N,R)),Ba(e,o,h,!j);return}}Wh(e,t,o,a,i,u,h,y,_)}function Eg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var u=a[i],o=u.getSnapshot;u=u.value;try{if(!bt(o(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ba(e,t,a,i){t&=~Hu,t&=~fn,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var o=31-yt(u),h=1<<o;i[o]=-1,u&=~h}a!==0&&ec(e,a,t)}function wl(){return(be&6)===0?(es(0),!1):!0}function Ku(){if(ce!==null){if(we===0)var e=ce.return;else e=ce,sa=nn=null,ru(e),Vn=null,Mi=0,e=ce;for(;e!==null;)wh(e.alternate,e),e=e.return;ce=null}}function Fn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Yg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),va=0,Ku(),Ae=e,ce=a=na(e.current,null),he=t,we=0,xt=null,Da=!1,In=bi(e,t),qu=!1,Pn=Et=Hu=fn=za=De=0,ht=Wi=null,Gu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-yt(i),o=1<<u;t|=e[u],i&=~o}return ga=t,$s(),a}function Kh(e,t){le=null,C.H=Yi,t===$n||t===Is?(t=rd(),we=3):t===Zr?(t=rd(),we=4):we=t===xu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,xt=t,ce===null&&(De=1,cl(e,Ct(t,e.current)))}function Qh(){var e=wt.current;return e===null?!0:(he&4194048)===he?Mt===null:(he&62914560)===he||(he&536870912)!==0?e===Mt:!1}function Xh(){var e=C.H;return C.H=Yi,e===null?Yi:e}function Jh(){var e=C.A;return C.A=Sg,e}function Sl(){De=4,Da||(he&4194048)!==he&&wt.current!==null||(In=!0),(za&134217727)===0&&(fn&134217727)===0||Ae===null||Ba(Ae,he,Et,!1)}function Qu(e,t,a){var i=be;be|=2;var u=Xh(),o=Jh();(Ae!==e||he!==t)&&(_l=null,Fn(e,t)),t=!1;var h=De;e:do try{if(we!==0&&ce!==null){var y=ce,_=xt;switch(we){case 8:Ku(),h=6;break e;case 3:case 2:case 9:case 6:wt.current===null&&(t=!0);var j=we;if(we=0,xt=null,ei(e,y,_,j),a&&In){h=0;break e}break;default:j=we,we=0,xt=null,ei(e,y,_,j)}}Tg(),h=De;break}catch(U){Kh(e,U)}while(!0);return t&&e.shellSuspendCounter++,sa=nn=null,be=i,C.H=u,C.A=o,ce===null&&(Ae=null,he=0,$s()),h}function Tg(){for(;ce!==null;)Zh(ce)}function Ag(e,t){var a=be;be|=2;var i=Xh(),u=Jh();Ae!==e||he!==t?(_l=null,bl=vt()+500,Fn(e,t)):In=bi(e,t);e:do try{if(we!==0&&ce!==null){t=ce;var o=xt;t:switch(we){case 1:we=0,xt=null,ei(e,t,o,1);break;case 2:case 9:if(sd(o)){we=0,xt=null,Ih(t);break}t=function(){we!==2&&we!==9||Ae!==e||(we=7),Wt(e)},o.then(t,t);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:sd(o)?(we=0,xt=null,Ih(t)):(we=0,xt=null,ei(e,t,o,7));break;case 5:var h=null;switch(ce.tag){case 26:h=ce.memoizedState;case 5:case 27:var y=ce;if(h?Mf(h):y.stateNode.complete){we=0,xt=null;var _=y.sibling;if(_!==null)ce=_;else{var j=y.return;j!==null?(ce=j,xl(j)):ce=null}break t}}we=0,xt=null,ei(e,t,o,5);break;case 6:we=0,xt=null,ei(e,t,o,6);break;case 8:Ku(),De=6;break e;default:throw Error(r(462))}}Og();break}catch(U){Kh(e,U)}while(!0);return sa=nn=null,C.H=i,C.A=u,be=a,ce!==null?0:(Ae=null,he=0,$s(),De)}function Og(){for(;ce!==null&&!I0();)Zh(ce)}function Zh(e){var t=bh(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?xl(e):ce=t}function Ih(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=fh(a,t,t.pendingProps,t.type,void 0,he);break;case 11:t=fh(a,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:ru(t);default:wh(a,t),t=ce=Jc(t,ga),t=bh(a,t,ga)}e.memoizedProps=e.pendingProps,t===null?xl(e):ce=t}function ei(e,t,a,i){sa=nn=null,ru(t),Vn=null,Mi=0;var u=t.return;try{if(gg(e,u,t,a,he)){De=1,cl(e,Ct(a,e.current)),ce=null;return}}catch(o){if(u!==null)throw ce=u,o;De=1,cl(e,Ct(a,e.current)),ce=null;return}t.flags&32768?(me||i===1?e=!0:In||(he&536870912)!==0?e=!1:(Da=e=!0,(i===2||i===9||i===3||i===6)&&(i=wt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Ph(t,e)):xl(t)}function xl(e){var t=e;do{if((t.flags&32768)!==0){Ph(t,Da);return}e=t.return;var a=yg(t.alternate,t,ga);if(a!==null){ce=a;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);De===0&&(De=5)}function Ph(e,t){do{var a=bg(e.alternate,e);if(a!==null){a.flags&=32767,ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ce=e;return}ce=e=a}while(e!==null);De=6,ce=null}function Wh(e,t,a,i,u,o,h,y,_){e.cancelPendingCommit=null;do El();while(Ye!==0);if((be&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=Dr,lm(e,a,o,h,y,_),e===Ae&&(ce=Ae=null,he=0),Wn=t,La=e,va=a,$u=o,Vu=u,Gh=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kg(As,function(){return nf(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=C.T,C.T=null,u=Y.p,Y.p=2,h=be,be|=4;try{_g(e,t,a)}finally{be=h,Y.p=u,C.T=i}}Ye=1,Fh(),ef(),tf()}}function Fh(){if(Ye===1){Ye=0;var e=La,t=Wn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var i=Y.p;Y.p=2;var u=be;be|=4;try{Uh(t,e);var o=io,h=qc(e.containerInfo),y=o.focusedElem,_=o.selectionRange;if(h!==y&&y&&y.ownerDocument&&Bc(y.ownerDocument.documentElement,y)){if(_!==null&&Nr(y)){var j=_.start,U=_.end;if(U===void 0&&(U=j),"selectionStart"in y)y.selectionStart=j,y.selectionEnd=Math.min(U,y.value.length);else{var M=y.ownerDocument||document,N=M&&M.defaultView||window;if(N.getSelection){var R=N.getSelection(),J=y.textContent.length,ee=Math.min(_.start,J),Te=_.end===void 0?ee:Math.min(_.end,J);!R.extend&&ee>Te&&(h=Te,Te=ee,ee=h);var E=Lc(y,ee),S=Lc(y,Te);if(E&&S&&(R.rangeCount!==1||R.anchorNode!==E.node||R.anchorOffset!==E.offset||R.focusNode!==S.node||R.focusOffset!==S.offset)){var O=M.createRange();O.setStart(E.node,E.offset),R.removeAllRanges(),ee>Te?(R.addRange(O),R.extend(S.node,S.offset)):(O.setEnd(S.node,S.offset),R.addRange(O))}}}}for(M=[],R=y;R=R.parentNode;)R.nodeType===1&&M.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<M.length;y++){var z=M[y];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Ml=!!no,io=no=null}finally{be=u,Y.p=i,C.T=a}}e.current=t,Ye=2}}function ef(){if(Ye===2){Ye=0;var e=La,t=Wn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var i=Y.p;Y.p=2;var u=be;be|=4;try{jh(e,t.alternate,t)}finally{be=u,Y.p=i,C.T=a}}Ye=3}}function tf(){if(Ye===4||Ye===3){Ye=0,P0();var e=La,t=Wn,a=va,i=Gh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ye=5:(Ye=0,Wn=La=null,af(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Ma=null),cr(a),t=t.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(yi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=C.T,u=Y.p,Y.p=2,C.T=null;try{for(var o=e.onRecoverableError,h=0;h<i.length;h++){var y=i[h];o(y.value,{componentStack:y.stack})}}finally{C.T=t,Y.p=u}}(va&3)!==0&&El(),Wt(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===Yu?Fi++:(Fi=0,Yu=e):Fi=0,es(0)}}function af(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Di(t)))}function El(){return Fh(),ef(),tf(),nf()}function nf(){if(Ye!==5)return!1;var e=La,t=$u;$u=0;var a=cr(va),i=C.T,u=Y.p;try{Y.p=32>a?32:a,C.T=null,a=Vu,Vu=null;var o=La,h=va;if(Ye=0,Wn=La=null,va=0,(be&6)!==0)throw Error(r(331));var y=be;if(be|=4,Bh(o.current),zh(o,o.current,h,a),be=y,es(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(yi,o)}catch{}return!0}finally{Y.p=u,C.T=i,af(e,t)}}function sf(e,t,a){t=Ct(a,t),t=Su(e.stateNode,t,2),e=Ra(e,t,2),e!==null&&(_i(e,2),Wt(e))}function Se(e,t,a){if(e.tag===3)sf(e,e,a);else for(;t!==null;){if(t.tag===3){sf(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ma===null||!Ma.has(i))){e=Ct(a,e),a=sh(2),i=Ra(t,a,2),i!==null&&(lh(a,i,t,e),_i(i,2),Wt(i));break}}t=t.return}}function Xu(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new xg;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(a)||(qu=!0,u.add(a),e=jg.bind(null,e,t,a),t.then(e,e))}function jg(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ae===e&&(he&a)===a&&(De===4||De===3&&(he&62914560)===he&&300>vt()-yl?(be&2)===0&&Fn(e,0):Hu|=a,Pn===he&&(Pn=0)),Wt(e)}function lf(e,t){t===0&&(t=Fo()),e=en(e,t),e!==null&&(_i(e,t),Wt(e))}function Ng(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),lf(e,a)}function Rg(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),lf(e,a)}function kg(e,t){return lr(e,t)}var Tl=null,ti=null,Ju=!1,Al=!1,Zu=!1,qa=0;function Wt(e){e!==ti&&e.next===null&&(ti===null?Tl=ti=e:ti=ti.next=e),Al=!0,Ju||(Ju=!0,Ug())}function es(e,t){if(!Zu&&Al){Zu=!0;do for(var a=!1,i=Tl;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var o=0;else{var h=i.suspendedLanes,y=i.pingedLanes;o=(1<<31-yt(42|e)+1)-1,o&=u&~(h&~y),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(a=!0,cf(i,o))}else o=he,o=Rs(i,i===Ae?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(o&3)===0||bi(i,o)||(a=!0,cf(i,o));i=i.next}while(a);Zu=!1}}function Cg(){rf()}function rf(){Al=Ju=!1;var e=0;qa!==0&&Vg()&&(e=qa);for(var t=vt(),a=null,i=Tl;i!==null;){var u=i.next,o=uf(i,t);o===0?(i.next=null,a===null?Tl=u:a.next=u,u===null&&(ti=a)):(a=i,(e!==0||(o&3)!==0)&&(Al=!0)),i=u}Ye!==0&&Ye!==5||es(e),qa!==0&&(qa=0)}function uf(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var h=31-yt(o),y=1<<h,_=u[h];_===-1?((y&a)===0||(y&i)!==0)&&(u[h]=sm(y,t)):_<=t&&(e.expiredLanes|=y),o&=~y}if(t=Ae,a=he,a=Rs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(we===2||we===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&rr(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||bi(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&rr(i),cr(a)){case 2:case 8:a=Po;break;case 32:a=As;break;case 268435456:a=Wo;break;default:a=As}return i=of.bind(null,e),a=lr(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&rr(i),e.callbackPriority=2,e.callbackNode=null,2}function of(e,t){if(Ye!==0&&Ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(El()&&e.callbackNode!==a)return null;var i=he;return i=Rs(e,e===Ae?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Vh(e,i,t),uf(e,vt()),e.callbackNode!=null&&e.callbackNode===a?of.bind(null,e):null)}function cf(e,t){if(El())return null;Vh(e,t,!0)}function Ug(){Kg(function(){(be&6)!==0?lr(Io,Cg):rf()})}function Iu(){if(qa===0){var e=Hn;e===0&&(e=Os,Os<<=1,(Os&261888)===0&&(Os=256)),qa=e}return qa}function df(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ds(""+e)}function hf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Dg(e,t,a,i,u){if(t==="submit"&&a&&a.stateNode===u){var o=df((u[rt]||null).action),h=i.submitter;h&&(t=(t=h[rt]||null)?df(t.formAction):h.getAttribute("formAction"),t!==null&&(o=t,h=null));var y=new Bs("action","action",null,i,u);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(qa!==0){var _=h?hf(u,h):new FormData(u);vu(a,{pending:!0,data:_,method:u.method,action:o},null,_)}}else typeof o=="function"&&(y.preventDefault(),_=h?hf(u,h):new FormData(u),vu(a,{pending:!0,data:_,method:u.method,action:o},o,_))},currentTarget:u}]})}}for(var Pu=0;Pu<Ur.length;Pu++){var Wu=Ur[Pu],zg=Wu.toLowerCase(),Mg=Wu[0].toUpperCase()+Wu.slice(1);$t(zg,"on"+Mg)}$t($c,"onAnimationEnd"),$t(Vc,"onAnimationIteration"),$t(Yc,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(Wm,"onTransitionRun"),$t(Fm,"onTransitionStart"),$t(eg,"onTransitionCancel"),$t(Kc,"onTransitionEnd"),An("onMouseEnter",["mouseout","mouseover"]),An("onMouseLeave",["mouseout","mouseover"]),An("onPointerEnter",["pointerout","pointerover"]),An("onPointerLeave",["pointerout","pointerover"]),Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ts));function ff(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],u=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var h=i.length-1;0<=h;h--){var y=i[h],_=y.instance,j=y.currentTarget;if(y=y.listener,_!==o&&u.isPropagationStopped())break e;o=y,u.currentTarget=j;try{o(u)}catch(U){Gs(U)}u.currentTarget=null,o=_}else for(h=0;h<i.length;h++){if(y=i[h],_=y.instance,j=y.currentTarget,y=y.listener,_!==o&&u.isPropagationStopped())break e;o=y,u.currentTarget=j;try{o(u)}catch(U){Gs(U)}u.currentTarget=null,o=_}}}}function de(e,t){var a=t[dr];a===void 0&&(a=t[dr]=new Set);var i=e+"__bubble";a.has(i)||(mf(t,e,2,!1),a.add(i))}function Fu(e,t,a){var i=0;t&&(i|=4),mf(a,e,i,t)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function eo(e){if(!e[Ol]){e[Ol]=!0,lc.forEach(function(a){a!=="selectionchange"&&(Lg.has(a)||Fu(a,!1,e),Fu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ol]||(t[Ol]=!0,Fu("selectionchange",!1,t))}}function mf(e,t,a,i){switch(Vf(t)){case 2:var u=dv;break;case 8:u=hv;break;default:u=vo}a=u.bind(null,t,a,e),u=void 0,!_r||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function to(e,t,a,i,u){var o=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var y=i.stateNode.containerInfo;if(y===u)break;if(h===4)for(h=i.return;h!==null;){var _=h.tag;if((_===3||_===4)&&h.stateNode.containerInfo===u)return;h=h.return}for(;y!==null;){if(h=xn(y),h===null)return;if(_=h.tag,_===5||_===6||_===26||_===27){i=o=h;continue e}y=y.parentNode}}i=i.return}yc(function(){var j=o,U=yr(a),M=[];e:{var N=Qc.get(e);if(N!==void 0){var R=Bs,J=e;switch(e){case"keypress":if(Ms(a)===0)break e;case"keydown":case"keyup":R=Rm;break;case"focusin":J="focus",R=Er;break;case"focusout":J="blur",R=Er;break;case"beforeblur":case"afterblur":R=Er;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Um;break;case $c:case Vc:case Yc:R=wm;break;case Kc:R=zm;break;case"scroll":case"scrollend":R=vm;break;case"wheel":R=Lm;break;case"copy":case"cut":case"paste":R=xm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=xc;break;case"toggle":case"beforetoggle":R=qm}var ee=(t&4)!==0,Te=!ee&&(e==="scroll"||e==="scrollend"),E=ee?N!==null?N+"Capture":null:N;ee=[];for(var S=j,O;S!==null;){var z=S;if(O=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||O===null||E===null||(z=xi(S,E),z!=null&&ee.push(as(S,z,O))),Te)break;S=S.return}0<ee.length&&(N=new R(N,J,null,a,U),M.push({event:N,listeners:ee}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",N&&a!==pr&&(J=a.relatedTarget||a.fromElement)&&(xn(J)||J[Sn]))break e;if((R||N)&&(N=U.window===U?U:(N=U.ownerDocument)?N.defaultView||N.parentWindow:window,R?(J=a.relatedTarget||a.toElement,R=j,J=J?xn(J):null,J!==null&&(Te=d(J),ee=J.tag,J!==Te||ee!==5&&ee!==27&&ee!==6)&&(J=null)):(R=null,J=j),R!==J)){if(ee=wc,z="onMouseLeave",E="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(ee=xc,z="onPointerLeave",E="onPointerEnter",S="pointer"),Te=R==null?N:Si(R),O=J==null?N:Si(J),N=new ee(z,S+"leave",R,a,U),N.target=Te,N.relatedTarget=O,z=null,xn(U)===j&&(ee=new ee(E,S+"enter",J,a,U),ee.target=O,ee.relatedTarget=Te,z=ee),Te=z,R&&J)t:{for(ee=Bg,E=R,S=J,O=0,z=E;z;z=ee(z))O++;z=0;for(var F=S;F;F=ee(F))z++;for(;0<O-z;)E=ee(E),O--;for(;0<z-O;)S=ee(S),z--;for(;O--;){if(E===S||S!==null&&E===S.alternate){ee=E;break t}E=ee(E),S=ee(S)}ee=null}else ee=null;R!==null&&gf(M,N,R,ee,!1),J!==null&&Te!==null&&gf(M,Te,J,ee,!0)}}e:{if(N=j?Si(j):window,R=N.nodeName&&N.nodeName.toLowerCase(),R==="select"||R==="input"&&N.type==="file")var pe=kc;else if(Nc(N))if(Cc)pe=Zm;else{pe=Xm;var Z=Qm}else R=N.nodeName,!R||R.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?j&&vr(j.elementType)&&(pe=kc):pe=Jm;if(pe&&(pe=pe(e,j))){Rc(M,pe,a,U);break e}Z&&Z(e,N,j),e==="focusout"&&j&&N.type==="number"&&j.memoizedProps.value!=null&&gr(N,"number",N.value)}switch(Z=j?Si(j):window,e){case"focusin":(Nc(Z)||Z.contentEditable==="true")&&(Cn=Z,Rr=j,ki=null);break;case"focusout":ki=Rr=Cn=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,Hc(M,a,U);break;case"selectionchange":if(Pm)break;case"keydown":case"keyup":Hc(M,a,U)}var re;if(Ar)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else kn?Oc(e,a)&&(fe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(fe="onCompositionStart");fe&&(Ec&&a.locale!=="ko"&&(kn||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&kn&&(re=bc()):(xa=U,wr="value"in xa?xa.value:xa.textContent,kn=!0)),Z=jl(j,fe),0<Z.length&&(fe=new Sc(fe,e,null,a,U),M.push({event:fe,listeners:Z}),re?fe.data=re:(re=jc(a),re!==null&&(fe.data=re)))),(re=Gm?$m(e,a):Vm(e,a))&&(fe=jl(j,"onBeforeInput"),0<fe.length&&(Z=new Sc("onBeforeInput","beforeinput",null,a,U),M.push({event:Z,listeners:fe}),Z.data=re)),Dg(M,e,j,a,U)}ff(M,t)})}function as(e,t,a){return{instance:e,listener:t,currentTarget:a}}function jl(e,t){for(var a=t+"Capture",i=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=xi(e,a),u!=null&&i.unshift(as(e,u,o)),u=xi(e,t),u!=null&&i.push(as(e,u,o))),e.tag===3)return i;e=e.return}return[]}function Bg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gf(e,t,a,i,u){for(var o=t._reactName,h=[];a!==null&&a!==i;){var y=a,_=y.alternate,j=y.stateNode;if(y=y.tag,_!==null&&_===i)break;y!==5&&y!==26&&y!==27||j===null||(_=j,u?(j=xi(a,o),j!=null&&h.unshift(as(a,j,_))):u||(j=xi(a,o),j!=null&&h.push(as(a,j,_)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var qg=/\r\n?/g,Hg=/\u0000|\uFFFD/g;function vf(e){return(typeof e=="string"?e:""+e).replace(qg,`
`).replace(Hg,"")}function pf(e,t){return t=vf(t),vf(e)===t}function Ee(e,t,a,i,u,o){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||jn(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&jn(e,""+i);break;case"className":Cs(e,"class",i);break;case"tabIndex":Cs(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(e,a,i);break;case"style":vc(e,i,o);break;case"data":if(t!=="object"){Cs(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Ds(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(a==="formAction"?(t!=="input"&&Ee(e,t,"name",u.name,u,null),Ee(e,t,"formEncType",u.formEncType,u,null),Ee(e,t,"formMethod",u.formMethod,u,null),Ee(e,t,"formTarget",u.formTarget,u,null)):(Ee(e,t,"encType",u.encType,u,null),Ee(e,t,"method",u.method,u,null),Ee(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Ds(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=ta);break;case"onScroll":i!=null&&de("scroll",e);break;case"onScrollEnd":i!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=Ds(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":de("beforetoggle",e),de("toggle",e),ks(e,"popover",i);break;case"xlinkActuate":ea(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ea(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ea(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ea(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ea(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ea(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ea(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ea(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ea(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ks(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mm.get(a)||a,ks(e,a,i))}}function ao(e,t,a,i,u,o){switch(a){case"style":vc(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof i=="string"?jn(e,i):(typeof i=="number"||typeof i=="bigint")&&jn(e,""+i);break;case"onScroll":i!=null&&de("scroll",e);break;case"onScrollEnd":i!=null&&de("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),o=e[rt]||null,o=o!=null?o[a]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof i=="function")){typeof o!="function"&&o!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,u);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):ks(e,a,i)}}}function Fe(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var i=!1,u=!1,o;for(o in a)if(a.hasOwnProperty(o)){var h=a[o];if(h!=null)switch(o){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ee(e,t,o,h,a,null)}}u&&Ee(e,t,"srcSet",a.srcSet,a,null),i&&Ee(e,t,"src",a.src,a,null);return;case"input":de("invalid",e);var y=o=h=u=null,_=null,j=null;for(i in a)if(a.hasOwnProperty(i)){var U=a[i];if(U!=null)switch(i){case"name":u=U;break;case"type":h=U;break;case"checked":_=U;break;case"defaultChecked":j=U;break;case"value":o=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:Ee(e,t,i,U,a,null)}}hc(e,o,y,_,j,h,u,!1);return;case"select":de("invalid",e),i=h=o=null;for(u in a)if(a.hasOwnProperty(u)&&(y=a[u],y!=null))switch(u){case"value":o=y;break;case"defaultValue":h=y;break;case"multiple":i=y;default:Ee(e,t,u,y,a,null)}t=o,a=h,e.multiple=!!i,t!=null?On(e,!!i,t,!1):a!=null&&On(e,!!i,a,!0);return;case"textarea":de("invalid",e),o=u=i=null;for(h in a)if(a.hasOwnProperty(h)&&(y=a[h],y!=null))switch(h){case"value":i=y;break;case"defaultValue":u=y;break;case"children":o=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Ee(e,t,h,y,a,null)}mc(e,i,u,o);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(i=a[_],i!=null))switch(_){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ee(e,t,_,i,a,null)}return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(i=0;i<ts.length;i++)de(ts[i],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(i=a[j],i!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ee(e,t,j,i,a,null)}return;default:if(vr(t)){for(U in a)a.hasOwnProperty(U)&&(i=a[U],i!==void 0&&ao(e,t,U,i,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(i=a[y],i!=null&&Ee(e,t,y,i,a,null))}function Gg(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,h=null,y=null,_=null,j=null,U=null;for(R in a){var M=a[R];if(a.hasOwnProperty(R)&&M!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":_=M;default:i.hasOwnProperty(R)||Ee(e,t,R,null,i,M)}}for(var N in i){var R=i[N];if(M=a[N],i.hasOwnProperty(N)&&(R!=null||M!=null))switch(N){case"type":o=R;break;case"name":u=R;break;case"checked":j=R;break;case"defaultChecked":U=R;break;case"value":h=R;break;case"defaultValue":y=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:R!==M&&Ee(e,t,N,R,i,M)}}mr(e,h,y,_,j,U,o,u);return;case"select":R=h=y=N=null;for(o in a)if(_=a[o],a.hasOwnProperty(o)&&_!=null)switch(o){case"value":break;case"multiple":R=_;default:i.hasOwnProperty(o)||Ee(e,t,o,null,i,_)}for(u in i)if(o=i[u],_=a[u],i.hasOwnProperty(u)&&(o!=null||_!=null))switch(u){case"value":N=o;break;case"defaultValue":y=o;break;case"multiple":h=o;default:o!==_&&Ee(e,t,u,o,i,_)}t=y,a=h,i=R,N!=null?On(e,!!a,N,!1):!!i!=!!a&&(t!=null?On(e,!!a,t,!0):On(e,!!a,a?[]:"",!1));return;case"textarea":R=N=null;for(y in a)if(u=a[y],a.hasOwnProperty(y)&&u!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ee(e,t,y,null,i,u)}for(h in i)if(u=i[h],o=a[h],i.hasOwnProperty(h)&&(u!=null||o!=null))switch(h){case"value":N=u;break;case"defaultValue":R=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==o&&Ee(e,t,h,u,i,o)}fc(e,N,R);return;case"option":for(var J in a)if(N=a[J],a.hasOwnProperty(J)&&N!=null&&!i.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Ee(e,t,J,null,i,N)}for(_ in i)if(N=i[_],R=a[_],i.hasOwnProperty(_)&&N!==R&&(N!=null||R!=null))switch(_){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Ee(e,t,_,N,i,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ee in a)N=a[ee],a.hasOwnProperty(ee)&&N!=null&&!i.hasOwnProperty(ee)&&Ee(e,t,ee,null,i,N);for(j in i)if(N=i[j],R=a[j],i.hasOwnProperty(j)&&N!==R&&(N!=null||R!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:Ee(e,t,j,N,i,R)}return;default:if(vr(t)){for(var Te in a)N=a[Te],a.hasOwnProperty(Te)&&N!==void 0&&!i.hasOwnProperty(Te)&&ao(e,t,Te,void 0,i,N);for(U in i)N=i[U],R=a[U],!i.hasOwnProperty(U)||N===R||N===void 0&&R===void 0||ao(e,t,U,N,i,R);return}}for(var E in a)N=a[E],a.hasOwnProperty(E)&&N!=null&&!i.hasOwnProperty(E)&&Ee(e,t,E,null,i,N);for(M in i)N=i[M],R=a[M],!i.hasOwnProperty(M)||N===R||N==null&&R==null||Ee(e,t,M,N,i,R)}function yf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $g(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var u=a[i],o=u.transferSize,h=u.initiatorType,y=u.duration;if(o&&y&&yf(h)){for(h=0,y=u.responseEnd,i+=1;i<a.length;i++){var _=a[i],j=_.startTime;if(j>y)break;var U=_.transferSize,M=_.initiatorType;U&&yf(M)&&(_=_.responseEnd,h+=U*(_<y?1:(y-j)/(_-j)))}if(--i,t+=8*(o+h)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var no=null,io=null;function Nl(e){return e.nodeType===9?e:e.ownerDocument}function bf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _f(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function so(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lo=null;function Vg(){var e=window.event;return e&&e.type==="popstate"?e===lo?!1:(lo=e,!0):(lo=null,!1)}var wf=typeof setTimeout=="function"?setTimeout:void 0,Yg=typeof clearTimeout=="function"?clearTimeout:void 0,Sf=typeof Promise=="function"?Promise:void 0,Kg=typeof queueMicrotask=="function"?queueMicrotask:typeof Sf<"u"?function(e){return Sf.resolve(null).then(e).catch(Qg)}:wf;function Qg(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function xf(e,t){var a=t,i=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(u),si(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")ns(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ns(a);for(var o=a.firstChild;o;){var h=o.nextSibling,y=o.nodeName;o[wi]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&o.rel.toLowerCase()==="stylesheet"||a.removeChild(o),o=h}}else a==="body"&&ns(e.ownerDocument.body);a=u}while(a);si(t)}function Ef(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function ro(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ro(a),hr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Xg(e,t,a,i){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[wi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Lt(e.nextSibling),e===null)break}return null}function Jg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Lt(e.nextSibling),e===null))return null;return e}function Tf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Lt(e.nextSibling),e===null))return null;return e}function uo(e){return e.data==="$?"||e.data==="$~"}function oo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Zg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var co=null;function Af(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Lt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Of(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function jf(e,t,a){switch(t=Nl(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ns(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hr(e)}var Bt=new Map,Nf=new Set;function Rl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pa=Y.d;Y.d={f:Ig,r:Pg,D:Wg,C:Fg,L:ev,m:tv,X:nv,S:av,M:iv};function Ig(){var e=pa.f(),t=wl();return e||t}function Pg(e){var t=En(e);t!==null&&t.tag===5&&t.type==="form"?Kd(t):pa.r(e)}var ai=typeof document>"u"?null:document;function Rf(e,t,a){var i=ai;if(i&&typeof t=="string"&&t){var u=Rt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Nf.has(u)||(Nf.add(u),e={rel:e,crossOrigin:a,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),Fe(t,"link",e),Qe(t),i.head.appendChild(t)))}}function Wg(e){pa.D(e),Rf("dns-prefetch",e,null)}function Fg(e,t){pa.C(e,t),Rf("preconnect",e,t)}function ev(e,t,a){pa.L(e,t,a);var i=ai;if(i&&e&&t){var u='link[rel="preload"][as="'+Rt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Rt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Rt(a.imageSizes)+'"]')):u+='[href="'+Rt(e)+'"]';var o=u;switch(t){case"style":o=ni(e);break;case"script":o=ii(e)}Bt.has(o)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Bt.set(o,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(is(o))||t==="script"&&i.querySelector(ss(o))||(t=i.createElement("link"),Fe(t,"link",e),Qe(t),i.head.appendChild(t)))}}function tv(e,t){pa.m(e,t);var a=ai;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Rt(i)+'"][href="'+Rt(e)+'"]',o=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ii(e)}if(!Bt.has(o)&&(e=x({rel:"modulepreload",href:e},t),Bt.set(o,e),a.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ss(o)))return}i=a.createElement("link"),Fe(i,"link",e),Qe(i),a.head.appendChild(i)}}}function av(e,t,a){pa.S(e,t,a);var i=ai;if(i&&e){var u=Tn(i).hoistableStyles,o=ni(e);t=t||"default";var h=u.get(o);if(!h){var y={loading:0,preload:null};if(h=i.querySelector(is(o)))y.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Bt.get(o))&&ho(e,a);var _=h=i.createElement("link");Qe(_),Fe(_,"link",e),_._p=new Promise(function(j,U){_.onload=j,_.onerror=U}),_.addEventListener("load",function(){y.loading|=1}),_.addEventListener("error",function(){y.loading|=2}),y.loading|=4,kl(h,t,i)}h={type:"stylesheet",instance:h,count:1,state:y},u.set(o,h)}}}function nv(e,t){pa.X(e,t);var a=ai;if(a&&e){var i=Tn(a).hoistableScripts,u=ii(e),o=i.get(u);o||(o=a.querySelector(ss(u)),o||(e=x({src:e,async:!0},t),(t=Bt.get(u))&&fo(e,t),o=a.createElement("script"),Qe(o),Fe(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function iv(e,t){pa.M(e,t);var a=ai;if(a&&e){var i=Tn(a).hoistableScripts,u=ii(e),o=i.get(u);o||(o=a.querySelector(ss(u)),o||(e=x({src:e,async:!0,type:"module"},t),(t=Bt.get(u))&&fo(e,t),o=a.createElement("script"),Qe(o),Fe(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function kf(e,t,a,i){var u=(u=ue.current)?Rl(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ni(a.href),a=Tn(u).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ni(a.href);var o=Tn(u).hoistableStyles,h=o.get(e);if(h||(u=u.ownerDocument||u,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,h),(o=u.querySelector(is(e)))&&!o._p&&(h.instance=o,h.state.loading=5),Bt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bt.set(e,a),o||sv(u,e,a,h.state))),t&&i===null)throw Error(r(528,""));return h}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ii(a),a=Tn(u).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ni(e){return'href="'+Rt(e)+'"'}function is(e){return'link[rel="stylesheet"]['+e+"]"}function Cf(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function sv(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Fe(t,"link",a),Qe(t),e.head.appendChild(t))}function ii(e){return'[src="'+Rt(e)+'"]'}function ss(e){return"script[async]"+e}function Uf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Rt(a.href)+'"]');if(i)return t.instance=i,Qe(i),i;var u=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Qe(i),Fe(i,"style",u),kl(i,a.precedence,e),t.instance=i;case"stylesheet":u=ni(a.href);var o=e.querySelector(is(u));if(o)return t.state.loading|=4,t.instance=o,Qe(o),o;i=Cf(a),(u=Bt.get(u))&&ho(i,u),o=(e.ownerDocument||e).createElement("link"),Qe(o);var h=o;return h._p=new Promise(function(y,_){h.onload=y,h.onerror=_}),Fe(o,"link",i),t.state.loading|=4,kl(o,a.precedence,e),t.instance=o;case"script":return o=ii(a.src),(u=e.querySelector(ss(o)))?(t.instance=u,Qe(u),u):(i=a,(u=Bt.get(o))&&(i=x({},a),fo(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),Qe(u),Fe(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,kl(i,a.precedence,e));return t.instance}function kl(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,o=u,h=0;h<i.length;h++){var y=i[h];if(y.dataset.precedence===t)o=y;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ho(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Cl=null;function Df(e,t,a){if(Cl===null){var i=new Map,u=Cl=new Map;u.set(a,i)}else u=Cl,i=u.get(a),i||(i=new Map,u.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var o=a[u];if(!(o[wi]||o[Ze]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var h=o.getAttribute(t)||"";h=e+h;var y=i.get(h);y?y.push(o):i.set(h,[o])}}return i}function zf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function lv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Mf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rv(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=ni(i.href),o=t.querySelector(is(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ul.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=o,Qe(o);return}o=t.ownerDocument||t,i=Cf(i),(u=Bt.get(u))&&ho(i,u),o=o.createElement("link"),Qe(o);var h=o;h._p=new Promise(function(y,_){h.onload=y,h.onerror=_}),Fe(o,"link",i),a.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ul.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var mo=0;function uv(e,t){return e.stylesheets&&e.count===0&&zl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&zl(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&mo===0&&(mo=62500*$g());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zl(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>mo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function Ul(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dl=null;function zl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dl=new Map,t.forEach(ov,e),Dl=null,Ul.call(e))}function ov(e,t){if(!(t.state.loading&4)){var a=Dl.get(e);if(a)var i=a.get(null);else{a=new Map,Dl.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var h=u[o];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),i=h)}i&&a.set(null,i)}u=t.instance,h=u.getAttribute("data-precedence"),o=a.get(h)||i,o===i&&a.set(null,u),a.set(h,u),this.count++,i=Ul.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var ls={$$typeof:$,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function cv(e,t,a,i,u,o,h,y,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ur(0),this.hiddenUpdates=ur(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Lf(e,t,a,i,u,o,h,y,_,j,U,M){return e=new cv(e,t,a,h,_,j,U,M,y),t=1,o===!0&&(t|=24),o=_t(3,null,null,t),e.current=o,o.stateNode=e,t=Qr(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:a,cache:t},Ir(o),e}function Bf(e){return e?(e=zn,e):zn}function qf(e,t,a,i,u,o){u=Bf(u),i.context===null?i.context=u:i.pendingContext=u,i=Na(t),i.payload={element:a},o=o===void 0?null:o,o!==null&&(i.callback=o),a=Ra(e,i,t),a!==null&&(ft(a,e,t),Bi(a,e,t))}function Hf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function go(e,t){Hf(e,t),(e=e.alternate)&&Hf(e,t)}function Gf(e){if(e.tag===13||e.tag===31){var t=en(e,67108864);t!==null&&ft(t,e,67108864),go(e,67108864)}}function $f(e){if(e.tag===13||e.tag===31){var t=Tt();t=or(t);var a=en(e,t);a!==null&&ft(a,e,t),go(e,t)}}var Ml=!0;function dv(e,t,a,i){var u=C.T;C.T=null;var o=Y.p;try{Y.p=2,vo(e,t,a,i)}finally{Y.p=o,C.T=u}}function hv(e,t,a,i){var u=C.T;C.T=null;var o=Y.p;try{Y.p=8,vo(e,t,a,i)}finally{Y.p=o,C.T=u}}function vo(e,t,a,i){if(Ml){var u=po(i);if(u===null)to(e,t,i,Ll,a),Yf(e,i);else if(mv(u,e,t,a,i))i.stopPropagation();else if(Yf(e,i),t&4&&-1<fv.indexOf(e)){for(;u!==null;){var o=En(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var h=Za(o.pendingLanes);if(h!==0){var y=o;for(y.pendingLanes|=2,y.entangledLanes|=2;h;){var _=1<<31-yt(h);y.entanglements[1]|=_,h&=~_}Wt(o),(be&6)===0&&(bl=vt()+500,es(0))}}break;case 31:case 13:y=en(o,2),y!==null&&ft(y,o,2),wl(),go(o,2)}if(o=po(i),o===null&&to(e,t,i,Ll,a),o===u)break;u=o}u!==null&&i.stopPropagation()}else to(e,t,i,null,a)}}function po(e){return e=yr(e),yo(e)}var Ll=null;function yo(e){if(Ll=null,e=xn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ll=e,null}function Vf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(W0()){case Io:return 2;case Po:return 8;case As:case F0:return 32;case Wo:return 268435456;default:return 32}default:return 32}}var bo=!1,Ga=null,$a=null,Va=null,rs=new Map,us=new Map,Ya=[],fv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yf(e,t){switch(e){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(t.pointerId)}}function os(e,t,a,i,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:o,targetContainers:[u]},t!==null&&(t=En(t),t!==null&&Gf(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function mv(e,t,a,i,u){switch(t){case"focusin":return Ga=os(Ga,e,t,a,i,u),!0;case"dragenter":return $a=os($a,e,t,a,i,u),!0;case"mouseover":return Va=os(Va,e,t,a,i,u),!0;case"pointerover":var o=u.pointerId;return rs.set(o,os(rs.get(o)||null,e,t,a,i,u)),!0;case"gotpointercapture":return o=u.pointerId,us.set(o,os(us.get(o)||null,e,t,a,i,u)),!0}return!1}function Kf(e){var t=xn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,ic(e.priority,function(){$f(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,ic(e.priority,function(){$f(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=po(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);pr=i,a.target.dispatchEvent(i),pr=null}else return t=En(a),t!==null&&Gf(t),e.blockedOn=a,!1;t.shift()}return!0}function Qf(e,t,a){Bl(e)&&a.delete(t)}function gv(){bo=!1,Ga!==null&&Bl(Ga)&&(Ga=null),$a!==null&&Bl($a)&&($a=null),Va!==null&&Bl(Va)&&(Va=null),rs.forEach(Qf),us.forEach(Qf)}function ql(e,t){e.blockedOn===t&&(e.blockedOn=null,bo||(bo=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,gv)))}var Hl=null;function Xf(e){Hl!==e&&(Hl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Hl===e&&(Hl=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(yo(i||a)===null)continue;break}var o=En(a);o!==null&&(e.splice(t,3),t-=3,vu(o,{pending:!0,data:u,method:a.method,action:i},i,u))}}))}function si(e){function t(_){return ql(_,e)}Ga!==null&&ql(Ga,e),$a!==null&&ql($a,e),Va!==null&&ql(Va,e),rs.forEach(t),us.forEach(t);for(var a=0;a<Ya.length;a++){var i=Ya[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ya.length&&(a=Ya[0],a.blockedOn===null);)Kf(a),a.blockedOn===null&&Ya.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var u=a[i],o=a[i+1],h=u[rt]||null;if(typeof o=="function")h||Xf(a);else if(h){var y=null;if(o&&o.hasAttribute("formAction")){if(u=o,h=o[rt]||null)y=h.formAction;else if(yo(u)!==null)continue}else y=h.action;typeof y=="function"?a[i+1]=y:(a.splice(i,3),i-=3),Xf(a)}}}function Jf(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(h){return u=h})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function _o(e){this._internalRoot=e}Gl.prototype.render=_o.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,i=Tt();qf(a,i,e,t,null,null)},Gl.prototype.unmount=_o.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qf(e.current,2,null,e,null,null),wl(),t[Sn]=null}};function Gl(e){this._internalRoot=e}Gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=nc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ya.length&&t!==0&&t<Ya[a].priority;a++);Ya.splice(a,0,e),a===0&&Kf(e)}};var Zf=n.version;if(Zf!=="19.2.4")throw Error(r(527,Zf,"19.2.4"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var vv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{yi=$l.inject(vv),pt=$l}catch{}}return ds.createRoot=function(e,t){if(!c(e))throw Error(r(299));var a=!1,i="",u=th,o=ah,h=nh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Lf(e,1,!1,null,null,a,i,null,u,o,h,Jf),e[Sn]=t.current,eo(e),new _o(t)},ds.hydrateRoot=function(e,t,a){if(!c(e))throw Error(r(299));var i=!1,u="",o=th,h=ah,y=nh,_=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(o=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=Lf(e,1,!0,t,a??null,i,u,_,o,h,y,Jf),t.context=Bf(null),a=t.current,i=Tt(),i=or(i),u=Na(i),u.callback=null,Ra(a,u,i),a=i,t.current.lanes=a,_i(t,a),Wt(t),e[Sn]=t.current,eo(e),new Gl(t)},ds.version="19.2.4",ds}var s0;function Ov(){if(s0)return So.exports;s0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),So.exports=Av(),So.exports}var jv=Ov();const Nv=yv(jv);var ge=Qo(),Jt=(s=>(s.TEACHER="teacher",s.STUDENT="student",s))(Jt||{}),qt=(s=>(s.NONE="none",s.PENDING="pending",s.APPROVED="approved",s.DENIED="denied",s))(qt||{}),ze=(s=>(s.UMBRAL="UMBRAL",s.MAPA="MAPA",s.NUCLEO="NUCLEO",s.SENALES="SENALES",s.PAUSAS="PAUSAS",s.TRAMPAS="TRAMPAS",s.SABIAS="SABIAS",s.CRUCES="CRUCES",s.RELECTURA="RELECTURA",s.EMOCIONAL="EMOCIONAL",s.AUTOTEST="AUTOTEST",s.CIERRE="CIERRE",s))(ze||{});function er(s,n){var l={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&n.indexOf(r)<0&&(l[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(s);c<r.length;c++)n.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(s,r[c])&&(l[r[c]]=s[r[c]]);return l}function Rv(s,n,l,r){function c(d){return d instanceof l?d:new l(function(f){f(d)})}return new(l||(l=Promise))(function(d,f){function m(b){try{p(r.next(b))}catch(x){f(x)}}function g(b){try{p(r.throw(b))}catch(x){f(x)}}function p(b){b.done?d(b.value):c(b.value).then(m,g)}p((r=r.apply(s,n||[])).next())})}const kv=s=>s?(...n)=>s(...n):(...n)=>fetch(...n);class Xo extends Error{constructor(n,l="FunctionsError",r){super(n),this.name=l,this.context=r}}class Cv extends Xo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class l0 extends Xo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class r0 extends Xo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Mo;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Mo||(Mo={}));class Uv{constructor(n,{headers:l={},customFetch:r,region:c=Mo.Any}={}){this.url=n,this.headers=l,this.region=c,this.fetch=kv(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Rv(this,arguments,void 0,function*(l,r={}){var c;let d,f;try{const{headers:m,method:g,body:p,signal:b,timeout:x}=r;let A={},{region:T}=r;T||(T=this.region);const k=new URL(`${this.url}/${l}`);T&&T!=="any"&&(A["x-region"]=T,k.searchParams.set("forceFunctionRegion",T));let B;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(A["Content-Type"]="application/octet-stream",B=p):typeof p=="string"?(A["Content-Type"]="text/plain",B=p):typeof FormData<"u"&&p instanceof FormData?B=p:(A["Content-Type"]="application/json",B=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?B=JSON.stringify(p):B=p;let L=b;x&&(f=new AbortController,d=setTimeout(()=>f.abort(),x),b?(L=f.signal,b.addEventListener("abort",()=>f.abort())):L=f.signal);const V=yield this.fetch(k.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},A),this.headers),m),body:B,signal:L}).catch(oe=>{throw new Cv(oe)}),q=V.headers.get("x-relay-error");if(q&&q==="true")throw new l0(V);if(!V.ok)throw new r0(V);let $=((c=V.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),X;return $==="application/json"?X=yield V.json():$==="application/octet-stream"||$==="application/pdf"?X=yield V.blob():$==="text/event-stream"?X=V:$==="multipart/form-data"?X=yield V.formData():X=yield V.text(),{data:X,error:null,response:V}}catch(m){return{data:null,error:m,response:m instanceof r0||m instanceof l0?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var Dv=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},zv=class{constructor(s){var n,l,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(n=s.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,this.urlLengthLimit=(r=s.urlLengthLimit)!==null&&r!==void 0?r:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=new Headers(this.headers),this.headers.set(s,n),this}then(s,n){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,m=null,g=null,p=d.status,b=d.statusText;if(d.ok){var x,A;if(l.method!=="HEAD"){var T;const V=await d.text();V===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((T=l.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?m=V:m=JSON.parse(V))}const B=(x=l.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),L=(A=d.headers.get("content-range"))===null||A===void 0?void 0:A.split("/");B&&L&&L.length>1&&(g=parseInt(L[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,p=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var k;const B=await d.text();try{f=JSON.parse(B),Array.isArray(f)&&d.status===404&&(m=[],f=null,p=200,b="OK")}catch{d.status===404&&B===""?(p=204,b="No Content"):f={message:B}}if(f&&l.isMaybeSingle&&(!(f==null||(k=f.details)===null||k===void 0)&&k.includes("0 rows"))&&(f=null,p=200,b="OK"),f&&l.shouldThrowOnError)throw new Dv(f)}return{error:f,data:m,count:g,status:p,statusText:b}});return this.shouldThrowOnError||(c=c.catch(d=>{var f;let m="",g="",p="";const b=d==null?void 0:d.cause;if(b){var x,A,T,k;const V=(x=b==null?void 0:b.message)!==null&&x!==void 0?x:"",q=(A=b==null?void 0:b.code)!==null&&A!==void 0?A:"";m=`${(T=d==null?void 0:d.name)!==null&&T!==void 0?T:"FetchError"}: ${d==null?void 0:d.message}`,m+=`

Caused by: ${(k=b==null?void 0:b.name)!==null&&k!==void 0?k:"Error"}: ${V}`,q&&(m+=` (${q})`),b!=null&&b.stack&&(m+=`
${b.stack}`)}else{var B;m=(B=d==null?void 0:d.stack)!==null&&B!==void 0?B:""}const L=this.url.toString().length;return(d==null?void 0:d.name)==="AbortError"||(d==null?void 0:d.code)==="ABORT_ERR"?(p="",g="Request was aborted (timeout or manual cancellation)",L>this.urlLengthLimit&&(g+=`. Note: Your request URL is ${L} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((b==null?void 0:b.name)==="HeadersOverflowError"||(b==null?void 0:b.code)==="UND_ERR_HEADERS_OVERFLOW")&&(p="",g="HTTP headers exceeded server limits (typically 16KB)",L>this.urlLengthLimit&&(g+=`. Your request URL is ${L} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:m,hint:g,code:p},data:null,count:null,status:0,statusText:""}})),c.then(s,n)}returns(){return this}overrideTypes(){return this}},Mv=class extends zv{select(s){let n=!1;const l=(s??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:n=!0,nullsFirst:l,foreignTable:r,referencedTable:c=r}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${s}.${n?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:n,referencedTable:l=n}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${s}`),this}range(s,n,{foreignTable:l,referencedTable:r=l}={}){const c=typeof r>"u"?"offset":`${r}.offset`,d=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(d,`${n-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:n=!1,settings:l=!1,buffers:r=!1,wal:c=!1,format:d="text"}={}){var f;const m=[s?"analyze":null,n?"verbose":null,l?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const u0=new RegExp("[,()]");var hi=class extends Mv{eq(s,n){return this.url.searchParams.append(s,`eq.${n}`),this}neq(s,n){return this.url.searchParams.append(s,`neq.${n}`),this}gt(s,n){return this.url.searchParams.append(s,`gt.${n}`),this}gte(s,n){return this.url.searchParams.append(s,`gte.${n}`),this}lt(s,n){return this.url.searchParams.append(s,`lt.${n}`),this}lte(s,n){return this.url.searchParams.append(s,`lte.${n}`),this}like(s,n){return this.url.searchParams.append(s,`like.${n}`),this}likeAllOf(s,n){return this.url.searchParams.append(s,`like(all).{${n.join(",")}}`),this}likeAnyOf(s,n){return this.url.searchParams.append(s,`like(any).{${n.join(",")}}`),this}ilike(s,n){return this.url.searchParams.append(s,`ilike.${n}`),this}ilikeAllOf(s,n){return this.url.searchParams.append(s,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(s,n){return this.url.searchParams.append(s,`ilike(any).{${n.join(",")}}`),this}regexMatch(s,n){return this.url.searchParams.append(s,`match.${n}`),this}regexIMatch(s,n){return this.url.searchParams.append(s,`imatch.${n}`),this}is(s,n){return this.url.searchParams.append(s,`is.${n}`),this}isDistinct(s,n){return this.url.searchParams.append(s,`isdistinct.${n}`),this}in(s,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&u0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}notIn(s,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&u0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`not.in.(${l})`),this}contains(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cs.{${n.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(n)}`),this}containedBy(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cd.{${n.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(n)}`),this}rangeGt(s,n){return this.url.searchParams.append(s,`sr.${n}`),this}rangeGte(s,n){return this.url.searchParams.append(s,`nxl.${n}`),this}rangeLt(s,n){return this.url.searchParams.append(s,`sl.${n}`),this}rangeLte(s,n){return this.url.searchParams.append(s,`nxr.${n}`),this}rangeAdjacent(s,n){return this.url.searchParams.append(s,`adj.${n}`),this}overlaps(s,n){return typeof n=="string"?this.url.searchParams.append(s,`ov.${n}`):this.url.searchParams.append(s,`ov.{${n.join(",")}}`),this}textSearch(s,n,{config:l,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${c}fts${d}.${n}`),this}match(s){return Object.entries(s).forEach(([n,l])=>{this.url.searchParams.append(n,`eq.${l}`)}),this}not(s,n,l){return this.url.searchParams.append(s,`not.${n}.${l}`),this}or(s,{foreignTable:n,referencedTable:l=n}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${s})`),this}filter(s,n,l){return this.url.searchParams.append(s,`${n}.${l}`),this}},Lv=class{constructor(s,{headers:n={},schema:l,fetch:r,urlLengthLimit:c=8e3}){this.url=s,this.headers=new Headers(n),this.schema=l,this.fetch=r,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,n){const{head:l=!1,count:r}=n??{},c=l?"HEAD":"GET";let d=!1;const f=(s??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join(""),{url:m,headers:g}=this.cloneRequestState();return m.searchParams.set("select",f),r&&g.append("Prefer",`count=${r}`),new hi({method:c,url:m,headers:g,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:n,defaultToNull:l=!0}={}){var r;const c="POST",{url:d,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),l||f.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(m.length>0){const g=[...new Set(m)].map(p=>`"${p}"`);d.searchParams.set("columns",g.join(","))}}return new hi({method:c,url:d,headers:f,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:n,ignoreDuplicates:l=!1,count:r,defaultToNull:c=!0}={}){var d;const f="POST",{url:m,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),n!==void 0&&m.searchParams.set("on_conflict",n),r&&g.append("Prefer",`count=${r}`),c||g.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(p.length>0){const b=[...new Set(p)].map(x=>`"${x}"`);m.searchParams.set("columns",b.join(","))}}return new hi({method:f,url:m,headers:g,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:n}={}){var l;const r="PATCH",{url:c,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new hi({method:r,url:c,headers:d,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var n;const l="DELETE",{url:r,headers:c}=this.cloneRequestState();return s&&c.append("Prefer",`count=${s}`),new hi({method:l,url:r,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function ys(s){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ys(s)}function Bv(s,n){if(ys(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,n);if(ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function qv(s){var n=Bv(s,"string");return ys(n)=="symbol"?n:n+""}function Hv(s,n,l){return(n=qv(n))in s?Object.defineProperty(s,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[n]=l,s}function o0(s,n){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function Vl(s){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?o0(Object(l),!0).forEach(function(r){Hv(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):o0(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}var Gv=class R0{constructor(n,{headers:l={},schema:r,fetch:c,timeout:d,urlLengthLimit:f=8e3}={}){this.url=n,this.headers=new Headers(l),this.schemaName=r,this.urlLengthLimit=f;const m=c??globalThis.fetch;d!==void 0&&d>0?this.fetch=(g,p)=>{const b=new AbortController,x=setTimeout(()=>b.abort(),d),A=p==null?void 0:p.signal;if(A){if(A.aborted)return clearTimeout(x),m(g,p);const T=()=>{clearTimeout(x),b.abort()};return A.addEventListener("abort",T,{once:!0}),m(g,Vl(Vl({},p),{},{signal:b.signal})).finally(()=>{clearTimeout(x),A.removeEventListener("abort",T)})}return m(g,Vl(Vl({},p),{},{signal:b.signal})).finally(()=>clearTimeout(x))}:this.fetch=m}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Lv(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new R0(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,l={},{head:r=!1,get:c=!1,count:d}={}){var f;let m;const g=new URL(`${this.url}/rpc/${n}`);let p;const b=T=>T!==null&&typeof T=="object"&&(!Array.isArray(T)||T.some(b)),x=r&&Object.values(l).some(b);x?(m="POST",p=l):r||c?(m=r?"HEAD":"GET",Object.entries(l).filter(([T,k])=>k!==void 0).map(([T,k])=>[T,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([T,k])=>{g.searchParams.append(T,k)})):(m="POST",p=l);const A=new Headers(this.headers);return x?A.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&A.set("Prefer",`count=${d}`),new hi({method:m,url:g,headers:A,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class $v{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const r=l.versions;if(r&&r.node){const c=r.node,d=parseInt(c.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let l=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(l+=`

Suggested solution: ${n.workaround}`),new Error(l)}static createWebSocket(n,l){const r=this.getWebSocketConstructor();return new r(n,l)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Vv="2.94.1",Yv=`realtime-js/${Vv}`,Kv="1.0.0",k0="2.0.0",c0=k0,Lo=1e4,Qv=1e3,Xv=100;var Qa;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Qa||(Qa={}));var Ke;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Ke||(Ke={}));var Xt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Xt||(Xt={}));var Bo;(function(s){s.websocket="websocket"})(Bo||(Bo={}));var pn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(pn||(pn={}));class Jv{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,l){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var l;return this._isArrayBuffer((l=n.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var l,r;const c=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var l,r;const c=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,l,r){var c,d;const f=n.topic,m=(c=n.ref)!==null&&c!==void 0?c:"",g=(d=n.join_ref)!==null&&d!==void 0?d:"",p=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},x=Object.keys(b).length===0?"":JSON.stringify(b);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const A=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+f.length+p.length+x.length,T=new ArrayBuffer(this.HEADER_LENGTH+A);let k=new DataView(T),B=0;k.setUint8(B++,this.KINDS.userBroadcastPush),k.setUint8(B++,g.length),k.setUint8(B++,m.length),k.setUint8(B++,f.length),k.setUint8(B++,p.length),k.setUint8(B++,x.length),k.setUint8(B++,l),Array.from(g,V=>k.setUint8(B++,V.charCodeAt(0))),Array.from(m,V=>k.setUint8(B++,V.charCodeAt(0))),Array.from(f,V=>k.setUint8(B++,V.charCodeAt(0))),Array.from(p,V=>k.setUint8(B++,V.charCodeAt(0))),Array.from(x,V=>k.setUint8(B++,V.charCodeAt(0)));var L=new Uint8Array(T.byteLength+r.byteLength);return L.set(new Uint8Array(T),0),L.set(new Uint8Array(r),T.byteLength),L.buffer}decode(n,l){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return l(r)}if(typeof n=="string"){const r=JSON.parse(n),[c,d,f,m,g]=r;return l({join_ref:c,ref:d,topic:f,event:m,payload:g})}return l({})}_binaryDecode(n){const l=new DataView(n),r=l.getUint8(0),c=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,l,c)}}_decodeUserBroadcast(n,l,r){const c=l.getUint8(1),d=l.getUint8(2),f=l.getUint8(3),m=l.getUint8(4);let g=this.HEADER_LENGTH+4;const p=r.decode(n.slice(g,g+c));g=g+c;const b=r.decode(n.slice(g,g+d));g=g+d;const x=r.decode(n.slice(g,g+f));g=g+f;const A=n.slice(g,n.byteLength),T=m===this.JSON_ENCODING?JSON.parse(r.decode(A)):A,k={type:this.BROADCAST_EVENT,event:b,payload:T};return f>0&&(k.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(n){var l;return n instanceof ArrayBuffer||((l=n==null?void 0:n.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(n,l){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>l.includes(r)))}}class C0{constructor(n,l){this.callback=n,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Oe||(Oe={}));const d0=(s,n,l={})=>{var r;const c=(r=l.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=Zv(f,s,n,c),d),{}):{}},Zv=(s,n,l,r)=>{const c=n.find(m=>m.name===s),d=c==null?void 0:c.type,f=l[s];return d&&!r.includes(d)?U0(d,f):qo(f)},U0=(s,n)=>{if(s.charAt(0)==="_"){const l=s.slice(1,s.length);return Fv(n,l)}switch(s){case Oe.bool:return Iv(n);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return Pv(n);case Oe.json:case Oe.jsonb:return Wv(n);case Oe.timestamp:return ep(n);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return qo(n);default:return qo(n)}},qo=s=>s,Iv=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Pv=s=>{if(typeof s=="string"){const n=parseFloat(s);if(!Number.isNaN(n))return n}return s},Wv=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},Fv=(s,n)=>{if(typeof s!="string")return s;const l=s.length-1,r=s[l];if(s[0]==="{"&&r==="}"){let d;const f=s.slice(1,l);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>U0(n,m))}return s},ep=s=>typeof s=="string"?s.replace(" ","T"):s,D0=s=>{const n=new URL(s);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Oo{constructor(n,l,r={},c=Lo){this.channel=n,this.event=l,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,l){var r;return this._hasReceived(n)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:l}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(l))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var h0;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(h0||(h0={}));class vs{constructor(n,l){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vs.syncState(this.state,c,d,f),this.pendingDiffs.forEach(g=>{this.state=vs.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=vs.syncDiff(this.state,c,d,f),m())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,l,r,c){const d=this.cloneDeep(n),f=this.transformState(l),m={},g={};return this.map(d,(p,b)=>{f[p]||(g[p]=b)}),this.map(f,(p,b)=>{const x=d[p];if(x){const A=b.map(L=>L.presence_ref),T=x.map(L=>L.presence_ref),k=b.filter(L=>T.indexOf(L.presence_ref)<0),B=x.filter(L=>A.indexOf(L.presence_ref)<0);k.length>0&&(m[p]=k),B.length>0&&(g[p]=B)}else m[p]=b}),this.syncDiff(d,{joins:m,leaves:g},r,c)}static syncDiff(n,l,r,c){const{joins:d,leaves:f}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(d,(m,g)=>{var p;const b=(p=n[m])!==null&&p!==void 0?p:[];if(n[m]=this.cloneDeep(g),b.length>0){const x=n[m].map(T=>T.presence_ref),A=b.filter(T=>x.indexOf(T.presence_ref)<0);n[m].unshift(...A)}r(m,b,g)}),this.map(f,(m,g)=>{let p=n[m];if(!p)return;const b=g.map(x=>x.presence_ref);p=p.filter(x=>b.indexOf(x.presence_ref)<0),n[m]=p,c(m,p,g),p.length===0&&delete n[m]}),n}static map(n,l){return Object.getOwnPropertyNames(n).map(r=>l(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((l,r)=>{const c=n[r];return"metas"in c?l[r]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):l[r]=c,l},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var f0;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(f0||(f0={}));var ps;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(ps||(ps={}));var ya;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(ya||(ya={}));class gi{constructor(n,l={config:{}},r){var c,d;if(this.topic=n,this.params=l,this.socket=r,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Oo(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new C0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new vs(this),this.broadcastEndpointURL=D0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,l=this.timeout){var r,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Ke.closed){const{config:{broadcast:f,presence:m,private:g}}=this.params,p=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(T=>T.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[ps.PRESENCE]&&this.bindings[ps.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,x={},A={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(T=>n==null?void 0:n(ya.CHANNEL_ERROR,T)),this._onClose(()=>n==null?void 0:n(ya.CLOSED)),this.updateJoinPayload(Object.assign({config:A},x)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:T})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){n==null||n(ya.SUBSCRIBED);return}else{const B=this.bindings.postgres_changes,L=(k=B==null?void 0:B.length)!==null&&k!==void 0?k:0,V=[];for(let q=0;q<L;q++){const $=B[q],{filter:{event:X,schema:oe,table:ie,filter:Q}}=$,_e=T&&T[q];if(_e&&_e.event===X&&gi.isFilterValueEqual(_e.schema,oe)&&gi.isFilterValueEqual(_e.table,ie)&&gi.isFilterValueEqual(_e.filter,Q))V.push(Object.assign(Object.assign({},$),{id:_e.id}));else{this.unsubscribe(),this.state=Ke.errored,n==null||n(ya.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,n&&n(ya.SUBSCRIBED);return}}).receive("error",T=>{this.state=Ke.errored,n==null||n(ya.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(ya.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,l={}){return await this.send({type:"presence",event:"track",payload:n},l.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,l,r){return this.state===Ke.joined&&n===ps.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,l,r)}async httpSend(n,l,r={}){var c;if(l==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:l,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const p=await m.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(n,l={}){var r,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,g;const p=this._push(n.type,n,l.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ke.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new Oo(this,Xt.leave,{},n),r.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ke.closed,this.bindings={}}async _fetchWithTimeout(n,l,r){const c=new AbortController,d=setTimeout(()=>c.abort(),r),f=await this.socket.fetch(n,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(d),f}_push(n,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Oo(this,n,l,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Xv){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(n,l,r){return l}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,l,r){var c,d;const f=n.toLocaleLowerCase(),{close:m,error:g,leave:p,join:b}=Xt;if(r&&[m,g,p,b].indexOf(f)>=0&&r!==this._joinRef())return;let A=this._onMessage(f,l,r);if(l&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(T=>{var k,B,L;return((k=T.filter)===null||k===void 0?void 0:k.event)==="*"||((L=(B=T.filter)===null||B===void 0?void 0:B.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===f}).map(T=>T.callback(A,r)):(d=this.bindings[f])===null||d===void 0||d.filter(T=>{var k,B,L,V,q,$;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in T){const X=T.id,oe=(k=T.filter)===null||k===void 0?void 0:k.event;return X&&((B=l.ids)===null||B===void 0?void 0:B.includes(X))&&(oe==="*"||(oe==null?void 0:oe.toLocaleLowerCase())===((L=l.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const X=(q=(V=T==null?void 0:T.filter)===null||V===void 0?void 0:V.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return X==="*"||X===(($=l==null?void 0:l.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===f}).map(T=>{if(typeof A=="object"&&"ids"in A){const k=A.data,{schema:B,table:L,commit_timestamp:V,type:q,errors:$}=k;A=Object.assign(Object.assign({},{schema:B,table:L,commit_timestamp:V,eventType:q,new:{},old:{},errors:$}),this._getPayloadRecords(k))}T.callback(A,r)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,l,r){const c=n.toLocaleLowerCase(),d={type:c,filter:l,callback:r};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,l){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&gi.isEqual(c.filter,l))})),this}static isEqual(n,l){if(Object.keys(n).length!==Object.keys(l).length)return!1;for(const r in n)if(n[r]!==l[r])return!1;return!0}static isFilterValueEqual(n,l){return(n??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Xt.close,{},n)}_onError(n){this._on(Xt.error,{},l=>n(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const l={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(l.new=d0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(l.old=d0(n.columns,n.old_record)),l}}const jo=()=>{},Yl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tp=[1e3,2e3,5e3,1e4],ap=1e4,np=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ip{constructor(n,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lo,this.transport=null,this.heartbeatIntervalMs=Yl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jo,this.ref=0,this.reconnectTimer=null,this.vsn=c0,this.logger=jo,this.conn=null,this.sendBuffer=[],this.serializer=new Jv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((r=l==null?void 0:l.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${n}/${Bo.websocket}`,this.httpEndpoint=D0(n),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$v.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const l=n.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const l=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const n=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,l,r){this.logger(n,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qa.connecting:return pn.Connecting;case Qa.open:return pn.Open;case Qa.closing:return pn.Closing;default:return pn.Closed}}isConnected(){return this.connectionState()===pn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,l={config:{}}){const r=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===r);if(c)return c;{const d=new gi(`realtime:${n}`,l,this);return this.channels.push(d),d}}push(n){const{topic:l,event:r,payload:c,ref:d}=n,f=()=>{this.encode(n,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${l} ${r} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Qv,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Yl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let l=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${n}"`),l.unsubscribe())}_remove(n){this.channels=this.channels.filter(l=>l.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",p)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:d,ref:f}=l,m=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${r} ${c} ${m}`.trim(),d),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(c,d,f)),this._triggerStateCallbacks("message",l)})}_clearTimer(n){var l;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Qa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qa.open||this.conn.readyState===Qa.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var l;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(l){this.log("error","error in heartbeat callback",l)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(Xt.error))}_appendParams(n,l){if(Object.keys(l).length===0)return n;const r=n.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${n}${r}${c}`}_workerObjectUrl(n){let l;if(n)l=n;else{const r=new Blob([np],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(n,l=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(n=null){let l,r=!1;if(n)l=n,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(c=>{const d={access_token:l,version:Yv};l&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(Xt.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${n}`,l)})}_triggerStateCallbacks(n,l){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(l)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new C0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var l,r,c,d,f,m,g,p,b,x,A,T;switch(this.transport=(l=n==null?void 0:n.transport)!==null&&l!==void 0?l:null,this.timeout=(r=n==null?void 0:n.timeout)!==null&&r!==void 0?r:Lo,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:Yl.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=n==null?void 0:n.heartbeatCallback)!==null&&m!==void 0?m:jo,this.vsn=(g=n==null?void 0:n.vsn)!==null&&g!==void 0?g:c0,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n==null?void 0:n.reconnectAfterMs)!==null&&p!==void 0?p:(k=>tp[k-1]||ap),this.vsn){case Kv:this.encode=(b=n==null?void 0:n.encode)!==null&&b!==void 0?b:((k,B)=>B(JSON.stringify(k))),this.decode=(x=n==null?void 0:n.decode)!==null&&x!==void 0?x:((k,B)=>B(JSON.parse(k)));break;case k0:this.encode=(A=n==null?void 0:n.encode)!==null&&A!==void 0?A:this.serializer.encode.bind(this.serializer),this.decode=(T=n==null?void 0:n.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var bs=class extends Error{constructor(s,n){var l;super(s),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((l=n.icebergType)==null?void 0:l.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function sp(s,n,l){const r=new URL(n,s);if(l)for(const[c,d]of Object.entries(l))d!==void 0&&r.searchParams.set(c,d);return r.toString()}async function lp(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function rp(s){const n=s.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:c,body:d,headers:f}){const m=sp(s.baseUrl,r,c),g=await lp(s.auth),p=await n(m,{method:l,headers:{...d?{"Content-Type":"application/json"}:{},...g,...f},body:d?JSON.stringify(d):void 0}),b=await p.text(),x=(p.headers.get("content-type")||"").includes("application/json"),A=x&&b?JSON.parse(b):b;if(!p.ok){const T=x?A:void 0,k=T==null?void 0:T.error;throw new bs((k==null?void 0:k.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:T})}return{status:p.status,headers:p.headers,data:A}}}}function Kl(s){return s.join("")}var up=class{constructor(s,n=""){this.client=s,this.prefix=n}async listNamespaces(s){const n=s?{parent:Kl(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(s,n){const l={namespace:s.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kl(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kl(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kl(s.namespace)}`}),!0}catch(n){if(n instanceof bs&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(s,n){try{return await this.createNamespace(s,n)}catch(l){if(l instanceof bs&&l.status===409)return;throw l}}};function li(s){return s.join("")}var op=class{constructor(s,n="",l){this.client=s,this.prefix=n,this.accessDelegation=l}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${li(s.namespace)}/tables`})).data.identifiers}async createTable(s,n){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${li(s.namespace)}/tables`,body:n,headers:l})).data.metadata}async updateTable(s,n){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${li(s.namespace)}/tables/${s.name}`,body:n});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(s,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${li(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${li(s.namespace)}/tables/${s.name}`,headers:n})).data.metadata}async tableExists(s){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${li(s.namespace)}/tables/${s.name}`,headers:n}),!0}catch(l){if(l instanceof bs&&l.status===404)return!1;throw l}}async createTableIfNotExists(s,n){try{return await this.createTable(s,n)}catch(l){if(l instanceof bs&&l.status===409)return await this.loadTable({namespace:s.namespace,name:n.name});throw l}}},cp=class{constructor(s){var r;let n="v1";s.catalogName&&(n+=`/${s.catalogName}`);const l=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=rp({baseUrl:l,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(r=s.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new up(this.client,n),this.tableOps=new op(this.client,n,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,n){return this.namespaceOps.createNamespace(s,n)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,n){return this.tableOps.createTable(s,n)}async updateTable(s,n){return this.tableOps.updateTable(s,n)}async dropTable(s,n){await this.tableOps.dropTable(s,n)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,n){return this.namespaceOps.createNamespaceIfNotExists(s,n)}async createTableIfNotExists(s,n){return this.tableOps.createTableIfNotExists(s,n)}},tr=class extends Error{constructor(s,n="storage",l,r){super(s),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=l,this.statusCode=r}};function ar(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Ql=class extends tr{constructor(s,n,l,r="storage"){super(s,r,n,l),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},z0=class extends tr{constructor(s,n,l="storage"){super(s,l),this.name=l==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const dp=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),hp=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Ho=s=>{if(Array.isArray(s))return s.map(l=>Ho(l));if(typeof s=="function"||s!==Object(s))return s;const n={};return Object.entries(s).forEach(([l,r])=>{const c=l.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=Ho(r)}),n},fp=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function _s(s){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_s(s)}function mp(s,n){if(_s(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,n);if(_s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function gp(s){var n=mp(s,"string");return _s(n)=="symbol"?n:n+""}function vp(s,n,l){return(n=gp(n))in s?Object.defineProperty(s,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[n]=l,s}function m0(s,n){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function ne(s){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?m0(Object(l),!0).forEach(function(r){vp(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):m0(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const g0=s=>{var n;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(n=s.error)===null||n===void 0?void 0:n.message)||JSON.stringify(s)},pp=async(s,n,l,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(l!=null&&l.noResolveJson)){const c=s,d=c.status||500;if(typeof c.json=="function")c.json().then(f=>{const m=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||d+"";n(new Ql(g0(f),d,m,r))}).catch(()=>{if(r==="vectors"){const f=d+"";n(new Ql(c.statusText||`HTTP ${d} error`,d,f,r))}else{const f=d+"";n(new Ql(c.statusText||`HTTP ${d} error`,d,f,r))}});else{const f=d+"";n(new Ql(c.statusText||`HTTP ${d} error`,d,f,r))}}else n(new z0(g0(s),s,r))},yp=(s,n,l,r)=>{const c={method:s,headers:(n==null?void 0:n.headers)||{}};return s==="GET"||s==="HEAD"||!r?ne(ne({},c),l):(hp(r)?(c.headers=ne({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(r)):c.body=r,n!=null&&n.duplex&&(c.duplex=n.duplex),ne(ne({},c),l))};async function hs(s,n,l,r,c,d,f){return new Promise((m,g)=>{s(l,yp(n,r,c,d)).then(p=>{if(!p.ok)throw p;if(r!=null&&r.noResolveJson)return p;if(f==="vectors"){const b=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!b||!b.includes("application/json"))return{}}return p.json()}).then(p=>m(p)).catch(p=>pp(p,g,r,f))})}function M0(s="storage"){return{get:async(n,l,r,c)=>hs(n,"GET",l,r,c,void 0,s),post:async(n,l,r,c,d)=>hs(n,"POST",l,c,d,r,s),put:async(n,l,r,c,d)=>hs(n,"PUT",l,c,d,r,s),head:async(n,l,r,c)=>hs(n,"HEAD",l,ne(ne({},r),{},{noResolveJson:!0}),c,void 0,s),remove:async(n,l,r,c,d)=>hs(n,"DELETE",l,c,d,r,s)}}const bp=M0("storage"),{get:ws,post:Qt,put:Go,head:_p,remove:Jo}=bp,Ot=M0("vectors");var pi=class{constructor(s,n={},l,r="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.fetch=dp(l),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(s){var n=this;try{return{data:await s(),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ar(l))return{data:null,error:l};throw l}}},wp=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}};let L0;L0=Symbol.toStringTag;var Sp=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[L0]="BlobDownloadBuilder",this.promise=null}asStream(){return new wp(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}};const xp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},v0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ep=class extends pi{constructor(s,n={},l,r){super(s,n,r,"storage"),this.bucketId=l}async uploadOrUpdate(s,n,l,r){var c=this;return c.handleOperation(async()=>{let d;const f=ne(ne({},v0),r);let m=ne(ne({},c.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",c.encodeMetadata(g)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),g&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(g))):(d=l,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),r!=null&&r.headers&&(m=ne(ne({},m),r.headers));const p=c._removeEmptyFolders(n),b=c._getFinalPath(p),x=await(s=="PUT"?Go:Qt)(c.fetch,`${c.url}/object/${b}`,d,ne({headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{path:p,id:x.Id,fullPath:x.Key}})}async upload(s,n,l){return this.uploadOrUpdate("POST",s,n,l)}async uploadToSignedUrl(s,n,l,r){var c=this;const d=c._removeEmptyFolders(s),f=c._getFinalPath(d),m=new URL(c.url+`/object/upload/sign/${f}`);return m.searchParams.set("token",n),c.handleOperation(async()=>{let g;const p=ne({upsert:v0.upsert},r),b=ne(ne({},c.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&l instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",l)):typeof FormData<"u"&&l instanceof FormData?(g=l,g.append("cacheControl",p.cacheControl)):(g=l,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType),{path:d,fullPath:(await Go(c.fetch,m.toString(),g,{headers:b})).Key}})}async createSignedUploadUrl(s,n){var l=this;return l.handleOperation(async()=>{let r=l._getFinalPath(s);const c=ne({},l.headers);n!=null&&n.upsert&&(c["x-upsert"]="true");const d=await Qt(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:c}),f=new URL(l.url+d.url),m=f.searchParams.get("token");if(!m)throw new tr("No token returned by API");return{signedUrl:f.toString(),path:s,token:m}})}async update(s,n,l){return this.uploadOrUpdate("PUT",s,n,l)}async move(s,n,l){var r=this;return r.handleOperation(async()=>await Qt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:s,destinationKey:n,destinationBucket:l==null?void 0:l.destinationBucket},{headers:r.headers}))}async copy(s,n,l){var r=this;return r.handleOperation(async()=>({path:(await Qt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:s,destinationKey:n,destinationBucket:l==null?void 0:l.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(s,n,l){var r=this;return r.handleOperation(async()=>{let c=r._getFinalPath(s),d=await Qt(r.fetch,`${r.url}/object/sign/${c}`,ne({expiresIn:n},l!=null&&l.transform?{transform:l.transform}:{}),{headers:r.headers});const f=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{signedUrl:encodeURI(`${r.url}${d.signedURL}${f}`)}})}async createSignedUrls(s,n,l){var r=this;return r.handleOperation(async()=>{const c=await Qt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:s},{headers:r.headers}),d=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return c.map(f=>ne(ne({},f),{},{signedUrl:f.signedURL?encodeURI(`${r.url}${f.signedURL}${d}`):null}))})}download(s,n){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=r?`?${r}`:"",d=this._getFinalPath(s),f=()=>ws(this.fetch,`${this.url}/${l}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new Sp(f,this.shouldThrowOnError)}async info(s){var n=this;const l=n._getFinalPath(s);return n.handleOperation(async()=>Ho(await ws(n.fetch,`${n.url}/object/info/${l}`,{headers:n.headers})))}async exists(s){var n=this;const l=n._getFinalPath(s);try{return await _p(n.fetch,`${n.url}/object/${l}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ar(r)&&r instanceof z0){const c=r.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:r}}throw r}}getPublicUrl(s,n){const l=this._getFinalPath(s),r=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&r.push(c);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&r.push(f);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${l}${m}`)}}}async remove(s){var n=this;return n.handleOperation(async()=>await Jo(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:s},{headers:n.headers}))}async list(s,n,l){var r=this;return r.handleOperation(async()=>{const c=ne(ne(ne({},xp),n),{},{prefix:s||""});return await Qt(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},l)})}async listV2(s,n){var l=this;return l.handleOperation(async()=>{const r=ne({},s);return await Qt(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},n)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}};const Tp="2.94.1",Ts={"X-Client-Info":`storage-js/${Tp}`};var Ap=class extends pi{constructor(s,n={},l,r){const c=new URL(s);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const d=c.href.replace(/\/$/,""),f=ne(ne({},Ts),n);super(d,f,l,"storage")}async listBuckets(s){var n=this;return n.handleOperation(async()=>{const l=n.listBucketOptionsToQueryString(s);return await ws(n.fetch,`${n.url}/bucket${l}`,{headers:n.headers})})}async getBucket(s){var n=this;return n.handleOperation(async()=>await ws(n.fetch,`${n.url}/bucket/${s}`,{headers:n.headers}))}async createBucket(s,n={public:!1}){var l=this;return l.handleOperation(async()=>await Qt(l.fetch,`${l.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}))}async updateBucket(s,n){var l=this;return l.handleOperation(async()=>await Go(l.fetch,`${l.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}))}async emptyBucket(s){var n=this;return n.handleOperation(async()=>await Qt(n.fetch,`${n.url}/bucket/${s}/empty`,{},{headers:n.headers}))}async deleteBucket(s){var n=this;return n.handleOperation(async()=>await Jo(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Op=class extends pi{constructor(s,n={},l){const r=s.replace(/\/$/,""),c=ne(ne({},Ts),n);super(r,c,l,"storage")}async createBucket(s){var n=this;return n.handleOperation(async()=>await Qt(n.fetch,`${n.url}/bucket`,{name:s},{headers:n.headers}))}async listBuckets(s){var n=this;return n.handleOperation(async()=>{const l=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&l.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&l.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&l.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&l.set("sortOrder",s.sortOrder),s!=null&&s.search&&l.set("search",s.search);const r=l.toString(),c=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return await ws(n.fetch,c,{headers:n.headers})})}async deleteBucket(s){var n=this;return n.handleOperation(async()=>await Jo(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}))}from(s){var n=this;if(!fp(s))throw new tr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new cp({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(c,d){const f=c[d];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(c,m),error:null}}catch(g){if(r)throw g;return{data:null,error:g}}}}})}},jp=class extends pi{constructor(s,n={},l){const r=s.replace(/\/$/,""),c=ne(ne({},Ts),{},{"Content-Type":"application/json"},n);super(r,c,l,"vectors")}async createIndex(s){var n=this;return n.handleOperation(async()=>await Ot.post(n.fetch,`${n.url}/CreateIndex`,s,{headers:n.headers})||{})}async getIndex(s,n){var l=this;return l.handleOperation(async()=>await Ot.post(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:l.headers}))}async listIndexes(s){var n=this;return n.handleOperation(async()=>await Ot.post(n.fetch,`${n.url}/ListIndexes`,s,{headers:n.headers}))}async deleteIndex(s,n){var l=this;return l.handleOperation(async()=>await Ot.post(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:l.headers})||{})}},Np=class extends pi{constructor(s,n={},l){const r=s.replace(/\/$/,""),c=ne(ne({},Ts),{},{"Content-Type":"application/json"},n);super(r,c,l,"vectors")}async putVectors(s){var n=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Ot.post(n.fetch,`${n.url}/PutVectors`,s,{headers:n.headers})||{})}async getVectors(s){var n=this;return n.handleOperation(async()=>await Ot.post(n.fetch,`${n.url}/GetVectors`,s,{headers:n.headers}))}async listVectors(s){var n=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return n.handleOperation(async()=>await Ot.post(n.fetch,`${n.url}/ListVectors`,s,{headers:n.headers}))}async queryVectors(s){var n=this;return n.handleOperation(async()=>await Ot.post(n.fetch,`${n.url}/QueryVectors`,s,{headers:n.headers}))}async deleteVectors(s){var n=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Ot.post(n.fetch,`${n.url}/DeleteVectors`,s,{headers:n.headers})||{})}},Rp=class extends pi{constructor(s,n={},l){const r=s.replace(/\/$/,""),c=ne(ne({},Ts),{},{"Content-Type":"application/json"},n);super(r,c,l,"vectors")}async createBucket(s){var n=this;return n.handleOperation(async()=>await Ot.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{})}async getBucket(s){var n=this;return n.handleOperation(async()=>await Ot.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:s},{headers:n.headers}))}async listBuckets(s={}){var n=this;return n.handleOperation(async()=>await Ot.post(n.fetch,`${n.url}/ListVectorBuckets`,s,{headers:n.headers}))}async deleteBucket(s){var n=this;return n.handleOperation(async()=>await Ot.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{})}},kp=class extends Rp{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new Cp(this.url,this.headers,s,this.fetch)}async createBucket(s){var n=()=>super.createBucket,l=this;return n().call(l,s)}async getBucket(s){var n=()=>super.getBucket,l=this;return n().call(l,s)}async listBuckets(s={}){var n=()=>super.listBuckets,l=this;return n().call(l,s)}async deleteBucket(s){var n=()=>super.deleteBucket,l=this;return n().call(l,s)}},Cp=class extends jp{constructor(s,n,l,r){super(s,n,r),this.vectorBucketName=l}async createIndex(s){var n=()=>super.createIndex,l=this;return n().call(l,ne(ne({},s),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(s={}){var n=()=>super.listIndexes,l=this;return n().call(l,ne(ne({},s),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(s){var n=()=>super.getIndex,l=this;return n().call(l,l.vectorBucketName,s)}async deleteIndex(s){var n=()=>super.deleteIndex,l=this;return n().call(l,l.vectorBucketName,s)}index(s){return new Up(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Up=class extends Np{constructor(s,n,l,r,c){super(s,n,c),this.vectorBucketName=l,this.indexName=r}async putVectors(s){var n=()=>super.putVectors,l=this;return n().call(l,ne(ne({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(s){var n=()=>super.getVectors,l=this;return n().call(l,ne(ne({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(s={}){var n=()=>super.listVectors,l=this;return n().call(l,ne(ne({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(s){var n=()=>super.queryVectors,l=this;return n().call(l,ne(ne({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(s){var n=()=>super.deleteVectors,l=this;return n().call(l,ne(ne({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},Dp=class extends Ap{constructor(s,n={},l,r){super(s,n,l,r)}from(s){return new Ep(this.url,this.headers,s,this.fetch)}get vectors(){return new kp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Op(this.url+"/iceberg",this.headers,this.fetch)}};const B0="2.94.1",fi=30*1e3,$o=3,No=$o*fi,zp="http://localhost:9999",Mp="supabase.auth.token",Lp={"X-Client-Info":`gotrue-js/${B0}`},Vo="X-Supabase-Api-Version",q0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qp=600*1e3;class Ss extends Error{constructor(n,l,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function P(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Hp extends Ss{constructor(n,l,r){super(n,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function Gp(s){return P(s)&&s.name==="AuthApiError"}class yn extends Ss{constructor(n,l){super(n),this.name="AuthUnknownError",this.originalError=l}}class ba extends Ss{constructor(n,l,r,c){super(n,r,c),this.name=l,this.status=r}}class At extends ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ro(s){return P(s)&&s.name==="AuthSessionMissingError"}class ri extends ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xl extends ba{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Jl extends ba{constructor(n,l=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $p(s){return P(s)&&s.name==="AuthImplicitGrantRedirectError"}class p0 extends ba{constructor(n,l=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vp extends ba{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Yo extends ba{constructor(n,l){super(n,"AuthRetryableFetchError",l,void 0)}}function ko(s){return P(s)&&s.name==="AuthRetryableFetchError"}class y0 extends ba{constructor(n,l,r){super(n,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class Ko extends ba{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Il="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),b0=` 	
\r=`.split(""),Yp=(()=>{const s=new Array(128);for(let n=0;n<s.length;n+=1)s[n]=-1;for(let n=0;n<b0.length;n+=1)s[b0[n].charCodeAt(0)]=-2;for(let n=0;n<Il.length;n+=1)s[Il[n].charCodeAt(0)]=n;return s})();function _0(s,n,l){if(s!==null)for(n.queue=n.queue<<8|s,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(Il[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(Il[r]),n.queuedBits-=6}}function H0(s,n,l){const r=Yp[s];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)l(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function w0(s){const n=[],l=f=>{n.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{Xp(f,r,l)};for(let f=0;f<s.length;f+=1)H0(s.charCodeAt(f),c,d);return n.join("")}function Kp(s,n){if(s<=127){n(s);return}else if(s<=2047){n(192|s>>6),n(128|s&63);return}else if(s<=65535){n(224|s>>12),n(128|s>>6&63),n(128|s&63);return}else if(s<=1114111){n(240|s>>18),n(128|s>>12&63),n(128|s>>6&63),n(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Qp(s,n){for(let l=0;l<s.length;l+=1){let r=s.charCodeAt(l);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(s.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}Kp(r,n)}}function Xp(s,n,l){if(n.utf8seq===0){if(s<=127){l(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=s&31;else if(n.utf8seq===3)n.codepoint=s&15;else if(n.utf8seq===4)n.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|s&63,n.utf8seq-=1,n.utf8seq===0&&l(n.codepoint)}}function vi(s){const n=[],l={queue:0,queuedBits:0},r=c=>{n.push(c)};for(let c=0;c<s.length;c+=1)H0(s.charCodeAt(c),l,r);return new Uint8Array(n)}function Jp(s){const n=[];return Qp(s,l=>n.push(l)),new Uint8Array(n)}function bn(s){const n=[],l={queue:0,queuedBits:0},r=c=>{n.push(c)};return s.forEach(c=>_0(c,l,r)),_0(null,l,r),n.join("")}function Zp(s){return Math.round(Date.now()/1e3)+s}function Ip(){return Symbol("auth-callback")}const tt=()=>typeof window<"u"&&typeof document<"u",mn={tested:!1,writable:!1},G0=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mn.tested)return mn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),mn.tested=!0,mn.writable=!0}catch{mn.tested=!0,mn.writable=!1}return mn.writable};function Pp(s){const n={},l=new URL(s);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return l.searchParams.forEach((r,c)=>{n[c]=r}),n}const $0=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Wp=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",mi=async(s,n,l)=>{await s.setItem(n,JSON.stringify(l))},gn=async(s,n)=>{const l=await s.getItem(n);if(!l)return null;try{return JSON.parse(l)}catch{return l}},et=async(s,n)=>{await s.removeItem(n)};class nr{constructor(){this.promise=new nr.promiseConstructor((n,l)=>{this.resolve=n,this.reject=l})}}nr.promiseConstructor=Promise;function Zl(s){const n=s.split(".");if(n.length!==3)throw new Ko("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!Bp.test(n[r]))throw new Ko("JWT not in base64url format");return{header:JSON.parse(w0(n[0])),payload:JSON.parse(w0(n[1])),signature:vi(n[2]),raw:{header:n[0],payload:n[1]}}}async function Fp(s){return await new Promise(n=>{setTimeout(()=>n(null),s)})}function ey(s,n){return new Promise((r,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await s(d);if(!n(d,null,f)){r(f);return}}catch(f){if(!n(d,f)){c(f);return}}})()})}function ty(s){return("0"+s.toString(16)).substr(-2)}function ay(){const n=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let c="";for(let d=0;d<56;d++)c+=l.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(n),Array.from(n,ty).join("")}async function ny(s){const l=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(r);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function iy(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const l=await ny(s);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ui(s,n,l=!1){const r=ay();let c=r;l&&(c+="/PASSWORD_RECOVERY"),await mi(s,`${n}-code-verifier`,c);const d=await iy(r);return[d,r===d?"plain":"s256"]}const sy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ly(s){const n=s.headers.get(Vo);if(!n||!n.match(sy))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function ry(s){if(!s)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(s<=n)throw new Error("JWT has expired")}function uy(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oi(s){if(!oy.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Co(){const s={};return new Proxy(s,{get:(n,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cy(s,n){return new Proxy(s,{get:(l,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const d=r.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,c)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(l,r,c)}})}function S0(s){return JSON.parse(JSON.stringify(s))}const vn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),dy=[502,503,504];async function x0(s){var n;if(!Wp(s))throw new Yo(vn(s),0);if(dy.includes(s.status))throw new Yo(vn(s),s.status);let l;try{l=await s.json()}catch(d){throw new yn(vn(d),d)}let r;const c=ly(s);if(c&&c.getTime()>=q0["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new y0(vn(l),s.status,((n=l.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new At}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new y0(vn(l),s.status,l.weak_password.reasons);throw new Hp(vn(l),s.status||500,r)}const hy=(s,n,l,r)=>{const c={method:s,headers:(n==null?void 0:n.headers)||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),l))};async function ae(s,n,l,r){var c;const d=Object.assign({},r==null?void 0:r.headers);d[Vo]||(d[Vo]=q0["2024-01-01"].name),r!=null&&r.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const f=(c=r==null?void 0:r.query)!==null&&c!==void 0?c:{};r!=null&&r.redirectTo&&(f.redirect_to=r.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await fy(s,n,l+m,{headers:d,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function fy(s,n,l,r,c,d){const f=hy(n,r,c,d);let m;try{m=await s(l,Object.assign({},f))}catch(g){throw console.error(g),new Yo(vn(g),0)}if(m.ok||await x0(m),r!=null&&r.noResolveJson)return m;try{return await m.json()}catch(g){await x0(g)}}function Kt(s){var n;let l=null;vy(s)&&(l=Object.assign({},s),s.expires_at||(l.expires_at=Zp(s.expires_in)));const r=(n=s.user)!==null&&n!==void 0?n:s;return{data:{session:l,user:r},error:null}}function E0(s){const n=Kt(s);return!n.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(n.data.weak_password=s.weak_password),n}function Xa(s){var n;return{data:{user:(n=s.user)!==null&&n!==void 0?n:s},error:null}}function my(s){return{data:s,error:null}}function gy(s){const{action_link:n,email_otp:l,hashed_token:r,redirect_to:c,verification_type:d}=s,f=er(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:l,hashed_token:r,redirect_to:c,verification_type:d},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function T0(s){return s}function vy(s){return s.access_token&&s.refresh_token&&s.expires_in}const Uo=["global","local","others"];class py{constructor({url:n="",headers:l={},fetch:r}){this.url=n,this.headers=l,this.fetch=$0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,l=Uo[0]){if(Uo.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Uo.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,l={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:Xa})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:l}=n,r=er(n,["options"]),c=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(c.new_email=r==null?void 0:r.newEmail,delete c.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:gy,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(P(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(n){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Xa})}catch(l){if(P(l))return{data:{user:null},error:l};throw l}}async listUsers(n){var l,r,c,d,f,m,g;try{const p={nextPage:null,lastPage:0,total:0},b=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n==null?void 0:n.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:T0});if(b.error)throw b.error;const x=await b.json(),A=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return T.length>0&&(T.forEach(k=>{const B=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(k.split(";")[1].split("=")[1]);p[`${L}Page`]=B}),p.total=parseInt(A)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(P(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){oi(n);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Xa})}catch(l){if(P(l))return{data:{user:null},error:l};throw l}}async updateUserById(n,l){oi(n);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:l,headers:this.headers,xform:Xa})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,l=!1){oi(n);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:l},xform:Xa})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){oi(n.userId);try{const{data:l,error:r}=await ae(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:r}}catch(l){if(P(l))return{data:null,error:l};throw l}}async _deleteFactor(n){oi(n.userId),oi(n.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(l){if(P(l))return{data:null,error:l};throw l}}async _listOAuthClients(n){var l,r,c,d,f,m,g;try{const p={nextPage:null,lastPage:0,total:0},b=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n==null?void 0:n.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:T0});if(b.error)throw b.error;const x=await b.json(),A=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return T.length>0&&(T.forEach(k=>{const B=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(k.split(";")[1].split("=")[1]);p[`${L}Page`]=B}),p.total=parseInt(A)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(P(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(P(l))return{data:null,error:l};throw l}}async _getOAuthClient(n){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(P(l))return{data:null,error:l};throw l}}async _updateOAuthClient(n,l){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(P(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(n){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(P(l))return{data:null,error:l};throw l}}}function A0(s={}){return{getItem:n=>s[n]||null,setItem:(n,l)=>{s[n]=l},removeItem:n=>{delete s[n]}}}const ci={debug:!!(globalThis&&G0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class V0 extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class yy extends V0{}async function by(s,n,l){ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),ci.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await l()}finally{ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(n===0)throw ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new yy(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(ci.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function _y(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Y0(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function wy(s){return parseInt(s,16)}function Sy(s){const n=new TextEncoder().encode(s);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function xy(s){var n;const{chainId:l,domain:r,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:g,resources:p,scheme:b,uri:x,version:A}=s;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((n=s.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const T=Y0(s.address),k=b?`${b}://${r}`:r,B=s.statement?`${s.statement}
`:"",L=`${k} wants you to sign in with your Ethereum account:
${T}

${B}`;let V=`URI: ${x}
Version: ${A}
Chain ID: ${l}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(V+=`
Expiration Time: ${c.toISOString()}`),m&&(V+=`
Not Before: ${m.toISOString()}`),g&&(V+=`
Request ID: ${g}`),p){let q=`
Resources:`;for(const $ of p){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);q+=`
- ${$}`}V+=q}return`${L}
${V}`}class Ve extends Error{constructor({message:n,code:l,cause:r,name:c}){var d;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(d=c??(r instanceof Error?r.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=l}}class Pl extends Ve{constructor(n,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:n}),this.name="WebAuthnUnknownError",this.originalError=l}}function Ey({error:s,options:n}){var l,r,c;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((l=d.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new Ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(n.mediation==="conditional"&&((r=d.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ve({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const f=window.location.hostname;if(K0(f)){if(d.rp.id!==f)return new Ve({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Ty({error:s,options:n}){const{publicKey:l}=n;if(!l)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ve({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const r=window.location.hostname;if(K0(r)){if(l.rpId!==r)return new Ve({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Ay{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Oy=new Ay;function jy(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:n,user:l,excludeCredentials:r}=s,c=er(s,["challenge","user","excludeCredentials"]),d=vi(n).buffer,f=Object.assign(Object.assign({},l),{id:vi(l.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:f});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const p=r[g];m.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:vi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function Ny(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:n,allowCredentials:l}=s,r=er(s,["challenge","allowCredentials"]),c=vi(n).buffer,d=Object.assign(Object.assign({},r),{challenge:c});if(l&&l.length>0){d.allowCredentials=new Array(l.length);for(let f=0;f<l.length;f++){const m=l[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:vi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Ry(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s;return{id:s.id,rawId:s.id,response:{attestationObject:bn(new Uint8Array(s.response.attestationObject)),clientDataJSON:bn(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function ky(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s,r=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:bn(new Uint8Array(c.authenticatorData)),clientDataJSON:bn(new Uint8Array(c.clientDataJSON)),signature:bn(new Uint8Array(c.signature)),userHandle:c.userHandle?bn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function K0(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function O0(){var s,n;return!!(tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Cy(s){try{const n=await navigator.credentials.create(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Pl("Browser returned unexpected credential type",n)}:{data:null,error:new Pl("Empty credential response",n)}}catch(n){return{data:null,error:Ey({error:n,options:s})}}}async function Uy(s){try{const n=await navigator.credentials.get(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Pl("Browser returned unexpected credential type",n)}:{data:null,error:new Pl("Empty credential response",n)}}catch(n){return{data:null,error:Ty({error:n,options:s})}}}const Dy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},zy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wl(...s){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),l=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of s)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))r[d]=f;else if(l(f))r[d]=f;else if(n(f)){const m=r[d];n(m)?r[d]=Wl(m,f):r[d]=Wl(f)}else r[d]=f}return r}function My(s,n){return Wl(Dy,s,n||{})}function Ly(s,n){return Wl(zy,s,n||{})}class By{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:l,friendlyName:r,signal:c},d){var f;try{const{data:m,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:l});if(!m)return{data:null,error:g};const p=c??Oy.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:b}=m.webauthn.credential_options.publicKey;if(!b.name){const x=r;if(x)b.name=`${b.id}:${x}`;else{const T=(await this.client.getUser()).data.user,k=((f=T==null?void 0:T.user_metadata)===null||f===void 0?void 0:f.name)||(T==null?void 0:T.email)||(T==null?void 0:T.id)||"User";b.name=`${b.id}:${k}`}}b.displayName||(b.displayName=b.name)}switch(m.webauthn.type){case"create":{const b=My(m.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:x,error:A}=await Cy({publicKey:b,signal:p});return x?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:x}},error:null}:{data:null,error:A}}case"request":{const b=Ly(m.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:x,error:A}=await Uy(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:b,signal:p}));return x?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:x}},error:null}:{data:null,error:A}}}}catch(m){return P(m)?{data:null,error:m}:{data:null,error:new yn("Unexpected error in challenge",m)}}}async _verify({challengeId:n,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!l)return{data:null,error:new Ss("rpId is required for WebAuthn authentication")};try{if(!O0())return{data:null,error:new yn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:n,webauthn:{rpId:l,rpOrigins:r},signal:c},{request:d});if(!f)return{data:null,error:m};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:l,rpOrigins:r,credential_response:g.credential_response}})}catch(f){return P(f)?{data:null,error:f}:{data:null,error:new yn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!l)return{data:null,error:new Ss("rpId is required for WebAuthn registration")};try{if(!O0())return{data:null,error:new yn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(b=>{var x;return(x=b.data)===null||x===void 0?void 0:x.all.find(A=>A.factor_type==="webauthn"&&A.friendly_name===n&&A.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:m};const{data:g,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:c},{create:d});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:l,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(f){return P(f)?{data:null,error:f}:{data:null,error:new yn("Unexpected error in register",f)}}}}_y();const qy={url:zp,storageKey:Mp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function j0(s,n,l){return await l()}const di={};class xs{get jwks(){var n,l;return(l=(n=di[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(n){di[this.storageKey]=Object.assign(Object.assign({},di[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,l;return(l=(n=di[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){di[this.storageKey]=Object.assign(Object.assign({},di[this.storageKey]),{cachedAt:n})}constructor(n){var l,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},qy),n);if(this.storageKey=d.storageKey,this.instanceID=(l=xs.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,xs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&tt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new py({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=$0(d.fetch),this.lock=d.lock||j0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&tt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=by:this.lock=j0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new By(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:G0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=A0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=A0(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${B0}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let l={},r="none";if(tt()&&(l=Pp(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),tt()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:d}=await this._getSessionFromURL(l,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),$p(d)){const g=(n=d.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return P(l)?this._returnResult({error:l}):this._returnResult({error:new yn("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var l,r,c;try{const d=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=n==null?void 0:n.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:Kt}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(d){if(P(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var l,r,c;try{let d;if("email"in n){const{email:b,password:x,options:A}=n;let T=null,k=null;this.flowType==="pkce"&&([T,k]=await ui(this.storage,this.storageKey)),d=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A==null?void 0:A.emailRedirectTo,body:{email:b,password:x,data:(l=A==null?void 0:A.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},code_challenge:T,code_challenge_method:k},xform:Kt})}else if("phone"in n){const{phone:b,password:x,options:A}=n;d=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:x,data:(r=A==null?void 0:A.data)!==null&&r!==void 0?r:{},channel:(c=A==null?void 0:A.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:Kt})}else throw new Xl("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return await et(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(d){if(await et(this.storage,`${this.storageKey}-code-verifier`),P(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let l;if("email"in n){const{email:d,password:f,options:m}=n;l=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:E0})}else if("phone"in n){const{phone:d,password:f,options:m}=n;l=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:E0})}else throw new Xl("You must provide either an email or phone number and a password");const{data:r,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const d=new ri;return this._returnResult({data:{user:null,session:null},error:d})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(l){if(P(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(n){var l,r,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(l=n.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:l}=n;switch(l){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(n){var l,r,c,d,f,m,g,p,b,x,A;let T,k;if("message"in n)T=n.message,k=n.signature;else{const{chain:B,wallet:L,statement:V,options:q}=n;let $;if(tt())if(typeof L=="object")$=L;else{const je=window;if("ethereum"in je&&typeof je.ethereum=="object"&&"request"in je.ethereum&&typeof je.ethereum.request=="function")$=je.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(q!=null&&q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=L}const X=new URL((l=q==null?void 0:q.url)!==null&&l!==void 0?l:window.location.href),oe=await $.request({method:"eth_requestAccounts"}).then(je=>je).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!oe||oe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ie=Y0(oe[0]);let Q=(r=q==null?void 0:q.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Q){const je=await $.request({method:"eth_chainId"});Q=wy(je)}const _e={domain:X.host,address:ie,statement:V,uri:X.href,version:"1",chainId:Q,nonce:(c=q==null?void 0:q.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=q==null?void 0:q.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=q==null?void 0:q.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=q==null?void 0:q.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=q==null?void 0:q.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(b=q==null?void 0:q.signInWithEthereum)===null||b===void 0?void 0:b.resources};T=xy(_e),k=await $.request({method:"personal_sign",params:[Sy(T),ie]})}try{const{data:B,error:L}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:k},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(A=n.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:Kt});if(L)throw L;if(!B||!B.session||!B.user){const V=new ri;return this._returnResult({data:{user:null,session:null},error:V})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:L})}catch(B){if(P(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async signInWithSolana(n){var l,r,c,d,f,m,g,p,b,x,A,T;let k,B;if("message"in n)k=n.message,B=n.signature;else{const{chain:L,wallet:V,statement:q,options:$}=n;let X;if(tt())if(typeof V=="object")X=V;else{const ie=window;if("solana"in ie&&typeof ie.solana=="object"&&("signIn"in ie.solana&&typeof ie.solana.signIn=="function"||"signMessage"in ie.solana&&typeof ie.solana.signMessage=="function"))X=ie.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!($!=null&&$.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=V}const oe=new URL((l=$==null?void 0:$.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in X&&X.signIn){const ie=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$==null?void 0:$.signInWithSolana),{version:"1",domain:oe.host,uri:oe.href}),q?{statement:q}:null));let Q;if(Array.isArray(ie)&&ie[0]&&typeof ie[0]=="object")Q=ie[0];else if(ie&&typeof ie=="object"&&"signedMessage"in ie&&"signature"in ie)Q=ie;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)k=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),B=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${oe.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${oe.href}`,`Issued At: ${(c=(r=$==null?void 0:$.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=$==null?void 0:$.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((f=$==null?void 0:$.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((m=$==null?void 0:$.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((g=$==null?void 0:$.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((p=$==null?void 0:$.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((x=(b=$==null?void 0:$.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||x===void 0)&&x.length?["Resources",...$.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const ie=await X.signMessage(new TextEncoder().encode(k),"utf8");if(!ie||!(ie instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");B=ie}}try{const{data:L,error:V}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:bn(B)},!((A=n.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(T=n.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Kt});if(V)throw V;if(!L||!L.session||!L.user){const q=new ri;return this._returnResult({data:{user:null,session:null},error:q})}return L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:V})}catch(L){if(P(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}}async _exchangeCodeForSession(n){const l=await gn(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Vp;const{data:d,error:f}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:Kt});if(await et(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new ri;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(await et(this.storage,`${this.storageKey}-code-verifier`),P(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:l,provider:r,token:c,access_token:d,nonce:f}=n,m=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kt}),{data:g,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const b=new ri;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(l){if(P(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(n){var l,r,c,d,f;try{if("email"in n){const{email:m,options:g}=n;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await ui(this.storage,this.storageKey));const{error:x}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(l=g==null?void 0:g.data)!==null&&l!==void 0?l:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in n){const{phone:m,options:g}=n,{data:p,error:b}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g==null?void 0:g.data)!==null&&c!==void 0?c:{},create_user:(d=g==null?void 0:g.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:b})}throw new Xl("You must provide either an email or phone number.")}catch(m){if(await et(this.storage,`${this.storageKey}-code-verifier`),P(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var l,r;try{let c,d;"options"in n&&(c=(l=n.options)===null||l===void 0?void 0:l.redirectTo,d=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:m}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Kt});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,p=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(c){if(P(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var l,r,c,d,f;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await ui(this.storage,this.storageKey));const p=await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(l=n.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:my});return!((d=p.data)===null||d===void 0)&&d.url&&tt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await et(this.storage,`${this.storageKey}-code-verifier`),P(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;if(r)throw r;if(!l)throw new At;const{error:c}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(P(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const l=`${this.url}/resend`;if("email"in n){const{email:r,type:c,options:d}=n,{error:f}=await ae(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:r,type:c,options:d}=n,{data:f,error:m}=await ae(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m})}throw new Xl("You must provide either an email or phone number and a type")}catch(l){if(P(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(n,l){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await n(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const l=await gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?n=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<No:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const f=await gn(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=Co()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=cy(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(n){try{return n?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Xa}):await this._useSession(async l=>{var r,c,d;const{data:f,error:m}=l;if(m)throw m;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:Xa})})}catch(l){if(P(l))return Ro(l)&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(n,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,l))}async _updateUser(n,l={}){try{return await this._useSession(async r=>{const{data:c,error:d}=r;if(d)throw d;if(!c.session)throw new At;const f=c.session;let m=null,g=null;this.flowType==="pkce"&&n.email!=null&&([m,g]=await ui(this.storage,this.storageKey));const{data:p,error:b}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:Xa});if(b)throw b;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await et(this.storage,`${this.storageKey}-code-verifier`),P(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new At;const l=Date.now()/1e3;let r=l,c=!0,d=null;const{payload:f}=Zl(n.access_token);if(f.exp&&(r=f.exp,c=r<=l),c){const{data:m,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:g}=await this._getUser(n.access_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});d={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(l){if(P(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async l=>{var r;if(!n){const{data:f,error:m}=l;if(m)throw m;n=(r=f.session)!==null&&r!==void 0?r:void 0}if(!(n!=null&&n.refresh_token))throw new At;const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(P(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(n,l){try{if(!tt())throw new Jl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Jl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new p0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jl("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new p0("No code detected.");const{data:q,error:$}=await this._exchangeCodeForSession(n.code);if($)throw $;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:m,expires_at:g,token_type:p}=n;if(!d||!m||!f||!p)throw new Jl("No session defined in URL");const b=Math.round(Date.now()/1e3),x=parseInt(m);let A=b+x;g&&(A=parseInt(g));const T=A-b;T*1e3<=fi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${x}s`);const k=A-x;b-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,A,b):b-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,A,b);const{data:B,error:L}=await this._getUser(d);if(L)throw L;const V={provider_token:r,provider_refresh_token:c,access_token:d,expires_in:x,expires_at:A,refresh_token:f,token_type:p,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:V,redirectType:n.type},error:null})}catch(r){if(P(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const l=await gn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&l)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:c,error:d}=l;if(d&&!Ro(d))return this._returnResult({error:d});const f=(r=c.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:m}=await this.admin.signOut(f,n);if(m&&!(Gp(m)&&(m.status===404||m.status===401||m.status===403)||Ro(m)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const l=Ip(),r={id:l,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async l=>{var r,c;try{const{data:{session:d},error:f}=l;if(f)throw f;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,l={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await ui(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(d){if(await et(this.storage,`${this.storageKey}-code-verifier`),P(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=l.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(l){if(P(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var l;try{const{data:r,error:c}=await this._useSession(async d=>{var f,m,g,p,b;const{data:x,error:A}=d;if(A)throw A;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",T,{headers:this.headers,jwt:(b=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return tt()&&!(!((l=n.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:n.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(P(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async l=>{var r;try{const{error:c,data:{session:d}}=l;if(c)throw c;const{options:f,provider:m,token:g,access_token:p,nonce:b}=n,x=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=d==null?void 0:d.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:g,access_token:p,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Kt}),{data:A,error:T}=x;return T?this._returnResult({data:{user:null,session:null},error:T}):!A||!A.session||!A.user?this._returnResult({data:{user:null,session:null},error:new ri}):(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("USER_UPDATED",A.session)),this._returnResult({data:A,error:T}))}catch(c){if(await et(this.storage,`${this.storageKey}-code-verifier`),P(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async l=>{var r,c;const{data:d,error:f}=l;if(f)throw f;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(P(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(n){const l=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await ey(async c=>(c>0&&await Fp(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Kt})),(c,d)=>{const f=200*Math.pow(2,c);return d&&ko(d)&&Date.now()+f-r<fi})}catch(r){if(this._debug(l,"error",r),P(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",l,"url",r),tt()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await gn(this.storage,this.storageKey);if(c&&this.userStorage){let f=await gn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await mi(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:Co()}else if(c&&!c.user&&!c.user){const f=await gn(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(c.user=f.user,await et(this.storage,this.storageKey+"-user"),await mi(this.storage,this.storageKey,c)):c.user=Co()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const d=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<No;if(this._debug(r,`session has${d?"":" not"} expired with margin of ${No}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),ko(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&(f!=null&&f.user)?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var l,r;if(!n)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new nr;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new At;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),P(d)){const f={data:null,error:d};return ko(d)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,l,r=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:l});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,l)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await et(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},n),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await mi(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const d=S0(c);await mi(this.storage,this.storageKey,d)}else{const c=S0(l);await mi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await et(this.storage,this.storageKey),await et(this.storage,this.storageKey+"-code-verifier"),await et(this.storage,this.storageKey+"-user"),this.userStorage&&await et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),fi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-n)/fi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${fi}ms, refresh threshold is ${$o} ticks`),c<=$o&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof V0)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const l=`#_onVisibilityChanged(${n})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,l,r){const c=[`provider=${encodeURIComponent(l)}`];if(r!=null&&r.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,f]=await ui(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(r!=null&&r.queryParams){const d=new URLSearchParams(r.queryParams);c.push(d.toString())}return r!=null&&r.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async l=>{var r;const{data:c,error:d}=l;return d?this._returnResult({data:null,error:d}):await ae(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(P(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(n){try{return await this._useSession(async l=>{var r,c;const{data:d,error:f}=l;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:p}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=d==null?void 0:d.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&g.type==="totp"&&(!((c=g==null?void 0:g.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(l){if(P(l))return this._returnResult({data:null,error:l});throw l}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:d}=l;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Ry(n.webauthn.credential_response):ky(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:g}=await ae(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(l){if(P(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:d}=l;if(d)return this._returnResult({data:null,error:d});const f=await ae(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:jy(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Ny(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(P(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(n){const{data:l,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:l.id,code:n.code})}async _listFactors(){var n;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=l==null?void 0:l.factors)!==null&&n!==void 0?n:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(n){var l,r,c,d;if(n)try{const{payload:T}=Zl(n);let k=null;T.aal&&(k=T.aal);let B=k;const{data:{user:L},error:V}=await this.getUser(n);if(V)return this._returnResult({data:null,error:V});((r=(l=L==null?void 0:L.factors)===null||l===void 0?void 0:l.filter(X=>X.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(B="aal2");const $=T.amr||[];return{data:{currentLevel:k,nextLevel:B,currentAuthenticationMethods:$},error:null}}catch(T){if(P(T))return this._returnResult({data:null,error:T});throw T}const{data:{session:f},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=Zl(f.access_token);let p=null;g.aal&&(p=g.aal);let b=p;((d=(c=f.user.factors)===null||c===void 0?void 0:c.filter(T=>T.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(b="aal2");const A=g.amr||[];return{data:{currentLevel:p,nextLevel:b,currentAuthenticationMethods:A},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new At})})}catch(l){if(P(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new At});const f=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&tt()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new At});const f=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&tt()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;return r?this._returnResult({data:null,error:r}):l?await ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new At})})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?(await ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new At})})}catch(l){if(P(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(n,l={keys:[]}){let r=l.keys.find(m=>m.kid===n);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(m=>m.kid===n),r&&this.jwks_cached_at+qp>c)return r;const{data:d,error:f}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,r=d.keys.find(m=>m.kid===n),!r)?null:r}async getClaims(n,l={}){try{let r=n;if(!r){const{data:T,error:k}=await this.getSession();if(k||!T.session)return this._returnResult({data:null,error:k});r=T.session.access_token}const{header:c,payload:d,signature:f,raw:{header:m,payload:g}}=Zl(r);l!=null&&l.allowExpired||ry(d.exp);const p=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!p){const{error:T}=await this.getUser(r);if(T)throw T;return{data:{claims:d,header:c,signature:f},error:null}}const b=uy(c.alg),x=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,x,f,Jp(`${m}.${g}`)))throw new Ko("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}}xs.nextInstanceID={};const Hy=xs,Gy="2.94.1";let ms="";typeof Deno<"u"?ms="deno":typeof document<"u"?ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ms="react-native":ms="node";const $y={"X-Client-Info":`supabase-js-${ms}/${Gy}`},Vy={headers:$y},Yy={schema:"public"},Ky={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qy={};function Es(s){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Es(s)}function Xy(s,n){if(Es(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,n);if(Es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function Jy(s){var n=Xy(s,"string");return Es(n)=="symbol"?n:n+""}function Zy(s,n,l){return(n=Jy(n))in s?Object.defineProperty(s,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[n]=l,s}function N0(s,n){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function Me(s){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?N0(Object(l),!0).forEach(function(r){Zy(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):N0(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const Iy=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Py=()=>Headers,Wy=(s,n,l)=>{const r=Iy(l),c=Py();return async(d,f)=>{var m;const g=(m=await n())!==null&&m!==void 0?m:s;let p=new c(f==null?void 0:f.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),r(d,Me(Me({},f),{},{headers:p}))}};function Fy(s){return s.endsWith("/")?s:s+"/"}function eb(s,n){var l,r;const{db:c,auth:d,realtime:f,global:m}=s,{db:g,auth:p,realtime:b,global:x}=n,A={db:Me(Me({},g),c),auth:Me(Me({},p),d),realtime:Me(Me({},b),f),storage:{},global:Me(Me(Me({},x),m),{},{headers:Me(Me({},(l=x==null?void 0:x.headers)!==null&&l!==void 0?l:{}),(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return s.accessToken?A.accessToken=s.accessToken:delete A.accessToken,A}function tb(s){const n=s==null?void 0:s.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Fy(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ab=class extends Hy{constructor(s){super(s)}},nb=class{constructor(s,n,l){var r,c;this.supabaseUrl=s,this.supabaseKey=n;const d=tb(s);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:Yy,realtime:Qy,auth:Me(Me({},Ky),{},{storageKey:f}),global:Vy},g=eb(l??{},m);if(this.storageKey=(r=g.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(b,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=Wy(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Me({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new Gv(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch,timeout:g.db.timeout,urlLengthLimit:g.db.urlLengthLimit}),this.storage=new Dp(this.storageUrl.href,this.headers,this.fetch,l==null?void 0:l.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Uv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,n,l)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,n,l;if(s.accessToken)return await s.accessToken();const{data:r}=await s.auth.getSession();return(n=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&n!==void 0?n:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:c,storageKey:d,flowType:f,lock:m,debug:g,throwOnError:p},b,x){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ab({url:this.authUrl.href,headers:Me(Me({},A),b),storageKey:d,autoRefreshToken:s,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:c,flowType:f,lock:m,debug:g,throwOnError:p,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new ip(this.realtimeUrl.href,Me(Me({},s),{},{params:Me(Me({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(s,n,l){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ib=(s,n,l)=>new nb(s,n,l);function sb(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const n=s.version;if(n==null)return!1;const l=n.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}sb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Do={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var zo={};const Q0=s=>{try{return typeof process<"u"&&(zo==null?void 0:zo[s])||typeof import.meta<"u"&&(Do==null?void 0:Do[`VITE_${s}`])||""}catch{return""}},X0=Q0("SUPABASE_URL"),J0=Q0("SUPABASE_ANON_KEY"),gs=X0.length>10&&J0.length>10,lb={auth:{getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signInWithPassword:()=>Promise.resolve({data:{},error:new Error("Modo Demo Activo")}),signOut:()=>Promise.resolve()},from:s=>({select:()=>({eq:()=>({single:()=>Promise.resolve({data:null,error:null}),order:()=>Promise.resolve({data:[],error:null})}),order:()=>Promise.resolve({data:[],error:null})}),insert:()=>Promise.resolve({error:null}),upsert:()=>Promise.resolve({error:null}),update:()=>({eq:()=>Promise.resolve({error:null})}),delete:()=>({eq:()=>Promise.resolve({error:null})})})},at=gs?ib(X0,J0):lb,Fl=[{id:"fundamentos_gestion",name:"Fundamentos de Gestin",units_count:3,courses:["eetp602-4a"]},{id:"procesos_productivos",name:"Procesos Productivos",units_count:3,courses:["eetp602-5a"]},{id:"organizacion_gestion",name:"Organizacin y Gestin",units_count:3,courses:["eetp602-5a"]},{id:"marco_juridico",name:"Marco Jurdico",units_count:3,courses:["eetp602-5a","eetp602-6b"]},{id:"organizacion_gestion_comercial",name:"Organizacin y Gestin Comercial",units_count:3,courses:["eetp602-6a"]},{id:"economia",name:"Economa",units_count:3,courses:["eetp602-6b","eeso206-3a","eeso206-4d"],orientation_notes:{"eeso206-3a":"Enfoque histrico y social (Humanidades).","eeso206-4d":"Enfoque Economa y Administracin.","eetp602-6b":"Enfoque Economa y Administracin."}},{id:"derecho",name:"Derecho",units_count:3,courses:["eeso206-4c","eeso206-4d"]},{id:"ocl",name:"Orientacin en Contextos Laborales",units_count:3,courses:["eeso206-5d"]},{id:"administracion_iii",name:"Administracin III",units_count:3,courses:["eeso206-5d"]}],rb={economia_1:{id:"economia_1",subject_id:"economia",number:1,title:"Sistemas Econmicos y Escasez",description:"Una exploracin profunda sobre cmo las sociedades deciden qu producir y para quin.",isAvailable:!0,pdfBaseUrl:"#",pdfPrintUrl:"#",metadata:{version:"1.0.0",updated_at:"2024-03-20T10:00:00Z",change_note:"Lanzamiento inicial de la unidad."},blocks:[{id:"eco1-b1",type:ze.UMBRAL,title:"Umbral de inicio",content:"Antes de abrir el PDF de la unidad, detenete un momento. Qu imgenes se te vienen a la mente cuando escuchs la palabra 'Economa'? No busques definiciones en Google, solo registr tus intuiciones.",counts_for_progress:!0},{id:"eco1-b2",type:ze.MAPA,title:"Hoja de ruta",content:"En esta unidad vamos a recorrer tres grandes estaciones: 1. El problema de la escasez. 2. Los factores productivos. 3. Los sistemas de mercado vs. planificados.",counts_for_progress:!0},{id:"eco1-b3",type:ze.NUCLEO,title:"Actividad de lectura dirigida",content:"Le las pginas 4 a 8 del PDF base. Prest especial atencin a la distincin entre 'necesidades primarias' y 'necesidades secundarias'. Cmo impacta la publicidad en esta frontera?",counts_for_progress:!0},{id:"eco1-b4",type:ze.SENALES,title:"Ojo aqu",content:"Cuidado: No confundas 'escasez econmica' con 'pobreza'. La escasez es un concepto universal que afecta incluso a los ms ricos, porque el tiempo y los recursos siempre son finitos.",counts_for_progress:!1},{id:"eco1-b5",type:ze.PAUSAS,title:"Momento de reflexin",content:"Si tuvieras que renunciar a algo hoy para poder estudiar maana, qu sera? Ese es tu 'Costo de Oportunidad'. Escribilo en tu cuaderno real.",counts_for_progress:!0},{id:"eco1-b6",type:ze.SABIAS,title:"Curiosidad significativa",content:"Sabas que la palabra 'Economa' viene del griego 'Oikonomia', que significa 'administracin de la casa'?",counts_for_progress:!1},{id:"eco1-b7",type:ze.RELECTURA,title:"Integracin final",content:"Volv a la pgina 2. Ahora que terminaste la unidad, cambiaras algo de tu respuesta inicial en el Umbral?",counts_for_progress:!0},{id:"eco1-b8",type:ze.EMOCIONAL,title:"Cmo te sentiste hoy?",content:"Marc cmo estuvo tu proceso de lectura hoy.",counts_for_progress:!0},{id:"eco1-b9",type:ze.AUTOTEST,title:"Autoevaluacin de conceptos",content:"Respond estas preguntas para verificar si los conceptos base quedaron claros.",counts_for_progress:!0,questions:[{id:"q1",question:"Qu define mejor al costo de oportunidad?",options:["El precio de un producto","Aquello a lo que se renuncia para obtener algo","La ganancia neta","El valor del dinero en el tiempo"],correctAnswer:1},{id:"q2",question:"La escasez existe porque...",options:["Los recursos son infinitos","Las necesidades son limitadas","Los recursos son finitos y las necesidades ilimitadas","El gobierno no imprime suficiente dinero"],correctAnswer:2}]}]}},ub=[{id:"u1",email:"estudiante@ejemplo.com",profile:{id:"u1",full_name:"Estudiante Ejemplo",role:Jt.STUDENT,course_id:"eeso206-4d"}},{id:"t1",email:"profesor@campus.com",profile:{id:"t1",full_name:"Profesor Campus",role:Jt.TEACHER,course_id:"all"}}],ob=({children:s,user:n,onLogout:l,title:r,subtitle:c})=>v.jsxs("div",{className:"min-h-screen flex flex-col",children:[v.jsxs("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-50 no-print",children:[v.jsxs("div",{className:"max-w-5xl mx-auto px-4 h-16 flex items-center justify-between",children:[v.jsx("div",{className:"flex items-center gap-3",children:v.jsxs("a",{href:"/",className:"font-bold text-xl tracking-tight text-slate-800 flex items-center gap-2",children:[v.jsx("span",{className:"w-8 h-8 bg-slate-900 text-white rounded flex items-center justify-center text-xs",children:"CV"}),"Campus ",v.jsx("span",{className:"text-slate-400 font-light",children:""})," Cuaderno Vivo"]})}),v.jsx("div",{className:"flex items-center gap-4",children:n&&v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("div",{className:"text-right hidden sm:block",children:[v.jsx("div",{className:"text-sm font-bold text-slate-800",children:n.profile.full_name}),v.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400",children:n.profile.role===Jt.TEACHER?"Docente":"Alumno"})]}),v.jsx("div",{className:"h-8 w-px bg-slate-100 mx-2 hidden sm:block"}),v.jsx("button",{onClick:l,className:"text-xs font-bold uppercase tracking-wider text-rose-500 hover:text-rose-700 transition-colors",children:"Salir"})]})})]}),(r||c)&&v.jsx("div",{className:"bg-slate-50 border-b border-slate-200 py-3 px-4",children:v.jsxs("div",{className:"max-w-5xl mx-auto",children:[v.jsx("h1",{className:"text-sm font-semibold text-slate-700",children:r}),c&&v.jsx("p",{className:"text-xs text-slate-500",children:c})]})})]}),v.jsx("main",{className:"flex-1 max-w-5xl mx-auto w-full p-4 sm:p-6 lg:p-8",children:s}),v.jsx("footer",{className:"bg-white border-t border-slate-200 py-8 no-print",children:v.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[v.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-widest mb-2",children:"Campus  Cuaderno Vivo"}),v.jsx("p",{className:"text-sm text-slate-500 italic serif",children:'"No es un repositorio, es un camino de lectura."'})]})})]}),cb=({onSession:s})=>{const[n,l]=ge.useState(!1),[r,c]=ge.useState(""),[d,f]=ge.useState(""),[m,g]=ge.useState(!1),[p,b]=ge.useState(null),x=async A=>{A.preventDefault(),l(!0),b(null);try{if(m){const{data:T,error:k}=await at.auth.signUp({email:r,password:d});if(k)throw k;alert("Revis tu email para confirmar el registro.")}else{const{data:T,error:k}=await at.auth.signInWithPassword({email:r,password:d});if(k)throw k;T.session&&s(T.session)}}catch(T){b(T.message||"Error de autenticacin")}finally{l(!1)}};return v.jsx("div",{className:"min-h-[80vh] flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md bg-white border border-slate-200 rounded-3xl p-8 shadow-xl",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"w-16 h-16 bg-slate-900 text-white rounded-2xl flex items-center justify-center text-2xl font-bold mx-auto mb-4",children:"CV"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Bienvenido al Campus"}),v.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Ingres tus credenciales para continuar"})]}),v.jsxs("form",{onSubmit:x,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-slate-400 mb-1 ml-1",children:"Email"}),v.jsx("input",{type:"email",required:!0,value:r,onChange:A=>c(A.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-slate-900 focus:outline-none transition-all",placeholder:"tu@colegio.edu.ar"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold uppercase tracking-widest text-slate-400 mb-1 ml-1",children:"Contrasea"}),v.jsx("input",{type:"password",required:!0,value:d,onChange:A=>f(A.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-slate-900 focus:outline-none transition-all",placeholder:""})]}),p&&v.jsx("div",{className:"p-3 bg-red-50 border border-red-100 text-red-600 text-xs font-medium rounded-lg",children:p}),v.jsx("button",{type:"submit",disabled:n,className:"w-full py-4 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition-all shadow-lg flex items-center justify-center",children:n?v.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):m?"Crear Cuenta":"Ingresar"})]}),v.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 text-center",children:v.jsx("button",{onClick:()=>g(!m),className:"text-sm text-slate-500 hover:text-slate-900 transition-colors",children:m?"Ya tens cuenta? Ingres ac":"Sos nuevo? Registrate aqu"})})]})})},db=({userRole:s,enrollRequests:n,onSelectSubject:l,onEnroll:r,onCancelEnroll:c})=>{const[d,f]=ge.useState(!1),m=s===Jt.TEACHER,g=p=>{const b=String(p);return m?{status:qt.APPROVED}:n.find(x=>String(x.subject_id)===b)};return v.jsxs("div",{className:"space-y-20 pb-40",children:[v.jsxs("section",{className:"text-center py-16",children:[v.jsxs("h1",{className:"text-6xl sm:text-7xl font-black text-white mb-10 tracking-tighter leading-none",children:["Campus ",v.jsx("span",{className:"text-sky-400",children:""})," Cuaderno Vivo"]}),v.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[v.jsx("p",{className:"text-2xl text-slate-400 serif italic leading-relaxed",children:'"No consumimos informacin. Recorremos conocimiento."'}),v.jsx("div",{className:"h-1 w-32 bg-sky-500 mx-auto rounded-full shadow-[0_0_20px_rgba(56,189,248,0.5)]"})]})]}),v.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:Fl.map(p=>{const b=g(p.id),x=(b==null?void 0:b.status)||qt.NONE,A=x===qt.APPROVED||m;return v.jsxs("div",{className:`group relative card-surface rounded-[3rem] p-10 transition-all flex flex-col justify-between h-80 border-2 ${A?"border-slate-700 hover:border-sky-500 cursor-pointer hover:-translate-y-2":"border-slate-800 opacity-40 grayscale"}`,onClick:()=>A&&l(String(p.id)),children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("span",{className:"text-[11px] font-black uppercase tracking-[0.2em] text-sky-500 bg-sky-500/10 px-4 py-1.5 rounded-full",children:[p.units_count||0," Unidades"]}),v.jsx("div",{className:"flex gap-2",children:x===qt.PENDING&&v.jsx("span",{className:"px-3 py-1 bg-amber-500/20 text-amber-500 text-[9px] font-black uppercase rounded-full border border-amber-500/30",children:"Pendiente"})})]}),v.jsx("h3",{className:"text-3xl font-black text-white leading-tight tracking-tight mb-4",children:p.name})]}),v.jsx("div",{className:"mt-8 pt-8 border-t border-slate-700/50",children:m||x===qt.APPROVED?v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-[11px] font-black text-slate-300 uppercase tracking-widest group-hover:text-white",children:m?"ADMINISTRAR":"INGRESAR"}),v.jsx("svg",{className:"w-6 h-6 text-sky-500 group-hover:translate-x-2 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]}):v.jsxs(v.Fragment,{children:[x===qt.NONE&&v.jsx("button",{onClick:T=>{T.stopPropagation(),r(String(p.id))},className:"w-full py-5 bg-white text-black text-[11px] font-black uppercase tracking-widest rounded-2xl hover:bg-sky-400 transition-colors shadow-2xl shadow-black/40",children:"Solicitar Acceso"}),x===qt.PENDING&&v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("p",{className:"text-[11px] text-amber-500 font-bold mb-4 uppercase tracking-widest",children:"En Revisin..."}),v.jsx("button",{onClick:T=>{T.stopPropagation(),b&&"id"in b&&c(b.id)},className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest hover:text-rose-500 transition-colors",children:"Cancelar Solicitud"})]})]})})]},p.id)})})]})},hb=({subject:s,isApproved:n,userCourseId:l,availableUnits:r,onSelectUnit:c,onBack:d})=>{const f=l&&s.orientation_notes?s.orientation_notes[l]:null;return v.jsxs("div",{className:"space-y-12 pb-20",children:[v.jsxs("header",{className:"space-y-6",children:[v.jsxs("button",{onClick:d,className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 hover:text-white flex items-center gap-3 transition-colors no-print",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M15 19l-7-7 7-7"})}),"Regresar al Ecosistema"]}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-5xl font-black text-white leading-none tracking-tight",children:s.name}),v.jsx("p",{className:"text-xl text-slate-400 serif italic mt-4",children:"Trayectoria pedaggica y materiales de estudio."})]})]}),!n&&v.jsxs("div",{className:"card-surface p-12 rounded-[2.5rem] text-center space-y-6 border-amber-900/30 bg-amber-900/10 shadow-2xl",children:[v.jsx("div",{className:"w-20 h-20 bg-amber-900/30 rounded-full flex items-center justify-center mx-auto border border-amber-800/50",children:v.jsx("svg",{className:"w-10 h-10 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),v.jsxs("div",{className:"max-w-md mx-auto",children:[v.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"Acceso en proceso"}),v.jsx("p",{className:"text-slate-400 mt-4 serif italic leading-relaxed",children:"Todava no habilitamos tu Cuaderno Vivo para esta asignatura. Verific con el docente si tu inscripcin fue procesada."}),v.jsx("button",{onClick:d,className:"mt-8 px-10 py-4 bg-white text-black rounded-2xl text-xs font-black uppercase tracking-widest shadow-xl hover:scale-105 transition-all",children:"Regresar"})]})]}),n&&v.jsxs(v.Fragment,{children:[f&&v.jsxs("div",{className:"bg-sky-500/10 border border-sky-500/20 p-8 rounded-[2rem] shadow-xl",children:[v.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-sky-400 mb-3",children:"Nota Docente a tu Curso"}),v.jsx("p",{className:"text-sky-100 serif text-lg leading-relaxed",children:f})]}),v.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[v.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[v.jsx("h2",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-slate-500 px-2",children:"Recorrido por Unidades"}),v.jsx("div",{className:"space-y-6",children:r.length>0?r.sort((m,g)=>m.number-g.number).map(m=>{var g;return v.jsxs("button",{onClick:()=>c(m.id),className:"w-full text-left card-surface p-8 rounded-[2.5rem] hover:border-white transition-all flex items-center justify-between group shadow-xl",children:[v.jsxs("div",{className:"flex items-center gap-8",children:[v.jsx("span",{className:"text-5xl font-black text-slate-700/50 group-hover:text-sky-400 transition-colors",children:m.number.toString().padStart(2,"0")}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-2xl text-white leading-tight group-hover:translate-x-1 transition-transform",children:m.title}),v.jsxs("p",{className:"text-xs text-slate-500 mt-2 font-bold uppercase tracking-widest italic",children:["v",((g=m.metadata)==null?void 0:g.version)||"1.0.0"]})]})]}),v.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-slate-700 flex items-center justify-center group-hover:bg-white group-hover:text-black group-hover:border-white transition-all shadow-lg",children:v.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M9 5l7 7-7 7"})})})]},m.id)}):v.jsx("div",{className:"py-20 text-center border-2 border-dashed border-slate-700 rounded-[2.5rem]",children:v.jsx("p",{className:"text-slate-500 serif italic text-lg",children:"No hay unidades publicadas todava para esta materia."})})})]}),v.jsxs("div",{className:"space-y-10 no-print",children:[v.jsx("h2",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-slate-500 px-2",children:"Biblioteca de Apoyo"}),v.jsx("div",{className:"card-surface p-10 rounded-[2.5rem] space-y-8 shadow-2xl",children:v.jsxs("div",{className:"space-y-4",children:[v.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-6",children:"Materiales Oficiales"}),r.map(m=>v.jsxs("div",{className:"space-y-3 pb-6 border-b border-slate-700/50 last:border-0 last:pb-0",children:[v.jsxs("p",{className:"text-[9px] font-black text-sky-500 uppercase tracking-widest",children:["Unidad ",m.number]}),v.jsxs("a",{href:m.pdfBaseUrl||"#",className:"flex items-center gap-4 p-4 bg-slate-900/50 rounded-2xl hover:bg-white hover:text-black transition-all text-xs font-bold uppercase tracking-widest text-slate-300",children:[v.jsx("svg",{className:"w-5 h-5 text-rose-500",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9v-2h2v2zm0-4H9V7h2v5z"})}),"PDF Terico"]})]},m.id))]})})]})]})]})]})},fb={[ze.UMBRAL]:{color:"bg-blue-400/10 border-blue-400/30 text-blue-300",label:"Umbral",icon:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})},[ze.MAPA]:{color:"bg-emerald-400/10 border-emerald-400/30 text-emerald-300",label:"Mapa de lectura",icon:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})},[ze.NUCLEO]:{color:"bg-sky-400/10 border-sky-400/30 text-sky-300",label:"Ncleo de lectura",icon:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})},[ze.SENALES]:{color:"bg-rose-400/10 border-rose-400/30 text-rose-300",label:"Seales de atencin",icon:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})},[ze.PAUSAS]:{color:"bg-slate-400/10 border-slate-400/30 text-slate-300",label:"Pausas de pensamiento",icon:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},[ze.TRAMPAS]:{color:"bg-orange-400/10 border-orange-400/30 text-orange-300",label:"Trampas de comprensin",icon:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})},[ze.SABIAS]:{color:"bg-sky-400/20 border-sky-400/40 text-sky-200",label:"Lo sabas?",icon:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})},[ze.CRUCES]:{color:"bg-cyan-400/10 border-cyan-400/30 text-cyan-300",label:"Cruces",icon:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})},[ze.RELECTURA]:{color:"bg-pink-400/10 border-pink-400/30 text-pink-300",label:"Relectura obligatoria",icon:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},[ze.EMOCIONAL]:{color:"bg-indigo-400/10 border-indigo-400/30 text-indigo-300",label:"Checklist emocional",icon:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})},[ze.AUTOTEST]:{color:"bg-slate-700 border-slate-600 text-slate-200",label:"Auto test",icon:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})},[ze.CIERRE]:{color:"bg-slate-800/80 border-slate-700 text-slate-400",label:"Cierre abierto",icon:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-7.714 2.143L11 21l-2.286-6.857L1 12l7.714-2.143L11 3z"})})}},mb=({block:s,index:n,isVisited:l,onToggleVisit:r})=>{const[c,d]=ge.useState(n===0),f=fb[s.type];return v.jsxs("div",{className:`unit-block mb-4 border rounded-xl overflow-hidden transition-all duration-200 ${c?"ring-1 ring-slate-200 shadow-sm":"hover:bg-slate-50"}`,children:[v.jsxs("button",{onClick:()=>d(!c),className:"w-full text-left p-4 flex items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${f.color} flex-shrink-0`,children:f.icon}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400",children:["Paso ",n+1]}),l&&v.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold uppercase tracking-wider text-emerald-600",children:[v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}),"Recorrido"]})]}),v.jsx("h3",{className:"font-semibold text-slate-800 leading-tight",children:s.title})]})]}),v.jsx("div",{className:"text-slate-400",children:v.jsx("svg",{className:`w-5 h-5 transition-transform duration-200 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),c&&v.jsxs("div",{className:"px-4 pb-6 pt-0 ml-13 sm:ml-14",children:[v.jsx("div",{className:"prose prose-slate max-w-none",children:v.jsx("p",{className:"text-slate-600 leading-relaxed serif whitespace-pre-wrap",children:s.content})}),v.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-slate-100 pt-4",children:[v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group no-print",children:[v.jsx("input",{type:"checkbox",checked:l,onChange:r,className:"w-5 h-5 rounded border-slate-300 text-slate-900 focus:ring-slate-900 transition-colors"}),v.jsx("span",{className:"text-sm font-medium text-slate-500 group-hover:text-slate-800",children:"Marcar como realizado"})]}),v.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-300",children:f.label})]})]})]})},gb=({unit:s,progress:n,onUpdateProgress:l,onBack:r})=>{const c=n.filter(g=>g.visited).map(g=>g.block_id),d=s.blocks.length,f=c.length,m=g=>new Date(g).toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric"});return v.jsxs("div",{className:"pb-32",children:[v.jsx("div",{className:"fixed top-16 left-0 right-0 bg-white/90 backdrop-blur-md border-b border-slate-200 z-40 no-print",children:v.jsxs("div",{className:"max-w-5xl mx-auto px-4 h-16 flex items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"flex items-center gap-2 mb-1",children:v.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 truncate",children:["Unidad ",s.number," / ",s.title]})}),v.jsx("div",{className:"w-full bg-slate-100 h-1.5 rounded-full overflow-hidden",children:v.jsx("div",{className:"bg-slate-900 h-full transition-all duration-500",style:{width:`${f/d*100}%`}})})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-xs font-bold text-slate-700 whitespace-nowrap hidden sm:block",children:["Recorrido: ",f," de ",d]}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx("button",{className:"p-2 text-slate-500 hover:text-slate-900 hover:bg-slate-50 rounded-lg transition-colors",title:"Descargar PDF",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),v.jsx("button",{onClick:()=>window.print(),className:"p-2 text-slate-500 hover:text-slate-900 hover:bg-slate-50 rounded-lg transition-colors",title:"Imprimir",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})})]})]})]})}),v.jsxs("div",{className:"mt-20 space-y-8",children:[v.jsxs("header",{className:"space-y-4 py-8 border-b border-slate-100",children:[v.jsxs("button",{onClick:r,className:"text-xs font-bold uppercase tracking-widest text-slate-400 hover:text-slate-900 flex items-center gap-2 transition-colors no-print",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Volver a la Materia"]}),v.jsxs("div",{className:"max-w-2xl",children:[v.jsx("div",{className:"flex items-center gap-3 mb-2",children:v.jsxs("h1",{className:"text-4xl font-bold text-slate-900 leading-tight",children:["Unidad ",s.number,": ",s.title]})}),s.metadata&&v.jsxs("div",{className:"mb-4 text-[10px] font-bold uppercase tracking-widest text-slate-400",children:["Actualizada el ",m(s.metadata.updated_at)," ",v.jsx("span",{className:"text-slate-300 mx-1",children:"/"})," v",s.metadata.version]}),v.jsx("p",{className:"text-lg text-slate-500 serif italic mt-4 leading-relaxed",children:s.description}),v.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 px-3 py-1.5 bg-amber-50 text-amber-800 rounded-full border border-amber-100 text-xs font-medium no-print",children:[v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pods avanzar, volver y continuar cuando quieras. No hace falta hacerlo todo de una."]})]})]}),v.jsx("section",{className:"max-w-3xl mx-auto",children:s.blocks.map((g,p)=>v.jsx(mb,{index:p,block:g,isVisited:c.includes(g.id),onToggleVisit:()=>l(g.id)},g.id))}),v.jsx("section",{className:"max-w-3xl mx-auto pt-12 text-center border-t border-slate-100 no-print",children:v.jsxs("div",{className:"inline-flex items-center gap-3 text-slate-400 group cursor-pointer hover:text-slate-800 transition-colors",onClick:r,children:[v.jsx("span",{className:"h-px w-8 bg-slate-200 group-hover:bg-slate-800 transition-all"}),v.jsx("span",{className:"text-sm font-medium uppercase tracking-widest",children:"Fin del recorrido de la unidad"}),v.jsx("span",{className:"h-px w-8 bg-slate-200 group-hover:bg-slate-800 transition-all"})]})})]})]})},vb=({currentUnit:s,availableSubjects:n,onUpdate:l,onCancel:r})=>{var B;const[c,d]=ge.useState((s==null?void 0:s.subject_id)||String(((B=n[0])==null?void 0:B.id)||"")),[f,m]=ge.useState((s==null?void 0:s.number)||1),[g,p]=ge.useState((s==null?void 0:s.title)||""),[b,x]=ge.useState(JSON.stringify(s?{description:s.description,blocks:s.blocks,metadata:s.metadata,pdfBaseUrl:s.pdfBaseUrl,pdfPrintUrl:s.pdfPrintUrl}:{description:"Descripcin de la unidad...",pdfBaseUrl:"#",pdfPrintUrl:"#",metadata:{version:"1.0.0",updated_at:new Date().toISOString()},blocks:[]},null,2)),[A,T]=ge.useState(null),k=()=>{try{const L=JSON.parse(b);if(!g)throw new Error("Ttulo de unidad obligatorio.");const V={id:`${c}_u${f}`,subject_id:c,number:f,title:g,description:L.description,blocks:L.blocks,metadata:L.metadata,pdfBaseUrl:L.pdfBaseUrl,pdfPrintUrl:L.pdfPrintUrl};l(V)}catch(L){T("Error en JSON: "+L.message)}};return v.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-md z-[150] flex items-center justify-center p-6",children:v.jsxs("div",{className:"bg-[#1e293b] w-full max-w-7xl rounded-[2.5rem] shadow-2xl flex flex-col max-h-[92vh] border border-slate-700 overflow-hidden",children:[v.jsxs("header",{className:"p-8 border-b border-slate-700 flex items-center justify-between flex-shrink-0 bg-slate-900/40",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-widest",children:"Configurador de Cuaderno"}),v.jsx("p",{className:"text-xs text-sky-400 mt-1 font-bold uppercase tracking-widest italic",children:"Edicin directa de la estructura pedaggica"})]}),v.jsx("button",{onClick:r,className:"bg-slate-800 text-slate-400 hover:text-white p-2 rounded-full transition-all",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col lg:flex-row",children:[v.jsxs("div",{className:"flex-1 p-8 space-y-6 overflow-y-auto bg-slate-900/20",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Materia"}),v.jsx("select",{value:c,onChange:L=>d(L.target.value),className:"w-full bg-slate-900 border-2 border-slate-700 rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky-500",children:n.map(L=>v.jsx("option",{value:L.id,children:L.name},L.id))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Unidad N"}),v.jsx("input",{type:"number",min:"1",value:f,onChange:L=>m(parseInt(L.target.value)),className:"w-full bg-slate-900 border-2 border-slate-700 rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky-500"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Ttulo Pblico"}),v.jsx("input",{type:"text",value:g,onChange:L=>p(L.target.value),className:"w-full bg-slate-900 border-2 border-slate-700 rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky-500"})]})]}),v.jsx("div",{className:"flex-1 flex flex-col min-h-[450px]",children:v.jsx("textarea",{value:b,onChange:L=>x(L.target.value),className:"flex-1 w-full bg-[#0a0f1d] text-sky-200 border-2 border-slate-800 rounded-2xl p-8 font-mono text-xs leading-relaxed focus:border-sky-500/50 outline-none resize-none shadow-inner",spellCheck:!1})})]}),v.jsxs("div",{className:"w-full lg:w-80 p-8 flex flex-col justify-between bg-slate-900/40 border-l border-slate-700",children:[v.jsxs("div",{className:"space-y-6",children:[v.jsx("h3",{className:"text-[11px] font-black uppercase tracking-widest text-slate-400",children:"Gua de Carga"}),v.jsx("p",{className:"text-[10px] text-slate-500 serif leading-relaxed italic",children:"Asegurate de que el JSON sea vlido. Cada bloque debe tener un ID nico para no romper el progreso del alumno."})]}),v.jsxs("div",{className:"space-y-4 pt-10",children:[A&&v.jsx("p",{className:"text-[10px] text-rose-400 font-bold bg-rose-950/20 p-4 rounded-xl border border-rose-900/50",children:A}),v.jsx("button",{onClick:k,className:"w-full py-5 bg-white text-black rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:scale-105 transition-all",children:"Publicar Cambios"})]})]})]})]})})},pb=({subjects:s,units:n,enrollRequests:l,progressRecords:r,profiles:c,onUpdateEnrollRequest:d,onUpdateUnit:f})=>{const[m,g]=ge.useState("all"),[p,b]=ge.useState(null),[x,A]=ge.useState(!1),[T,k]=ge.useState("contents"),B=c.filter(q=>q.role===Jt.STUDENT),L=l.filter(q=>q.status===qt.PENDING),V=p?n[p]:null;return v.jsxs("div",{className:"space-y-16 pb-32",children:[(V||x)&&v.jsx(vb,{currentUnit:V,availableSubjects:s,onCancel:()=>{b(null),A(!1)},onUpdate:q=>{f(q),b(null),A(!1)}}),v.jsxs("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-8 border-b border-slate-700 pb-12",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-5xl font-black text-white leading-tight tracking-tight",children:"Laboratorio Docente"}),v.jsx("p",{className:"text-sky-400 mt-4 serif italic text-2xl",children:"Gestin de alumnos y curadura pedaggica."})]}),v.jsxs("button",{onClick:()=>A(!0),className:"px-8 py-5 bg-white text-black rounded-3xl text-xs font-black uppercase tracking-widest shadow-2xl hover:bg-sky-400 transition-all flex items-center gap-4",children:[v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M12 4v16m8-8H4"})}),"Inyectar Unidad (JSON)"]})]}),v.jsx("div",{className:"flex gap-12 border-b border-slate-700 overflow-x-auto no-print",children:[{id:"contents",label:"Contenidos"},{id:"students",label:"Seguimiento Alumnos"},{id:"enrollments",label:"Admisiones",count:L.length}].map(q=>v.jsxs("button",{onClick:()=>k(q.id),className:`pb-6 text-[11px] font-black uppercase tracking-[0.3em] transition-all border-b-4 relative whitespace-nowrap ${T===q.id?"border-sky-400 text-white":"border-transparent text-slate-500 hover:text-slate-300"}`,children:[q.label,q.count!==void 0&&q.count>0&&v.jsx("span",{className:"ml-4 bg-rose-600 text-white text-[10px] px-3 py-1 rounded-full font-black animate-pulse",children:q.count})]},q.id))}),T==="contents"&&v.jsx("div",{className:"space-y-20",children:s.map(q=>v.jsxs("section",{className:"space-y-10",children:[v.jsx("h3",{className:"font-black text-white uppercase tracking-widest text-sm bg-slate-700/50 px-6 py-2 rounded-full border border-slate-600 inline-block",children:q.name}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:Array.from({length:3}).map(($,X)=>{const oe=X+1,ie=`${q.id}_u${oe}`,Q=n[ie];return v.jsxs("div",{className:`card-surface p-10 rounded-[2.5rem] min-h-[300px] flex flex-col justify-between transition-all group ${Q?"border-sky-500/50 bg-slate-800/80 shadow-2xl":"border-dashed border-slate-800 opacity-40 grayscale"}`,children:[v.jsxs("div",{children:[v.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["Unidad ",oe]}),v.jsx("h4",{className:"font-bold text-white text-xl mt-4 leading-snug group-hover:text-sky-400 transition-colors",children:(Q==null?void 0:Q.title)||"Vaca"})]}),v.jsx("button",{onClick:()=>{Q?b(ie):A(!0)},className:`w-full py-5 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${Q?"bg-white text-black hover:bg-sky-400":"border-2 border-slate-700 text-slate-500 hover:border-white hover:text-white"}`,children:Q?"Editar JSON":"Configurar"})]},ie)})})]},q.id))}),T==="students"&&v.jsxs("div",{className:"card-surface rounded-[2.5rem] overflow-hidden border-slate-700 bg-slate-800/50 shadow-2xl",children:[v.jsxs("div",{className:"p-8 border-b border-slate-700 flex justify-between items-center",children:[v.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"Lista de Alumnos Activos"}),v.jsxs("select",{className:"bg-slate-900 border border-slate-700 text-white text-[10px] uppercase font-bold px-4 py-2 rounded-xl outline-none",value:m,onChange:q=>g(q.target.value),children:[v.jsx("option",{value:"all",children:"Todas las Materias"}),s.map(q=>v.jsx("option",{value:q.id,children:q.name},q.id))]})]}),v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-slate-900/50 border-b border-slate-700",children:[v.jsx("th",{className:"px-10 py-8 text-[11px] font-black uppercase tracking-[0.3em] text-slate-500",children:"Alumno"}),v.jsx("th",{className:"px-10 py-8 text-[11px] font-black uppercase tracking-[0.3em] text-slate-500 text-center",children:"Curso"}),v.jsx("th",{className:"px-10 py-8 text-[11px] font-black uppercase tracking-[0.3em] text-slate-500 text-center",children:"Avance Lectura"}),v.jsx("th",{className:"px-10 py-8 text-[11px] font-black uppercase tracking-[0.3em] text-slate-500 text-right",children:"Acciones"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-700/50",children:B.map(q=>{const $=r.filter(oe=>oe.user_id===q.id).length,X=Math.min(100,$*5);return v.jsxs("tr",{className:"hover:bg-white/5 transition-all",children:[v.jsxs("td",{className:"px-10 py-10",children:[v.jsx("div",{className:"font-bold text-white text-lg",children:q.full_name}),v.jsxs("div",{className:"text-[9px] text-slate-500 font-black uppercase tracking-widest mt-1",children:["ID: ",q.id.slice(0,8)]})]}),v.jsx("td",{className:"px-10 py-10 text-center text-xs font-black text-slate-400 uppercase tracking-widest",children:q.course_id||"PENDIENTE"}),v.jsx("td",{className:"px-10 py-10",children:v.jsxs("div",{className:"flex flex-col items-center gap-3",children:[v.jsx("div",{className:"w-full max-w-[140px] bg-black/40 h-2.5 rounded-full overflow-hidden border border-slate-700",children:v.jsx("div",{className:`h-full transition-all duration-1000 ${X>70?"bg-emerald-500":X>30?"bg-sky-400":"bg-rose-500"}`,style:{width:`${X}%`}})}),v.jsxs("span",{className:"text-[10px] font-black text-white",children:[X,"% de la materia"]})]})}),v.jsx("td",{className:"px-10 py-10 text-right",children:v.jsx("button",{className:"text-[9px] font-black text-white uppercase tracking-widest border-2 border-slate-600 px-6 py-3 rounded-2xl hover:bg-white hover:text-black hover:border-white transition-all",children:"Ver Notas"})})]},q.id)})})]})]}),T==="enrollments"&&v.jsx("div",{className:"card-surface rounded-[2.5rem] overflow-hidden border-slate-700 bg-slate-800/50 shadow-2xl",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-slate-900 border-b border-slate-700",children:[v.jsx("th",{className:"px-10 py-8 text-[11px] font-black uppercase tracking-[0.3em] text-slate-500",children:"Solicitante"}),v.jsx("th",{className:"px-10 py-8 text-[11px] font-black uppercase tracking-[0.3em] text-slate-500",children:"Materia"}),v.jsx("th",{className:"px-10 py-8 text-[11px] font-black uppercase tracking-[0.3em] text-slate-500 text-right",children:"Admisin"})]})}),v.jsxs("tbody",{className:"divide-y divide-slate-700",children:[L.map(q=>{const $=c.find(oe=>oe.id===q.user_id),X=s.find(oe=>String(oe.id)===String(q.subject_id));return v.jsxs("tr",{children:[v.jsx("td",{className:"px-10 py-10",children:v.jsx("div",{className:"font-bold text-white text-lg",children:($==null?void 0:$.full_name)||"Alumno Desconocido"})}),v.jsx("td",{className:"px-10 py-10 text-xs font-black text-sky-400 uppercase tracking-widest",children:(X==null?void 0:X.name)||q.subject_id}),v.jsx("td",{className:"px-10 py-10 text-right",children:v.jsxs("div",{className:"flex justify-end gap-4",children:[v.jsx("button",{onClick:()=>d(q.id,qt.APPROVED),className:"bg-sky-500 text-white px-8 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-white hover:text-black transition-all",children:"Aprobar"}),v.jsx("button",{onClick:()=>d(q.id,qt.DENIED),className:"bg-rose-900/40 text-rose-400 px-8 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest border border-rose-800/50",children:"Rechazar"})]})})]},q.id)}),L.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:3,className:"px-10 py-32 text-center text-slate-500 serif italic text-xl",children:"Sin admisiones pendientes."})})]})]})})]})},yb=({user:s,progress:n,assessments:l,onSelectSubject:r})=>{const[c,d]=ge.useState(""),f=Fl.filter(m=>{var g;return(g=m.courses)==null?void 0:g.includes(s.profile.course_id||"")});return v.jsxs("div",{className:"space-y-10 pb-20",children:[v.jsxs("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-black text-white uppercase tracking-tighter",children:"Mi Cuaderno Vivo"}),v.jsx("p",{className:"text-slate-400 mt-1 serif italic",children:"Tu camino de aprendizaje y seguimiento personal."})]}),v.jsxs("div",{className:"bg-slate-900 px-6 py-3 rounded-2xl border border-slate-800 shadow-xl",children:[v.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Curso Actual"}),v.jsx("div",{className:"text-sky-400 font-bold tracking-widest",children:s.profile.course_id||"Sin asignar"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[v.jsxs("section",{className:"lg:col-span-2 space-y-8",children:[v.jsx("div",{className:"flex items-center justify-between px-2",children:v.jsx("h2",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-slate-500",children:"Mis Asignaturas"})}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f.map(m=>{const g=n.filter(x=>String(x.subject_id)===String(m.id)),p=m.units_count||3,b=Math.min(100,g.length/(p*5)*100);return v.jsx("button",{onClick:()=>r(String(m.id)),className:"card-surface p-8 rounded-[2rem] text-left hover:border-white transition-all group relative overflow-hidden",children:v.jsxs("div",{className:"relative z-10",children:[v.jsx("h3",{className:"font-black text-white text-xl mb-6 leading-tight group-hover:text-sky-400 transition-colors",children:m.name}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between text-[9px] font-black uppercase tracking-widest text-slate-500",children:[v.jsx("span",{children:"Recorrido de lectura"}),v.jsxs("span",{className:"text-white",children:[Math.round(b),"%"]})]}),v.jsx("div",{className:"w-full bg-slate-900 h-2 rounded-full overflow-hidden border border-slate-800",children:v.jsx("div",{className:"bg-sky-500 h-full transition-all duration-1000 shadow-[0_0_10px_rgba(56,189,248,0.5)]",style:{width:`${b}%`}})})]})]})},m.id)})}),v.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-8 rounded-[2.5rem] mt-10",children:[v.jsx("h3",{className:"text-white font-black text-lg mb-4 uppercase tracking-tighter",children:"Inscribirse a Materia"}),v.jsx("p",{className:"text-slate-500 text-xs serif italic mb-6",children:"Ingres el cdigo proporcionado por tu docente para solicitar acceso."}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("input",{type:"text",placeholder:"CDIGO-MATERIA",value:c,onChange:m=>d(m.target.value.toUpperCase()),className:"flex-1 bg-black/50 border border-slate-700 rounded-xl px-4 text-white font-mono text-sm tracking-widest outline-none focus:border-sky-500"}),v.jsx("button",{className:"bg-white text-black px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-sky-400 transition-all",children:"Solicitar"})]})]})]}),v.jsxs("section",{className:"space-y-8",children:[v.jsx("h2",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-slate-500 px-2",children:"ltimas Devoluciones"}),v.jsx("div",{className:"space-y-6",children:l.length>0?l.map(m=>{var g;return v.jsxs("div",{className:"card-surface p-8 rounded-[2rem] border-slate-800 shadow-2xl",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-sky-400 bg-sky-400/10 px-3 py-1 rounded-full",children:m.type}),v.jsx("span",{className:"text-2xl font-black text-white",children:m.grade})]}),v.jsx("h4",{className:"font-bold text-white text-sm mb-4 leading-snug",children:(g=Fl.find(p=>p.id===m.subject_id))==null?void 0:g.name}),v.jsxs("p",{className:"text-xs text-slate-400 serif leading-relaxed italic border-l-2 border-slate-700 pl-4 py-1",children:['"',m.feedback,'"']}),v.jsxs("div",{className:"mt-6 text-[9px] text-slate-600 font-black uppercase tracking-widest flex items-center gap-2",children:[v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(m.date).toLocaleDateString()]})]},m.id)}):v.jsx("div",{className:"bg-slate-900/30 border-2 border-dashed border-slate-800 p-12 rounded-[2rem] text-center",children:v.jsx("p",{className:"text-sm text-slate-600 italic serif",children:"No tens devoluciones cargadas an."})})})]})]})]})},bb=1e4;async function fs(s,n){return Promise.race([s,new Promise((l,r)=>setTimeout(()=>r(new Error(`TIMEOUT_${n}`)),bb))])}const _b=()=>{const[s,n]=ge.useState(null),[l,r]=ge.useState(null),[c,d]=ge.useState(!0),[f,m]=ge.useState(null),[g,p]=ge.useState(!gs),b=ge.useRef(!1),[x,A]=ge.useState(Fl),[T,k]=ge.useState([]),[B,L]=ge.useState([]),[V,q]=ge.useState([]),[$,X]=ge.useState([]),[oe,ie]=ge.useState([]),[Q,_e]=ge.useState("home"),[je,Ft]=ge.useState(null),[mt,nt]=ge.useState(null),Ht=ge.useMemo(()=>{const G={...rb};return T.forEach(W=>{var w,D,H,K,I;G[W.id]={id:W.id,subject_id:String(W.subject_id),number:W.number,title:W.title,description:((w=W.content_json)==null?void 0:w.description)||"",blocks:((D=W.content_json)==null?void 0:D.blocks)||[],metadata:((H=W.content_json)==null?void 0:H.metadata)||{version:"1.0",updated_at:new Date().toISOString()},pdfBaseUrl:(K=W.content_json)==null?void 0:K.pdfBaseUrl,pdfPrintUrl:(I=W.content_json)==null?void 0:I.pdfPrintUrl}}),G},[T]),st=()=>{const G=document.getElementById("fallback-loader");G&&(G.style.opacity="0",setTimeout(()=>G.remove(),400))},gt=async G=>{if(g){const W=T.find(w=>w.id===G.id);k(W?T.map(w=>w.id===G.id?{...w,title:G.title,content_json:G}:w):[...T,{id:G.id,subject_id:Number(G.subject_id)||0,number:G.number,title:G.title,content_json:G}]);return}try{const{error:W}=await at.from("units").upsert({id:G.id,subject_id:G.subject_id,number:G.number,title:G.title,content_json:G});if(W)throw W;l&&await C(l.id,l.email)}catch(W){alert("Error al actualizar unidad: "+W.message)}},C=async(G,W)=>{if(!b.current){b.current=!0;try{const{data:w,error:D}=await fs(at.from("profiles").select("*").eq("id",G).single(),"AUTH_PROFILE_SELECT");let H;if(D)if(D.code==="PGRST116"){console.log("AUTH_PROFILE_NOT_FOUND: Creating basic student profile...");const jt={id:G,full_name:W.split("@")[0],role:Jt.STUDENT},{error:_a}=await fs(at.from("profiles").upsert(jt),"AUTH_PROFILE_UPSERT");if(_a)throw console.error("AUTH_PROFILE_UPSERT_FAILED",_a),_a;H=jt}else throw console.error("AUTH_PROFILE_SELECT_FAILED",D),D;else{const jt=(w.role||Jt.STUDENT).toLowerCase();H={...w,role:jt}}r({id:G,email:W,profile:H});const K=H.role===Jt.TEACHER,I=async(jt,_a)=>{try{const{data:Gt,error:wn}=await fs(_a,jt);return wn?(console.warn(`${jt}_FAILED_NON_CRITICAL`,wn.message),[]):Gt||[]}catch(Gt){return console.warn(`${jt}_TIMEOUT_NON_CRITICAL`,Gt.message),[]}},[ue,ve,Je,Ce,Ja,_n]=await Promise.all([I("FETCH_SUBJECTS",at.from("subjects").select("*")),I("FETCH_UNITS",at.from("units").select("*")),I("FETCH_ENROLLMENTS",at.from("enrollment_requests").select("*")),I("FETCH_PROGRESS",K?at.from("progress").select("*"):at.from("progress").select("*").eq("user_id",G)),I("FETCH_ASSESSMENTS",K?at.from("assessments").select("*"):at.from("assessments").select("*").eq("student_id",G)),K?I("FETCH_PROFILES",at.from("profiles").select("*")):Promise.resolve([])]);ue.length&&A(ue),k(ve),L(Je),q(Ce),X(Ja),ie(_n)}catch(w){console.error(" LOAD_USER_DATA_CRITICAL_FAIL:",w.message),m(`Error de sincronizacin: ${w.message}. Por favor, reintent.`)}finally{b.current=!1,d(!1),st()}}};ge.useEffect(()=>{console.log(" APP_USEEFFECT_START",{isSupabaseConfigured:gs});const G=setTimeout(()=>{console.error(" HARD_STOP_LOADING: no termin init en 12s"),m("La app qued colgada en sincronizacin. Abr consola (F12) y copi el primer error rojo."),d(!1),st()},12e3);(async()=>{var w,D;try{console.log(" INIT_START");const{data:H,error:K}=await fs(at.auth.getSession(),"AUTH_SESSION");if(console.log(" AUTH_SESSION_RETURNED",{hasSession:!!(H!=null&&H.session),sessionError:K}),K)throw K;const I=H==null?void 0:H.session;if(I)console.log(" SESSION_OK",{userId:(w=I.user)==null?void 0:w.id,email:(D=I.user)==null?void 0:D.email}),n(I),await C(I.user.id,I.user.email),console.log(" LOAD_USER_DATA_DONE");else if(gs)console.log(" NO_SESSION"),d(!1),st();else throw new Error("DEMO_REQUIRED")}catch(H){if(console.error(" INIT_FAILED:",(H==null?void 0:H.message)||H),H.message==="DEMO_REQUIRED"||!gs){p(!0);const K=ub[1];r(K),n({user:K}),d(!1),st()}else m((H==null?void 0:H.message)||String(H)),d(!1),st()}finally{clearTimeout(G),console.log(" INIT_FINALLY")}})()},[]);const Y=async(G,W)=>{try{if(!l)return;if(g){L([...B,{id:"d"+Math.random(),student_id:l.id,course_id:G,status:qt.PENDING}]);return}const{error:w}=await fs(at.from("enrollment_requests").upsert({student_id:l.id,course_id:G,enrollment_code:W||"",status:"pending"}),"ENROLLMENT_INSERT");if(w)throw w;await C(l.id,l.email)}catch(w){console.error("ENROLLMENT_FAILED",w.message),alert(`Error al inscribirse: ${w.message}`)}};if(f)return v.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-6 text-center",children:v.jsxs("div",{className:"max-w-md space-y-6",children:[v.jsx("div",{className:"w-20 h-20 bg-rose-500/20 text-rose-500 rounded-full flex items-center justify-center mx-auto border border-rose-500/30",children:v.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),v.jsx("h1",{className:"text-white font-black text-2xl uppercase tracking-tighter",children:"Error de Conexin"}),v.jsx("p",{className:"text-slate-400 serif italic",children:f}),v.jsx("button",{onClick:()=>window.location.reload(),className:"px-8 py-4 bg-white text-black font-black uppercase text-xs tracking-widest rounded-2xl hover:bg-sky-400 transition-all",children:"Reintentar"})]})});if(c)return null;if(!s&&!g)return v.jsx(cb,{onSession:G=>{n(G),C(G.user.id,G.user.email)}});const te=G=>(l==null?void 0:l.profile.role)===Jt.TEACHER||B.some(W=>String(W.course_id)===String(G)&&W.student_id===(l==null?void 0:l.id)&&W.status==="approved");return v.jsxs(ob,{user:l,onLogout:()=>{g?window.location.reload():at.auth.signOut().then(()=>window.location.reload())},children:[g&&v.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 z-[100] bg-sky-500 text-black text-[10px] font-black px-4 py-1 rounded-full border-2 border-slate-900 shadow-2xl",children:"MODO DEMO"}),Q==="home"&&v.jsx(db,{userRole:l==null?void 0:l.profile.role,enrollRequests:B.filter(G=>G.student_id===(l==null?void 0:l.id)).map(G=>({...G,user_id:G.student_id,subject_id:G.course_id})),onSelectSubject:G=>{Ft(G),_e("subject")},onEnroll:G=>Y(G),onCancelEnroll:()=>{}}),Q==="subject"&&je&&v.jsx(hb,{subject:x.find(G=>String(G.id)===je),isApproved:te(je),userCourseId:l==null?void 0:l.profile.course_id,availableUnits:Object.values(Ht).filter(G=>String(G.subject_id)===je),onSelectUnit:G=>{nt(G),_e("unit")},onBack:()=>_e("home")}),Q==="unit"&&mt&&v.jsx(gb,{unit:Ht[mt],progress:V.filter(G=>G.user_id===(l==null?void 0:l.id)),onUpdateProgress:()=>{},onBack:()=>_e("subject")}),Q==="teacher"&&v.jsx(pb,{subjects:x,units:Ht,enrollRequests:B.map(G=>({...G,user_id:G.student_id,subject_id:G.course_id})),progressRecords:V,profiles:oe,onUpdateEnrollRequest:async(G,W)=>{await at.from("enrollment_requests").update({status:W}).eq("id",G),l&&await C(l.id,l.email)},onUpdateUnit:gt}),Q==="student"&&v.jsx(yb,{user:l,progress:V.filter(G=>G.user_id===(l==null?void 0:l.id)),assessments:$,onSelectSubject:G=>{Ft(G),_e("subject")}}),v.jsx("button",{onClick:()=>_e((l==null?void 0:l.profile.role)===Jt.TEACHER?"teacher":"student"),className:"fixed bottom-8 right-8 p-5 bg-sky-500 rounded-3xl shadow-2xl z-50 hover:scale-110 active:scale-95 transition-all border-4 border-slate-900 group",children:v.jsx("svg",{className:"w-8 h-8 text-white group-hover:rotate-12 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})},wb=()=>{const s=document.getElementById("root"),n=document.getElementById("fallback-loader"),l=()=>{n&&(n.style.opacity="0",setTimeout(()=>n.remove(),300))};if(!s){console.error("Critical: Root not found");return}try{Nv.createRoot(s).render(v.jsx(_b,{})),l()}catch(r){console.error("Mount error:",r),l(),s.innerHTML=`<div style="color:white; padding:20px; font-family:sans-serif;">Error al iniciar: ${r}</div>`}};wb();
